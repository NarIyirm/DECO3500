(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[908],{12660:(Te,le,i)=>{"use strict";i.d(le,{A:()=>m});var r=i(74059),b=i(51044),v=i(86634),x=i.n(v),A=i(35433),Y=i(57464);class m extends b.PureComponent{constructor(){super(...arguments),(0,r.A)(this,"getClassName",()=>{const{className:z,type:de,size:ue,corner:ne,disabled:q}=this.props;return x()(z,"button-root",{["type-"+de]:de,["size-"+ue]:ue,["corner-"+ne]:ne,"is-disabled":q})}),(0,r.A)(this,"onButtonClick",z=>{if(this.props.disabled){z.preventDefault();return}const{onClick:de}=this.props;de&&de(z)}),(0,r.A)(this,"onButtonMouseDown",z=>{if(this.props.disabled){z.preventDefault();return}const{onMouseDown:de}=this.props;de&&de(z)}),(0,r.A)(this,"getChildrenNode",()=>(0,Y.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const z=this.getClassName(),de=this.getChildrenNode();return(0,Y.jsx)(A.O,{className:z,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,Y.jsx)("div",{className:"btn-icon-text-container",children:de})})}}(0,r.A)(m,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},80467:(Te,le,i)=>{"use strict";i.d(le,{A:()=>z});var r=i(74059),b=i(51044),v=i(86634),x=i.n(v),A=i(57464);function Y(de){let{className:ue,renderIconList:ne}=de;return(0,A.jsx)("span",{className:x()("btn-icon",ue),children:ne.map((q,J)=>(0,A.jsx)("span",{className:"btn-icon-container",children:(0,A.jsx)(A.Fragment,{children:q})},J))})}const m=Y;var L=i(35433);class z extends b.PureComponent{constructor(ue){super(ue),(0,r.A)(this,"getClassName",()=>{const{className:ne,type:q,size:J,corner:Z,disabled:H,icon:V,children:d}=this.props;return x()(ne,"button-root",{["type-"+q]:q,["size-"+J]:J,["corner-"+Z]:Z,"is-disabled":H,"has-icon":V&&d,"only-icon":V&&d===void 0})}),(0,r.A)(this,"onButtonClick",ne=>{if(this.props.disabled){ne.preventDefault();return}const{onClick:q}=this.props;q&&q(ne)}),(0,r.A)(this,"getIconNode",()=>(0,A.jsx)(m,{renderIconList:this.state.iconList,className:this.props.className})),(0,r.A)(this,"getChildrenNode",()=>(0,A.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(ue){let{icon:ne}=ue;const{icon:q}=this.props;ne!==q&&this.setState({iconList:q?[this.props.icon]:[]})}render(){const ue=this.getClassName(),ne=this.getIconNode(),q=this.getChildrenNode();return(0,A.jsx)(L.O,{className:ue,onClick:this.onButtonClick,children:(0,A.jsxs)("div",{className:x()("btn-icon-text-container"),children:[ne,q]})})}}(0,r.A)(z,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},35433:(Te,le,i)=>{"use strict";i.d(le,{O:()=>v});var r=i(21676),b=i(10473);const v=r.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-1of337d-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],b.q.color_text_L2,b.q.color_bg_normal,b.q.color_split_line,b.q.color_bg_btn_normal_hover,b.q.color_bg_btn_normal_active,b.q.color_text_white,b.q.color_btn_primary_normal,b.q.color_btn_primary_hover,b.q.color_btn_primary_click,b.q.color_text_L2,b.q.color_bg_secondary_btn,b.q.color_btn_secondary_border_normal,b.q.color_btn_secondary_hover,b.q.color_btn_secondary_border_hover,b.q.color_btn_secondary_click,b.q.color_btn_primary_normal,b.q.color_btn_primary_hover,b.q.color_btn_primary_click,b.q.color_text_L2,b.q.color_text_L3,b.q.color_text_L1,b.q.color_btn_danger_normal,b.q.color_text_white,b.q.color_btn_danger_hover,b.q.color_btn_danger_click,b.q.color_text_L2,b.q.color_text_L3,b.q.color_text_L1)},10473:(Te,le,i)=>{"use strict";i.d(le,{q:()=>b});const r={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},b={color_btn_primary_normal:r.primary_blue_02,color_btn_primary_hover:r.primary_blue_03,color_btn_primary_click:r.primary_blue_01,color_btn_primary_disable:r.primary_blue_05,color_btn_secondary_click:r.primary_blue_06,color_btn_secondary_normal:r.primary_blue_08,color_btn_secondary_hover:r.primary_blue_07,color_btn_outline_click:r.primary_gray_07,color_btn_outline_normal:r.common_white,color_btn_outline_hover:r.primary_gray_08,color_bg_normal:r.common_white,color_bg_card:r.primary_blue_08,color_bg_menu_click:r.primary_blue_06,color_bg_card_hover:r.primary_gray_07,color_bg_menu_hover:r.primary_blue_07,color_bg_input_hover:r.primary_gray_08,color_bg_input_normal:r.primary_gray_09,color_bg_item_gray:r.primary_gray_08,color_bg_item_hover:r.primary_gray_09,color_bg_fill_common_blue:r.primary_blue_02,color_bg_menu_drag_border:r.primary_blue_06,color_bg_card_hover_fusion_gray:r.primary_gray_06,color_bg_card_hover_fusion_blue:r.primary_blue_05,color_bg_card_hover_fusion:r.primary_gray_06,color_bg_secondary_btn:r.primary_blue_08,color_bg_btn_normal_hover:r.primary_gray_08,color_bg_btn_normal_active:r.primary_gray_07,color_bg_icon_gray:r.primary_gray_04,color_bg_icon_hover:r.primary_gray_03,color_text_L1:r.primary_gray_01,color_text_L2:r.primary_gray_02,color_text_L3:r.primary_gray_03,color_text_L4:r.primary_gray_04,color_text_L5:r.primary_blue_02,color_text_white:r.common_white,color_text_blue:r.primary_blue_02,color_text_blue_hover:r.primary_blue_01,color_text_blue_active:r.primary_blue_03,color_text_disable_01:r.primary_gray_05,color_tab_line:r.primary_gray_06,color_split_line:r.primary_gray_07,color_border_blue_common:r.primary_blue_02,color_btn_border_normal:r.primary_blue_05,color_btn_border_disable:r.primary_blue_07,color_btn_secondary_border_normal:r.primary_blue_06,color_btn_secondary_border_hover:r.primary_blue_07,color_btn_danger_normal:r.primary_red_02,color_btn_danger_hover:r.primary_red_03,color_btn_danger_click:r.primary_red_01,color_btn_danger_disable:r.primary_red_04,color_bg_modal_item_header:r.primary_gray_09,color_bg_light_red:r.primary_red_05,color_alarm_common:r.primary_red_02}},23990:(Te,le,i)=>{"use strict";i.d(le,{B7:()=>q,DE:()=>b,DW:()=>m,Ds:()=>de,HS:()=>ne,OD:()=>L,SN:()=>H,Yo:()=>x,iv:()=>Z,rh:()=>A,sM:()=>Y,uP:()=>V,uz:()=>d,zi:()=>ue});const r=(C,f)=>{const g=new Error("[NO SENTRY] "+C);return Object.assign(g,f),g},b=async C=>{const f=await fetch(C,{credentials:"same-origin"});let g;try{g=await f.json()}catch(p){g={}}if(!f.ok)throw r("[fetchGetJSON] failed with "+f.status+": "+C,{...g,status:f.status});return g},v=async(C,f)=>{const g=await fetch(C,{credentials:"same-origin",body:JSON.stringify(f)});let p;try{p=await g.json()}catch(N){p={}}if(!g.ok)throw r("[fetchGetJSON] failed with "+g.status+": "+C,{...p,status:g.status});return p},x=async C=>{const f=await fetch(C,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});let g;try{g=await f.json()}catch(p){g={}}if(!f.ok)throw r("[fetchGetJSON] failed with "+f.status+": "+C,{...g,status:f.status});return g},A=async C=>{let f=await fetch(C,{credentials:"same-origin"});const g=f.headers;if(!f.ok)throw r("[fetchGetJSON] failed with "+f.status+": "+C,{...await f.json(),status:f.status});return f=await f.json(),{result:f,headers:g}},Y=async C=>{const f=await fetch(C,{method:"DELETE",credentials:"same-origin"});if(!f.ok)throw r("[fetchDeleteHead] failed with "+f.status+": "+C,{status:f.status})},m=async C=>{const f=await fetch(C,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});if(!f.ok)throw r("[fetchDeleteHead] failed with "+f.status+": "+C,{status:f.status})},L=async C=>{const f=await fetch(C,{method:"DELETE",credentials:"same-origin"});if(!f.ok)throw r("[fetchDeleteJSON] failed with "+f.status+": "+C,{...await f.json(),status:f.status});return f.json()},z=async(C,f)=>fetch(C,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(f)}),de=async(C,f)=>{const g=await z(C,f);if(!g.ok)throw r("[fetchPostHead] failed with "+g.status+": "+C,{status:g.status})},ue=async(C,f)=>{const g=await fetch(C,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPostJSON] failed with "+g.status+": "+C,{...await g.json(),status:g.status});return g.json()},ne=async(C,f)=>{const g=await fetch(C,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPostText] failed with "+g.status+": "+C,{status:g.status});return g.json()},q=async(C,f)=>{const g=await fetch(C,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPostJSON] failed with "+g.status+": "+C,{...await g.json(),status:g.status});return g.json()},J=async(C,f)=>{const g=await fetch(C,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:f});if(!g.ok)throw r("[fetchDeleteJSON] failed with "+g.status+": "+C,{url:C,status:g.status});return g.json()},Z=async(C,f)=>{const g=await fetch(C,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPutHead] failed with "+g.status+": "+C,{status:g.status})},H=async(C,f)=>{const g=await fetch(C,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPutJSON] failed with "+g.status+": "+C,{...await g.json(),status:g.status});return g.json()},V=async(C,f)=>{const g=await fetch(C,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchPutJSON] failed with "+g.status+": "+C,{...await g.json(),status:g.status});return g.json()},d=async(C,f)=>{const g=await fetch(C,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw r("[fetchDeleteBodyHead] failed with "+g.status+": "+C)}},92200:(Te,le,i)=>{"use strict";i.d(le,{N:()=>v,l:()=>x});var r=i(14841),b=i(64161);const v=async(A,Y,m)=>{const[L,z]=await(0,r.Vz)(b.r,A),de="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:Y,treLen:String(z.byteLength),treRawLen:String(L)}),ue=await fetch(de,{method:"POST",body:z,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(m))}});if(!ue.ok)throw Object.assign(new Error("failed to create new flpak: "+de),{message:await ue.text(),status:ue.status});return ue.json()},x=async(A,Y,m)=>{const[L,z]=await(0,r.Vz)(b.r,A),de="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:Y,treLen:String(z.byteLength),treRawLen:String(L)}),ue=await fetch(de,{method:"POST",body:z,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(m))}});if(!ue.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+de),{message:await ue.text(),status:ue.status});return ue.json()}},204:(Te,le,i)=>{"use strict";i.d(le,{pX:()=>vr,O3:()=>As,ur:()=>Es});var r={};if(i.r(r),i.d(r,{Decoder:()=>Wn,Encoder:()=>Wt,PacketType:()=>rt,protocol:()=>Ws}),i.j!=15)var b=i(25506);if(i.j!=15)var v=i(16515);const x=Object.create(null);x.open="0",x.close="1",x.ping="2",x.pong="3",x.message="4",x.upgrade="5",x.noop="6";const A=Object.create(null);Object.keys(x).forEach(s=>{A[x[s]]=s});const Y={type:"error",data:"parser error"},m=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",L=typeof ArrayBuffer=="function",z=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,de=(s,t,n)=>{let{type:u,data:I}=s;return m&&I instanceof Blob?t?n(I):ue(I,n):L&&(I instanceof ArrayBuffer||z(I))?t?n(I):ue(new Blob([I]),n):n(x[u]+(I||""))},ue=(s,t)=>{const n=new FileReader;return n.onload=function(){const u=n.result.split(",")[1];t("b"+(u||""))},n.readAsDataURL(s)};function ne(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let q;function J(s,t){if(m&&s.data instanceof Blob)return s.data.arrayBuffer().then(ne).then(t);if(L&&(s.data instanceof ArrayBuffer||z(s.data)))return t(ne(s.data));de(s,!1,n=>{q||(q=new TextEncoder),t(q.encode(n))})}const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Z.length;s++)H[Z.charCodeAt(s)]=s;const V=s=>{let t=new Uint8Array(s),n,u=t.length,I="";for(n=0;n<u;n+=3)I+=Z[t[n]>>2],I+=Z[(t[n]&3)<<4|t[n+1]>>4],I+=Z[(t[n+1]&15)<<2|t[n+2]>>6],I+=Z[t[n+2]&63];return u%3===2?I=I.substring(0,I.length-1)+"=":u%3===1&&(I=I.substring(0,I.length-2)+"=="),I},d=s=>{let t=s.length*.75,n=s.length,u,I=0,$,Ce,_e,Ie;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const De=new ArrayBuffer(t),ke=new Uint8Array(De);for(u=0;u<n;u+=4)$=H[s.charCodeAt(u)],Ce=H[s.charCodeAt(u+1)],_e=H[s.charCodeAt(u+2)],Ie=H[s.charCodeAt(u+3)],ke[I++]=$<<2|Ce>>4,ke[I++]=(Ce&15)<<4|_e>>2,ke[I++]=(_e&3)<<6|Ie&63;return De},C=typeof ArrayBuffer=="function",f=(s,t)=>{if(typeof s!="string")return{type:"message",data:p(s,t)};const n=s.charAt(0);return n==="b"?{type:"message",data:g(s.substring(1),t)}:A[n]?s.length>1?{type:A[n],data:s.substring(1)}:{type:A[n]}:Y},g=(s,t)=>{if(C){const n=d(s);return p(n,t)}else return{base64:!0,data:s}},p=(s,t)=>{switch(t){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},N="",j=(s,t)=>{const n=s.length,u=new Array(n);let I=0;s.forEach(($,Ce)=>{de($,!1,_e=>{u[Ce]=_e,++I===n&&t(u.join(N))})})},P=(s,t)=>{const n=s.split(N),u=[];for(let I=0;I<n.length;I++){const $=f(n[I],t);if(u.push($),$.type==="error")break}return u};function B(){return new TransformStream({transform(s,t){J(s,n=>{const u=n.length;let I;if(u<126)I=new Uint8Array(1),new DataView(I.buffer).setUint8(0,u);else if(u<65536){I=new Uint8Array(3);const $=new DataView(I.buffer);$.setUint8(0,126),$.setUint16(1,u)}else{I=new Uint8Array(9);const $=new DataView(I.buffer);$.setUint8(0,127),$.setBigUint64(1,BigInt(u))}s.data&&typeof s.data!="string"&&(I[0]|=128),t.enqueue(I),t.enqueue(n)})}})}let w;function D(s){return s.reduce((t,n)=>t+n.length,0)}function re(s,t){if(s[0].length===t)return s.shift();const n=new Uint8Array(t);let u=0;for(let I=0;I<t;I++)n[I]=s[0][u++],u===s[0].length&&(s.shift(),u=0);return s.length&&u<s[0].length&&(s[0]=s[0].slice(u)),n}function me(s,t){w||(w=new TextDecoder);const n=[];let u=0,I=-1,$=!1;return new TransformStream({transform(Ce,_e){for(n.push(Ce);;){if(u===0){if(D(n)<1)break;const Ie=re(n,1);$=(Ie[0]&128)===128,I=Ie[0]&127,I<126?u=3:I===126?u=1:u=2}else if(u===1){if(D(n)<2)break;const Ie=re(n,2);I=new DataView(Ie.buffer,Ie.byteOffset,Ie.length).getUint16(0),u=3}else if(u===2){if(D(n)<8)break;const Ie=re(n,8),De=new DataView(Ie.buffer,Ie.byteOffset,Ie.length),ke=De.getUint32(0);if(ke>Math.pow(2,21)-1){_e.enqueue(Y);break}I=ke*Math.pow(2,32)+De.getUint32(4),u=3}else{if(D(n)<I)break;const Ie=re(n,I);_e.enqueue(f($?Ie:w.decode(Ie),t)),u=0}if(I===0||I>s){_e.enqueue(Y);break}}}})}const ie=4;function ae(s){if(s)return X(s)}function X(s){for(var t in ae.prototype)s[t]=ae.prototype[t];return s}ae.prototype.on=ae.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this},ae.prototype.once=function(s,t){function n(){this.off(s,n),t.apply(this,arguments)}return n.fn=t,this.on(s,n),this},ae.prototype.off=ae.prototype.removeListener=ae.prototype.removeAllListeners=ae.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var u,I=0;I<n.length;I++)if(u=n[I],u===t||u.fn===t){n.splice(I,1);break}return n.length===0&&delete this._callbacks["$"+s],this},ae.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+s],u=1;u<arguments.length;u++)t[u-1]=arguments[u];if(n){n=n.slice(0);for(var u=0,I=n.length;u<I;++u)n[u].apply(this,t)}return this},ae.prototype.emitReserved=ae.prototype.emit,ae.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},ae.prototype.hasListeners=function(s){return!!this.listeners(s).length};const U=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function R(s){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return n.reduce((I,$)=>(s.hasOwnProperty($)&&(I[$]=s[$]),I),{})}const Q=U.setTimeout,ye=U.clearTimeout;function Se(s,t){t.useNativeTimers?(s.setTimeoutFn=Q.bind(U),s.clearTimeoutFn=ye.bind(U)):(s.setTimeoutFn=U.setTimeout.bind(U),s.clearTimeoutFn=U.clearTimeout.bind(U))}const Ae=1.33;function Re(s){return typeof s=="string"?ze(s):Math.ceil((s.byteLength||s.size)*Ae)}function ze(s){let t=0,n=0;for(let u=0,I=s.length;u<I;u++)t=s.charCodeAt(u),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(u++,n+=4);return n}function Ve(s){let t="";for(let n in s)s.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return t}function $e(s){let t={},n=s.split("&");for(let u=0,I=n.length;u<I;u++){let $=n[u].split("=");t[decodeURIComponent($[0])]=decodeURIComponent($[1])}return t}class xt extends Error{constructor(t,n,u){super(t),this.description=n,this.context=u,this.type="TransportError"}}class ht extends ae{constructor(t){super(),this.writable=!1,Se(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,u){return super.emitReserved("error",new xt(t,n,u)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=f(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n){return n===void 0&&(n={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Ve(t);return n.length?"?"+n:""}}const St="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Tt=64,Ct={};let jt=0,o=0,Ut;function Rt(s){let t="";do t=St[s%Tt]+t,s=Math.floor(s/Tt);while(s>0);return t}function on(s){let t=0;for(o=0;o<s.length;o++)t=t*Tt+Ct[s.charAt(o)];return t}function Gt(){const s=Rt(+new Date);return s!==Ut?(jt=0,Ut=s):s+"."+Rt(jt++)}for(;o<Tt;o++)Ct[St[o]]=o;let en=!1;try{en=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(s){}const Ot=en;function Kt(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ot))return new XMLHttpRequest}catch(n){}if(!t)try{return new U[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function is(){}function Dn(){}const Rn=function(){return new Kt({xdomain:!1}).responseType!=null}();class zn extends ht{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const u=location.protocol==="https:";let I=location.port;I||(I=u?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||I!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Rn&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let u=0;this.polling&&(u++,this.once("pollComplete",function(){--u||n()})),this.writable||(u++,this.once("drain",function(){--u||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=u=>{if(this.readyState==="opening"&&u.type==="open"&&this.onOpen(),u.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(u)};P(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,j(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Gt()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new vt(this.uri(),t)}doWrite(t,n){const u=this.request({method:"POST",data:t});u.on("success",n),u.on("error",(I,$)=>{this.onError("xhr post error",I,$)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,u)=>{this.onError("xhr poll error",n,u)}),this.pollXhr=t}}class vt extends ae{constructor(t,n){super(),Se(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=R(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const u=this.xhr=new Kt(n);try{u.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){u.setDisableHeaderCheck&&u.setDisableHeaderCheck(!0);for(let I in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(I)&&u.setRequestHeader(I,this.opts.extraHeaders[I])}}catch(I){}if(this.method==="POST")try{u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(I){}try{u.setRequestHeader("Accept","*/*")}catch(I){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(u),"withCredentials"in u&&(u.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(u.timeout=this.opts.requestTimeout),u.onreadystatechange=()=>{var I;u.readyState===3&&((I=this.opts.cookieJar)===null||I===void 0||I.parseCookies(u)),u.readyState===4&&(u.status===200||u.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof u.status=="number"?u.status:0)},0))},u.send(this.data)}catch(I){this.setTimeoutFn(()=>{this.onError(I)},0);return}typeof document<"u"&&(this.index=vt.requestsCount++,vt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Dn,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete vt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(vt.requestsCount=0,vt.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",an);else if(typeof addEventListener=="function"){const s="onpagehide"in U?"pagehide":"unload";addEventListener(s,an,!1)}}function an(){for(let s in vt.requests)vt.requests.hasOwnProperty(s)&&vt.requests[s].abort()}const ce=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),pe=U.WebSocket||U.MozWebSocket,ve=!0,Pe="arraybuffer",Qe=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bt extends ht{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,u=Qe?{}:R(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(u.headers=this.opts.extraHeaders);try{this.ws=ve&&!Qe?n?new pe(t,n):new pe(t):new pe(t,n,u)}catch(I){return this.emitReserved("error",I)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const u=t[n],I=n===t.length-1;de(u,this.supportsBinary,$=>{const Ce={};ve||(u.options&&(Ce.compress=u.options.compress),this.opts.perMessageDeflate&&(typeof $=="string"?Buffer.byteLength($):$.length)<this.opts.perMessageDeflate.threshold&&(Ce.compress=!1));try{ve?this.ws.send($):this.ws.send($,Ce)}catch(_e){}I&&ce(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Gt()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!pe}}class dt extends ht{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=me(Number.MAX_SAFE_INTEGER,this.socket.binaryType),u=t.readable.pipeThrough(n).getReader(),I=B();I.readable.pipeTo(t.writable),this.writer=I.writable.getWriter();const $=()=>{u.read().then(_e=>{let{done:Ie,value:De}=_e;Ie||(this.onPacket(De),$())}).catch(_e=>{})};$();const Ce={type:"open"};this.query.sid&&(Ce.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Ce).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const u=t[n],I=n===t.length-1;this.writer.write(u).then(()=>{I&&ce(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const mn={websocket:bt,webtransport:dt,polling:zn},tn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ls=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fn(s){if(s.length>2e3)throw"URI too long";const t=s,n=s.indexOf("["),u=s.indexOf("]");n!=-1&&u!=-1&&(s=s.substring(0,n)+s.substring(n,u).replace(/:/g,";")+s.substring(u,s.length));let I=tn.exec(s||""),$={},Ce=14;for(;Ce--;)$[Ls[Ce]]=I[Ce]||"";return n!=-1&&u!=-1&&($.source=t,$.host=$.host.substring(1,$.host.length-1).replace(/;/g,":"),$.authority=$.authority.replace("[","").replace("]","").replace(/;/g,":"),$.ipv6uri=!0),$.pathNames=Ds($,$.path),$.queryKey=Rs($,$.query),$}function Ds(s,t){const n=/\/{2,9}/g,u=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&u.splice(0,1),t.slice(-1)=="/"&&u.splice(u.length-1,1),u}function Rs(s,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,I,$){I&&(n[I]=$)}),n}class Ht extends ae{constructor(t,n){n===void 0&&(n={}),super(),this.binaryType=Pe,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Fn(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Fn(n.host).host),Se(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$e(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ie,n.transport=t,this.id&&(n.sid=this.id);const u=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new mn[t](u)}open(){let t;if(this.opts.rememberUpgrade&&Ht.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),u=!1;Ht.priorWebsocketSuccess=!1;const I=()=>{u||(n.send([{type:"ping",data:"probe"}]),n.once("packet",Ue=>{if(!u)if(Ue.type==="pong"&&Ue.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ht.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{u||this.readyState!=="closed"&&(ke(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const he=new Error("probe error");he.transport=n.name,this.emitReserved("upgradeError",he)}}))};function $(){u||(u=!0,ke(),n.close(),n=null)}const Ce=Ue=>{const he=new Error("probe error: "+Ue);he.transport=n.name,$(),this.emitReserved("upgradeError",he)};function _e(){Ce("transport closed")}function Ie(){Ce("socket closed")}function De(Ue){n&&Ue.name!==n.name&&$()}const ke=()=>{n.removeListener("open",I),n.removeListener("error",Ce),n.removeListener("close",_e),this.off("close",Ie),this.off("upgrading",De)};n.once("open",I),n.once("error",Ce),n.once("close",_e),this.once("close",Ie),this.once("upgrading",De),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{u||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ht.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let u=0;u<this.writeBuffer.length;u++){const I=this.writeBuffer[u].data;if(I&&(n+=Re(I)),u>0&&n>this.maxPayload)return this.writeBuffer.slice(0,u);n+=2}return this.writeBuffer}write(t,n,u){return this.sendPacket("message",t,n,u),this}send(t,n,u){return this.sendPacket("message",t,n,u),this}sendPacket(t,n,u,I){if(typeof n=="function"&&(I=n,n=void 0),typeof u=="function"&&(I=u,u=null),this.readyState==="closing"||this.readyState==="closed")return;u=u||{},u.compress=u.compress!==!1;const $={type:t,data:n,options:u};this.emitReserved("packetCreate",$),this.writeBuffer.push($),I&&this.once("flush",I),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},u=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?u():t()}):this.upgrading?u():t()),this}onError(t){Ht.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let u=0;const I=t.length;for(;u<I;u++)~this.transports.indexOf(t[u])&&n.push(t[u]);return n}}Ht.protocol=ie;const cn=Ht.protocol;function Sn(s,t,n){t===void 0&&(t="");let u=s;n=n||typeof location<"u"&&location,s==null&&(s=n.protocol+"//"+n.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=n.protocol+s:s=n.host+s),/^(https?|wss?):\/\//.test(s)||(typeof n<"u"?s=n.protocol+"//"+s:s="https://"+s),u=Fn(s)),u.port||(/^(http|ws)$/.test(u.protocol)?u.port="80":/^(http|ws)s$/.test(u.protocol)&&(u.port="443")),u.path=u.path||"/";const $=u.host.indexOf(":")!==-1?"["+u.host+"]":u.host;return u.id=u.protocol+"://"+$+":"+u.port+t,u.href=u.protocol+"://"+$+(n&&n.port===u.port?"":":"+u.port),u}const zs=typeof ArrayBuffer=="function",Fs=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Cn=Object.prototype.toString,gn=typeof Blob=="function"||typeof Blob<"u"&&Cn.call(Blob)==="[object BlobConstructor]",Bn=typeof File=="function"||typeof File<"u"&&Cn.call(File)==="[object FileConstructor]";function ln(s){return zs&&(s instanceof ArrayBuffer||Fs(s))||gn&&s instanceof Blob||Bn&&s instanceof File}function Mn(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let n=0,u=s.length;n<u;n++)if(Mn(s[n]))return!0;return!1}if(ln(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Mn(s.toJSON(),!0);for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&Mn(s[n]))return!0;return!1}function Bs(s){const t=[],n=s.data,u=s;return u.data=Un(n,t),u.attachments=t.length,{packet:u,buffers:t}}function Un(s,t){if(!s)return s;if(ln(s)){const n={_placeholder:!0,num:t.length};return t.push(s),n}else if(Array.isArray(s)){const n=new Array(s.length);for(let u=0;u<s.length;u++)n[u]=Un(s[u],t);return n}else if(typeof s=="object"&&!(s instanceof Date)){const n={};for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=Un(s[u],t));return n}return s}function Us(s,t){return s.data=Hn(s.data,t),delete s.attachments,s}function Hn(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let n=0;n<s.length;n++)s[n]=Hn(s[n],t);else if(typeof s=="object")for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(s[n]=Hn(s[n],t));return s}const Hs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ws=5;var rt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(rt||(rt={}));class Wt{constructor(t){this.replacer=t}encode(t){return(t.type===rt.EVENT||t.type===rt.ACK)&&Mn(t)?this.encodeAsBinary({type:t.type===rt.EVENT?rt.BINARY_EVENT:rt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===rt.BINARY_EVENT||t.type===rt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Bs(t),u=this.encodeAsString(n.packet),I=n.buffers;return I.unshift(u),I}}function os(s){return Object.prototype.toString.call(s)==="[object Object]"}class Wn extends ae{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const u=n.type===rt.BINARY_EVENT;u||n.type===rt.BINARY_ACK?(n.type=u?rt.EVENT:rt.ACK,this.reconstructor=new Vs(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ln(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const u={type:Number(t.charAt(0))};if(rt[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===rt.BINARY_EVENT||u.type===rt.BINARY_ACK){const $=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const Ce=t.substring($,n);if(Ce!=Number(Ce)||t.charAt(n)!=="-")throw new Error("Illegal attachments");u.attachments=Number(Ce)}if(t.charAt(n+1)==="/"){const $=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););u.nsp=t.substring($,n)}else u.nsp="/";const I=t.charAt(n+1);if(I!==""&&Number(I)==I){const $=n+1;for(;++n;){const Ce=t.charAt(n);if(Ce==null||Number(Ce)!=Ce){--n;break}if(n===t.length)break}u.id=Number(t.substring($,n+1))}if(t.charAt(++n)){const $=this.tryParse(t.substr(n));if(Wn.isPayloadValid(u.type,$))u.data=$;else throw new Error("invalid payload")}return u}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case rt.CONNECT:return os(n);case rt.DISCONNECT:return n===void 0;case rt.CONNECT_ERROR:return typeof n=="string"||os(n);case rt.EVENT:case rt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Hs.indexOf(n[0])===-1);case rt.ACK:case rt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vs{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Us(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function zt(s,t,n){return s.on(t,n),function(){s.off(t,n)}}const Ys=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class as extends ae{constructor(t,n,u){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,u&&u.auth&&(this.auth=u.auth),this._opts=Object.assign({},u),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zt(t,"open",this.onopen.bind(this)),zt(t,"packet",this.onpacket.bind(this)),zt(t,"error",this.onerror.bind(this)),zt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return n.unshift("message"),this.emit.apply(this,n),this}emit(t){if(Ys.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var n=arguments.length,u=new Array(n>1?n-1:0),I=1;I<n;I++)u[I-1]=arguments[I];if(u.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(u),this;const $={type:rt.EVENT,data:u};if($.options={},$.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){const Ie=this.ids++,De=u.pop();this._registerAckCallback(Ie,De),$.id=Ie}const Ce=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Ce||!this.connected)||(this.connected?(this.notifyOutgoingListeners($),this.packet($)):this.sendBuffer.push($)),this.flags={},this}_registerAckCallback(t,n){var u=this,I;const $=(I=this.flags.timeout)!==null&&I!==void 0?I:this._opts.ackTimeout;if($===void 0){this.acks[t]=n;return}const Ce=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Ie=0;Ie<this.sendBuffer.length;Ie++)this.sendBuffer[Ie].id===t&&this.sendBuffer.splice(Ie,1);n.call(this,new Error("operation has timed out"))},$),_e=function(){u.io.clearTimeoutFn(Ce);for(var Ie=arguments.length,De=new Array(Ie),ke=0;ke<Ie;ke++)De[ke]=arguments[ke];n.apply(u,De)};_e.withError=!0,this.acks[t]=_e}emitWithAck(t){for(var n=arguments.length,u=new Array(n>1?n-1:0),I=1;I<n;I++)u[I-1]=arguments[I];return new Promise(($,Ce)=>{const _e=(Ie,De)=>Ie?Ce(Ie):$(De);_e.withError=!0,u.push(_e),this.emit(t,...u)})}_addToQueue(t){var n=this;let u;typeof t[t.length-1]=="function"&&(u=t.pop());const I={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function($){if(I!==n._queue[0])return;if($!==null)I.tryCount>n._opts.retries&&(n._queue.shift(),u&&u($));else if(n._queue.shift(),u){for(var _e=arguments.length,Ie=new Array(_e>1?_e-1:0),De=1;De<_e;De++)Ie[De-1]=arguments[De];u(null,...Ie)}return I.pending=!1,n._drainQueue()}),this._queue.push(I),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(u=>String(u.id)===t)){const u=this.acks[t];delete this.acks[t],u.withError&&u.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case rt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rt.EVENT:case rt.BINARY_EVENT:this.onevent(t);break;case rt.ACK:case rt.BINARY_ACK:this.onack(t);break;case rt.DISCONNECT:this.ondisconnect();break;case rt.CONNECT_ERROR:this.destroy();const u=new Error(t.data.message);u.data=t.data.data,this.emitReserved("connect_error",u);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const u of n)u.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let u=!1;return function(){if(!u){u=!0;for(var I=arguments.length,$=new Array(I),Ce=0;Ce<I;Ce++)$[Ce]=arguments[Ce];n.packet({type:rt.ACK,id:t,data:$})}}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let u=0;u<n.length;u++)if(t===n[u])return n.splice(u,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let u=0;u<n.length;u++)if(t===n[u])return n.splice(u,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const u of n)u.apply(this,t.data)}}}function Vt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Vt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*s);s=Math.floor(t*10)&1?s+n:s-n}return Math.min(s,this.max)|0},Vt.prototype.reset=function(){this.attempts=0},Vt.prototype.setMin=function(s){this.ms=s},Vt.prototype.setMax=function(s){this.max=s},Vt.prototype.setJitter=function(s){this.jitter=s};class Nn extends ae{constructor(t,n){var u;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Se(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((u=n.randomizationFactor)!==null&&u!==void 0?u:.5),this.backoff=new Vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const I=n.parser||r;this.encoder=new I.Encoder,this.decoder=new I.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ht(this.uri,this.opts);const n=this.engine,u=this;this._readyState="opening",this.skipReconnect=!1;const I=zt(n,"open",function(){u.onopen(),t&&t()}),$=_e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",_e),t?t(_e):this.maybeReconnectOnOpen()},Ce=zt(n,"error",$);if(this._timeout!==!1){const _e=this._timeout,Ie=this.setTimeoutFn(()=>{I(),$(new Error("timeout")),n.close()},_e);this.opts.autoUnref&&Ie.unref(),this.subs.push(()=>{this.clearTimeoutFn(Ie)})}return this.subs.push(I),this.subs.push(Ce),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zt(t,"ping",this.onping.bind(this)),zt(t,"data",this.ondata.bind(this)),zt(t,"error",this.onerror.bind(this)),zt(t,"close",this.onclose.bind(this)),zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ce(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let u=this.nsps[t];return u?this._autoConnect&&!u.active&&u.connect():(u=new as(this,t,n),this.nsps[t]=u),u}_destroy(t){const n=Object.keys(this.nsps);for(const u of n)if(this.nsps[u].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let u=0;u<n.length;u++)this.engine.write(n[u],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const u=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(I=>{I?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",I)):t.onreconnect()}))},n);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fn={};function jn(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const n=Sn(s,t.path||"/socket.io"),u=n.source,I=n.id,$=n.path,Ce=fn[I]&&$ in fn[I].nsps,_e=t.forceNew||t["force new connection"]||t.multiplex===!1||Ce;let Ie;return _e?Ie=new Nn(u,t):(fn[I]||(fn[I]=new Nn(u,t)),Ie=fn[I]),n.query&&!t.query&&(t.query=n.queryKey),Ie.socket(n.path,t)}if(Object.assign(jn,{Manager:Nn,Socket:as,io:jn,connect:jn}),i.j!=15)var Vn=i(89509);if(i.j!=15)var mt=i(74420);if(i.j!=15)var Lt=i(5775);if(i.j!=15)var Zs=i(77125);const yn=i.j!=15?2*1e3:null,In=i.j!=15?24*1e3:null,cs=i.j!=15?48*1e3:null,kn=()=>{},ls=()=>({destroy:kn,reset:kn,emitAsync:Gs,emitLossy:kn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Gs=async(s,t)=>({type:s,payload:t,isDummy:!0}),Ks=s=>{let{query:{uId:t,fURL:n=globalThis.location.href.slice(0,128),uTag:u=mt.CH,vTag:I=Zs.r,rKey:$},lossyListenerMap:Ce={},queueListenerMap:_e={},socketUrl:Ie=globalThis.location.origin,socketPath:De=mt.$r,usePolling:ke=!1}=s;if(!t||!$)throw new Error("SKT bad query");const Ue=(0,Vn.I6)();let he,ge=(0,b.wT)(),Ne=0,Fe=null;const qe=()=>{he!==void 0&&(he.close(),he=void 0,ge=(0,b.wT)(),ct=!1,Fe&&clearTimeout(Fe),Fe=null)},ut=()=>{qe();const Je=new Nn(Ie,{path:De,query:{uId:t,fURL:n,uTag:u,vTag:I,rKey:$},transports:ke?["polling","websocket"]:["websocket"],timeout:cs,reconnectionDelay:Math.round((yn+In)/2),reconnectionDelayMax:cs,randomizationFactor:(In-yn)/(In+yn),closeOnBeforeunload:!1}).socket(mt.I4);Je.on("connect_error",Oe=>{console.log("[socket] connect_error",Oe),Oe.message.includes(mt.uB)&&(qe(),Ue.dispatchEvent({type:mt.VU,payload:{error:Oe}})),Ue.dispatchEvent({type:mt.Ei,payload:{error:Oe}})}),Je.on("connect",async()=>{console.log("[socket] connect");{const Oe=Date.now(),Ke=await(0,b.hq)(Et(mt.Ip),10*1e3,mt.Ip).catch(async tt=>{throw(0,v.et)(ut,2*1e3),console.warn(mt.Ip,tt),ge.reject(tt),tt}),Ye=Date.now();Ne=Ke-(Oe+Ye)*.5}Fe=(0,v.et)(()=>{!he||!he.connected||ct||ut()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Ue.dispatchEvent({type:mt.zS}),ge.resolve()});{let Oe=Promise.resolve();const Ke=(Ye,tt)=>{const Ze=Oe.then(Ye);return Oe=Ze.then(kn,ft=>{(0,Lt.p)("SKT-QA-"+tt,ft)}),Ze};Ue.clear();for(const[Ye,tt]of Object.entries(Ce))Je.on(Ye,Ze=>tt({type:Ye,payload:Ze})),Ue.addEventListener(Ye,Ze=>{let{payload:ft}=Ze;return tt({type:Ye,payload:ft})});for(const[Ye,tt]of Object.entries(_e))Je.on(Ye,Ze=>Ke(()=>tt({type:Ye,payload:Ze}),Ye)),Ue.addEventListener(Ye,Ze=>{let{payload:ft}=Ze;return Ke(()=>tt({type:Ye,payload:ft}),Ye)})}he=Je};let ct=!1;const Et=async(Pt,Je)=>{ct=!0;const{error:Oe,result:Ke}=await(0,b.hq)(new Promise(Ye=>he.emit(Pt,Je,Ye)),42*1e3,"SKT-USR "+Pt).finally(()=>{ct=!1});if(Oe!==void 0)throw Object.assign(new Error(typeof Oe=="object"&&Oe.message||"SKT-USR "+Pt),Oe);return Ke},Mt=(Pt,Je)=>{he.volatile.emit(Pt,Je)};return ut(),{destroy:qe,reset:ut,emitAsync:Et,emitLossy:Mt,getIsConnected:()=>he&&he.connected||!1,getSocketId:()=>he&&he.id||"",getReadyPromise:()=>ge.promise,getOffsetMsec:()=>Ne}};var nn=i(13782),It=i(25629),ds=i(43476),gt=i(15094);if(i.j!=15)var ot=i(53266);if(i.j!=15)var kt=i(25196);var et=i(96155);const En=0,Yn={cDebugMin:En,cCmtPack:En+1,cCmtThread:En+2,cCmtContent:En+3,cDebugMax:35},dn=(0,et.W)("cmt-type",Yn),us=dn.pack("cCmtPack"),Zn=dn.pack("cCmtThread"),ps=dn.pack("cCmtContent"),Js=new Set(["cCmtPack","cCmtThread","cCmtContent"]),$s=new Set([us,Zn,ps]);if(i.j!=15)var bn=i(6950);const hs={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},ms=(0,et.W)("DraftBlockType",hs),Qs={left:0,center:1,right:2,justify:3},An=(0,et.W)("DraftAlignment",Qs),Xs={LINK:0,IMAGE:1},gs=(0,et.W)("DraftEntityMapType",Xs),qs={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},fs=(0,et.W)("DraftEntityMapMutability",qs),er={_blank:0,_self:1},ys=(0,et.W)("DraftLinkTargetOption",er),tr=s=>{const t={};return Object.keys(s).forEach(n=>{const{type:u,mutability:I,data:$}=s[n],Ce=[gs.pack(u),fs.pack(I)],_e=[];u==="LINK"?(Ce.push(ys.pack($.targetOption)),_e.push($.url||"")):u==="IMAGE"&&(Ce.push((0,ot.c5)($.width),An.pack($.alignment)),_e.push($.src||"",$.alt||"")),t["e/"+n]=[Ce.join(kt.xi),..._e]}),t},nr=s=>{const t={};for(const n of Object.keys(s)){if(!n.startsWith("e/"))continue;const u=n.split("e/")[1],[I,...$]=s[n],[Ce,_e,Ie,De]=I.split(kt.xi),ke=gs.parse(Ce),Ue=fs.parse(_e);t[u]=ke==="LINK"?{type:ke,mutability:Ue,data:{url:$[0],targetOption:ys.parse(Ie)}}:{type:ke,mutability:Ue,data:{src:$[0],alt:$[1],width:(0,ot._3)(Ie),alignment:An.parse(De)}}}return t},sr=s=>{const t={};return Object.keys(s).forEach(n=>{const{text:u,type:I,depth:$,inlineStyleRanges:Ce,entityRanges:_e,data:{textAlign:Ie,textIndent:De,paraSpacing:ke}}=s[n],Ue=[ms.packDef(I,"unstyled"),(0,ot.c5)($),Ie?An.pack(Ie):"",De!==void 0?(0,ot.c5)(De):"",ke!==void 0?(0,gt.ZI)(ke):""];t["b/"+n]=[Ue.join(kt.xi),u,Ce.map(he=>{let{offset:ge,length:Ne,style:Fe}=he;return or(ge,Ne,Fe)}),_e.map(he=>{let{offset:ge,length:Ne,key:Fe}=he;return rr(ge,Ne,Fe)})]}),t},rr=(s,t,n)=>""+(0,ot.c5)(s)+kt.xi+(0,ot.c5)(t)+kt.xi+(0,ot.c5)(n),ir=s=>{const t=s.indexOf(kt.xi),n=s.indexOf(kt.xi,t+1);return[(0,ot._3)(s.slice(0,t)),(0,ot._3)(s.slice(t+1,n)),(0,ot._3)(s.slice(n+1))]},or=(s,t,n)=>""+(0,ot.c5)(s)+kt.xi+(0,ot.c5)(t)+kt.xi+n,ar=s=>{const t=s.indexOf(kt.xi),n=s.indexOf(kt.xi,t+1);return[(0,ot._3)(s.slice(0,t)),(0,ot._3)(s.slice(t+1,n)),s.slice(n+1)]},cr=s=>{const t={};for(const n of Object.keys(s)){if(!n.startsWith("b/"))continue;const u=n.split("b/")[1],[I,$,Ce,_e]=s[n],[Ie,De,ke,Ue,he]=I.split(kt.xi),ge={};ke!==""&&(ge.textAlign=An.parse(ke)),Ue!==""&&(ge.textIndent=(0,ot._3)(Ue)),he!==""&&he!==void 0&&(ge.paraSpacing=(0,gt.bp)(he)),t[u]={text:$,type:ms.parse(Ie),depth:(0,ot._3)(De),inlineStyleRanges:Ce.map(Ne=>{const[Fe,qe,ut]=ar(Ne);return{offset:Fe,length:qe,style:ut}}),entityRanges:_e.map(Ne=>{const[Fe,qe,ut]=ir(Ne);return{offset:Fe,length:qe,key:ut}}),data:ge}}return t},bs=s=>{let{message:t}=s;const{blocks:n={},entityMap:u={}}=t;return{...sr(n),...tr(u)}},xs=s=>({message:{blocks:cr(s),entityMap:nr(s)}}),Gn=s=>({T:dn.pack(s.type),IC:[(0,ot.c5)(s.index),(0,ot.vH)(s.ctime)].join(kt.xi)}),Kn=s=>{const[t,n]=s.IC.split(kt.xi);return{type:dn.parse(s.T),index:(0,ot._3)(t),ctime:(0,ot.TT)(n)}},Jn=s=>({...Gn(s),R:s.refKey}),vs=s=>({...Kn(s),refKey:s.R}),$n=s=>({...Gn(s),...bs(s),xy:(0,gt.x3)(s.x,s.y),wh:(0,gt.x3)(s.w,s.h),z:(0,gt.ZI)(s.z),userInfo:s.userInfo,userId:(0,gt.ZI)(s.userId),mtime:(0,ot.vH)(s.mtime),isCompleted:(0,bn.rK)(s.isCompleted),canvasVec2:s.canvasVec2?{x:(0,gt.ZI)(s.canvasVec2.x),y:(0,gt.ZI)(s.canvasVec2.y)}:s.canvasVec2,canvasCid:s.canvasCid,threadType:s.threadType}),lr=s=>{const[t,n]=(0,gt.fm)(s.xy),[u,I]=(0,gt.fm)(s.wh),$=s.canvasVec2?(0,gt.bp)(s.canvasVec2.x):void 0,Ce=s.canvasVec2?(0,gt.bp)(s.canvasVec2.y):void 0,_e=(0,gt.bp)(s.z);return{...Kn(s),...xs(s),x:t,y:n,w:u,h:I,z:_e,mtime:(0,ot.TT)(s.mtime),userInfo:s.userInfo,userId:(0,gt.bp)(s.userId),isCompleted:(0,bn.Vf)(s.isCompleted),canvasCid:s.canvasCid,threadType:s.threadType,canvasVec2:$&&Ce?{x:$,y:Ce}:void 0}},dr=s=>({...Gn(s),...bs(s),mtime:(0,ot.vH)(s.mtime),userInfo:s.userInfo}),xn=s=>({...Kn(s),...xs(s),mtime:(0,ot.TT)(s.mtime),userInfo:s.userInfo}),Sr=s=>{try{switch(s.T){case void 0:return s;case us:return vs(s);case Zn:return lr(s);case ps:return xn(s);default:throw new Error("invalid attr: "+s.T+" -> "+dn.parse(s.T))}}catch(t){throw(0,Lt.p)("toP2CHA badDat",t,s),t}},ws=s=>{try{switch(s.type){case void 0:return s;case"cCmtPack":return Jn(s);case"cCmtThread":return $n(s);case"cCmtContent":return dr(s);default:throw new Error("invalid attr: "+s.type)}}catch(t){throw(0,Lt.p)("toP2CCA badDat",t,s),t}};if(i.j!=15)var ur=i(40349);const _s=(s,t)=>{const n=_e=>{const Ie=s(_e);return Ie===void 0?[]:Ie.sub.map(De=>s(De))},u=(0,ur.MX)(_e=>_e.sub.map(Ie=>s(Ie))),I=(_e,Ie)=>{const De=s(_e);De!==void 0&&(Ie(De)||De.sub.length!==0&&u(De,Ie))};return{getHotItem:s,getSubHotItemList:n,walkHotItemSubtree:I,isTrashed:_e=>(0,It.DM)(_e,t.getFlatTree()),__devHotTree:function(_e){_e===void 0&&(_e=It.gT);const Ie=new Map,De=ke=>{let Ue=Ie.get(ke);return Ue===void 0&&Ie.set(ke,Ue={}),Ue};return I(_e,ke=>{De(ke.sup)[ke.key]=ke.hotAttr,ke.sub.length!==0&&(De(ke.sup)[ke.key+" SUB"]=De(ke.key))}),De(s(_e).sup)}}};if(i.j!=15)var Qn=i(25684);if(i.j!=15)var Xn=i(97188);var pr=i(35457),Dt=i(15546);if(i.j!=15)var hr=i(87082);const mr=(s,t,n)=>{const u=he=>{if(he===void 0||he.length===0)return;const ge=new Set;for(const Fe of he)ge.add(Fe.key),Fe.type==="I"&&ge.add(Fe.keySup);const Ne=(0,It.CF)([...ge].filter(It.xe),n.getFlatTree());s({type:hr.a,payload:Ne})},I=he=>{const ge=[],Ne=he(ge);return u(n.applyDiff(ge)),Ne},$=he=>I(ge=>{const Ne=[],Fe=he(Ne);for(const qe of Ne)qe.type==="update"?De(qe.hotItem,ge):qe.type==="delete"&&ke(qe.key,ge);return Fe}),Ce=function(){const he=[],ge=[];let Ne,Fe=!1;for(var qe=arguments.length,ut=new Array(qe),ct=0;ct<qe;ct++)ut[ct]=arguments[ct];for(const Et of ut){Ne=Et(he);const Mt=n.applyDiff(he);Mt!==void 0&&(ge.push(...Mt),Fe?n.combineLastUndo():Fe=!0)}return u(ge),Ne},_e=function(){for(var he=arguments.length,ge=new Array(he),Ne=0;Ne<he;Ne++)ge[Ne]=arguments[Ne];const Fe=ge.map(qe=>ut=>{const ct=[],Et=qe(ct);for(const Mt of ct)Mt.type==="update"?De(Mt.hotItem,ut):Mt.type==="delete"&&ke(Mt.key,ut);return Et});return Ce(...Fe)},Ie=(he,ge)=>{for(const Ne of Object.keys(he)){const Fe=he[Ne],qe=ge[Ne];Fe!==qe&&(0,Qn.sw)(Fe)&&(0,Qn.sw)(qe)&&JSON.stringify(Fe)===JSON.stringify(qe)&&(he[Ne]=qe)}},De=(he,ge)=>{const Ne=(0,It.PV)(he.key,n.getFlatTree());if(Ne===void 0)ge.push({type:Dt.UF,key:he.key,keySup:he.sup}),ge.push({type:Dt.qC,key:he.key,attrDiff:ws(he.hotAttr)});else{Ne.sup!==he.sup&&ge.push({type:Dt.UF,key:he.key,keySup:he.sup});const Fe=ws(he.hotAttr);Ie(Fe,Ne.attr);const qe=(0,pr.m)(Fe,Ne.attr);qe!==void 0&&ge.push({type:Dt.qC,key:he.key,attrDiff:qe})}},ke=(he,ge)=>{n.getFlatItem(he)&&ge.push({type:Dt.UF,key:he,keySup:It.Ri})},Ue=(he,ge,Ne)=>{n.getFlatItem(he)&&n.getFlatItem(ge)&&Ne.push({type:Dt.UF,key:he,keySup:ge})};return{_edit:I,_editAction:$,_editBatch:Ce,_editActionBatch:_e,onRemotePatchList:he=>{const ge=[];for(const Ne of he){const Fe=n.applyDiffRemote(Ne.diffList,Ne.clock);Fe!==void 0&&ge.push(...Fe)}u(ge)},updateHotItem:he=>I(ge=>{De(he,ge)}),updateHotItemBatch:he=>I(ge=>{for(const Ne of he)De(Ne,ge)}),deleteHotItem:he=>I(ge=>{ke(he,ge)}),deleteHotItemBatch:he=>I(ge=>{for(const Ne of he)ke(Ne,ge)}),moveHotItem:(he,ge)=>I(Ne=>{Ue(he,ge,Ne)}),moveHotItemBatch:he=>I(ge=>{for(const[Ne,Fe]of he)Ue(Ne,Fe,ge)}),editHotItemBatch:he=>I(ge=>{for(const Ne of he)Ne.type==="update"?De(Ne.hotItem,ge):Ne.type==="delete"&&ke(Ne.key,ge)}),updateHotAttrMerge:(he,ge)=>I(Ne=>{const Fe=t(he);if(Fe===void 0)throw new Error("no item: "+he);De((0,Xn.MK)(Fe,"hotAttr",{...Fe.hotAttr,...ge}),Ne)}),updateHotAttrKV:(he,ge,Ne)=>I(Fe=>{const qe=t(he);if(qe===void 0)throw new Error("no item: "+he);De((0,Xn.MK)(qe,"hotAttr",(0,Xn.MK)(qe.hotAttr,ge,Ne)),Fe)}),canUndo:n.canUndo,canRedo:n.canRedo,combineMergeMark:n.combineMergeMark,combineMerge:n.combineMerge,undo:()=>{u(n.undo())},redo:()=>{u(n.redo())}}};var Tn=i(18856);const gr=s=>{const t=(0,Vn.wz)(),n=t.subscribe,u=t.unsubscribe,I=Ss(s),$=_s(I,s),Ce=()=>fr(s.getFlatTree),_e=mr(t.send,I,s),{_edit:Ie,_editAction:De,_editBatch:ke,_editActionBatch:Ue,...he}=_e;return{subscribe:n,unsubscribe:u,...$,createRoCmtStore:Ce,...he}},Ss=s=>t=>{const n=s.getFlatTree().get(t);if(n===void 0)return;const u=s.getOCI(n);return u.hotItem===void 0&&(u.hotItem={key:n.key,sup:n.sup,sub:n.sub,hotAttr:Sr(n.attr)}),u.hotItem},fr=s=>{const t=(0,Tn.b$)(s(),(0,nn.aF)({})),n=()=>t.getFlatTree()!==s(),u=()=>t.sync(s()),I=Ss(t),$=_s(I,t);return{hasUpdate:n,syncUpdate:u,...$}};var yr=i(92200),Cs=i(32076);if(i.j!=15)var Ms=i(6185);if(i.j!=15)var qn=i(13573);var Jt=i(39788),sn=i(14841),un=i(64161);const Ns=s=>{const[t,n,u]=s,I=async()=>(0,sn.BT)(un.r,t.tre),$=async function(ke){ke===void 0&&(ke=-1);const Ue=[];for(const{pbx:he,t10s:ge}of n){if(ge<ke)continue;const Ne=(0,qn.CE)(await un.r.gunzipU8AAsync(new Uint8Array(he)));for(const Fe of(0,Jt.Pb)(Ne))Ue.push(Fe)}for(const{pch:he,t10s:ge}of u)ge<ke||Ue.push(he);return Ue},Ce=async function(ke){ke===void 0&&(ke=-1);const Ue=[];for(const he of await $(ke))Ue.push((0,Dt.iz)(he));return Ue},_e=async function(ke){ke===void 0&&(ke=-1);const Ue=[];for(const he of await $(ke)){const{clock:ge,diffList:Ne}=(0,Dt.iz)(he);Ue.push([(0,nn._r)(ge).slice(5),Ne,he])}return Ue};return{getParsedTre:I,getPchList:$,getPatchList:Ce,getReadablePatchList:_e,filterReadablePatchList:async function(ke,Ue){return Ue===void 0&&(Ue=-1),(await _e(Ue)).filter(he=>{let[,,ge]=he;return ge.includes(ke)})},getMergedReadablePatchList:async function(ke,Ue){ke===void 0&&(ke=-1),Ue===void 0&&(Ue=16);const he=[];let ge={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Ne=Fe=>{ge.timePrefix!==Fe&&(ge.timePrefix!==""&&he.push(ge.timePrefix.slice(5)+"..Z I*"+(ge.countDI||"-")+" A*"+(ge.countDA||"-")+" ["+[...ge.userIdSet].join(",")+"]"),ge={timePrefix:Fe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Fe,qe],diffList:ut}of await Ce(ke)){const ct=new Date(Fe).toISOString().slice(0,Ue);Ne(ct),ge.userIdSet.add(qe);for(const{type:Et}of ut)Et===Dt.UF?ge.countDI++:ge.countDA++}return Ne(""),he},flpak:s}},js=s=>Math.floor(s/10/1e3),br=s=>{const[t]=(0,Dt.cx)(s);return js(t)},xr=s=>{let[t,n,u]=s;return u.length!==0?u[u.length-1].t10s:n.length!==0?n[n.length-1].t10s:t.t10s};if(i.j!=15)var $t=i(37375);const es=(s,t,n)=>{let u=!1,I=0,$=0;const Ce=new Map;let _e=[],Ie,De,ke,Ue;const he=Oe=>{let[Ke,,Ye]=Oe;if(Ke!==s)return!1;const tt=(0,Jt.vZ)(Ye);for(const Ze of tt)_e.push([Ze,br(Ze),!1]);return ke!==void 0&&ke(tt.map(Ze=>(0,Dt.iz)(Ze))),!0},ge=async(Oe,Ke)=>{if(De!==void 0)throw new Error("no re-init flatStore");Ie=Oe,Ue=Ke;const Ye=await Ue(s);{const pt="INSP-INIT-FLPAK";location.hash.includes(pt)&&Object.assign(globalThis,{[pt+"/"+s]:{...Ns(Ye),__flpakKey:s,__name:t}})}I=xr(Ye);const tt=(0,Tn.OR)(),Ze=await(0,sn.TN)(un.r,Ye,(pt,Me)=>(0,Jt.qG)(pt,Me,tt.mutateTFAAFNB));let ft=It.xL;{const pt="BYPASS-FLPAK";location.hash.includes(pt)&&(ft=Me=>console.warn("["+pt+"|vFT]",Me))}for(const[pt,Me,Xe]of _e)!Xe&&I>=Me||(0,Jt.qG)(Ze,pt,tt.mutateTFAAFNB);De=(0,Tn.b$)(Ze,Oe,(pt,Me,Xe)=>{if(u&&console.log("flat|onPatch",{diffList:pt,clock:Me,isLocal:Xe}),_e.push([(0,Dt.AO)({diffList:pt,clock:Me}),js(Me[0]),Xe]),Xe)return;const[Nt,At,hn,rn]=Me;$=Math.max($,Nt);const Yt=(0,nn.au)(At,hn);if(Ie.selfCCK===Yt)throw new Error("unexpected selfCck: "+Yt);const Pn=Ce.get(Yt)||-1;Pn>rn&&console.warn("bad editId for cck: "+Yt+", last: "+Pn+", new: "+rn),Ce.set(Yt,rn)},(pt,Me)=>{console.warn("flat|requestResync",{error:pt,message:Me})}),ke=pt=>{for(const Me of pt)De.applyDiffRemote(Me.diffList,Me.clock)};const wt=tt.getFixDiffList(Ze);wt.length&&(De.applyDiff(wt),De.resetUndo()),n===!0&&ft(Ze)},Ne=Oe=>{ke=Oe},Fe=()=>Ie,qe=()=>De,ut=async function(Oe){if(Oe===void 0&&(Oe=""),n===!0)try{if(!De||!I||!Mt())return;const Ke=De.getFlatTree(),[Ye,tt]=await(0,sn.Vz)(un.r,Ke);await(0,$t.hp)("//FSS/"+t+"/"+s,new Blob([tt],{type:"application/octet-stream"}),{message:Oe,treRawSize:Ye,treSize:tt.byteLength})}catch(Ke){console.warn("saveSOS",Oe,Ke)}},ct=async()=>{if(n===!0)try{const Oe=await(0,$t.Ey)("//FSS/"+t+"/"+s);if(Oe.length){console.warn("[loadSOS] found "+Oe.length+" record");const{data:Ke,extra:Ye}=Oe[0];console.warn("[loadSOS] load record from "+new Date(Ye.time).toISOString());const tt=await(0,Ms.WL)(Ke),Ze=await(0,sn.BT)(un.r,tt);return console.warn("[loadSOS] record tree: "+Ze.slowSize()),{tree:Ze,...Ye}}}catch(Oe){console.warn("loadSOS",Oe)}},Et=async()=>{if(n===!0)try{return await(0,$t.EP)("//FSS/"+t+"/"+s)}catch(Oe){console.warn("freeSOS",Oe)}},Mt=()=>{if(n!==!0)return!1;for(const[,,Oe]of _e)if(Oe)return!0;return!1};return{flpakKey:s,name:t,__setIsDev:Oe=>{u=Oe},onRemotePayloadSave:he,bind:ge,useExtORPL:Ne,getClockStore:Fe,getFlatStore:qe,saveSOS:ut,loadSOS:ct,freeSOS:Et,hasPatch:Mt,preSettlePatch:()=>{if(n!==!0)return[];const Oe=[];for(const[Ke,,Ye]of _e)Ye&&Oe.push(Ke);return Oe},postSettlePatch:Oe=>{n===!0&&(_e=_e.filter(Ke=>{let[Ye,tt,Ze]=Ke;return!Ze||!Oe.includes(Ye)}))}}},Is=(s,t,n)=>{let u,I;return{flpakKey:s,name:"[DUMMY]"+t,__setIsDev:$=>{},onRemotePayloadSave:$=>{let[Ce,,_e]=$;return!1},bind:async($,Ce)=>{if(I!==void 0)throw new Error("no re-init flatStore");u=$,I=(0,Tn.b$)((0,It.Id)(),$)},useExtORPL:$=>{},getClockStore:()=>u,getFlatStore:()=>I,saveSOS:async $=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:$=>{}}};if(i.j!=15)var On=i(87385);const ts=i.j!=15?gt.x3:null,ns=i.j!=15?gt.fm:null,ss=s=>{const t=new Map;let n=!1,u=!1,I,$,Ce=()=>"";const _e=()=>{t.clear(),ke()};let Ie=0;const De=Je=>{const Oe={socketId:Je,index:Ie++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(Je,Oe),n=!0,Oe},ke=(0,b.Ds)(async()=>{if(await(0,v.Y_)(2*1e3),I===void 0)return;const Je=[];for(const{socketId:tt,lastStatAt:Ze}of t.values())Ze!==0&&Je.push(tt);for(const[tt,Ze,ft]of await I([s,Je])){const wt=t.get(tt)||De(tt);wt.lastStatAt=Date.now(),wt.stat=[Ze,ft]}const[Oe,Ke,Ye]=ge;Oe&&$&&$([s,Oe,ts(Ke,Ye)])},Je=>{console.warn("_tPS",Je)}).trigger,Ue=Je=>{let[Oe,Ke,Ye]=Je;const[tt,Ze]=ns(Ye),ft=[tt,Ze,Ke],wt=t.get(Oe)||De(Oe);wt.lastCurAt=Date.now(),wt.cur=ft,wt.lastStatAt===0?ke():u=!0},he=Je=>{let[Oe,Ke]=Je;const Ye=t.has(Ke);Oe===0&&Ye&&(t.delete(Ke),n=!0)};let ge=["",NaN,NaN],Ne=0;const Fe=function(Je){Je===void 0&&(Je=ge[0]);const Oe=Ce();if(Oe==="")return!1;for(const{socketId:Ke,cur:Ye}of t.values())if(Ye&&Ye[2]===Je&&Ke!==Oe)return!0;return!1},qe=function(Je,Oe,Ke){Oe===void 0&&(Oe=gt.Ni),Ke===void 0&&(Ke=gt.Ni),!(ge[0]===Je&&ge[1]===Oe&&ge[2]===Ke)&&(ge[0]!==Je&&(Ne=1),!(!Ne&&(t.size<2||!Fe(Je)))&&(ge=[Je,Oe,Ke],Ne&&Ne--,$&&$([s,Je,ts(Oe,Ke)])))},ut=async(Je,Oe,Ke)=>{if(I!==void 0)throw new Error("no re-init fetchCurStat");I=Je,$=Oe,Ce=Ke},ct=()=>{const Je=Ce(),Oe=[];if(Je==="")return Oe;for(const{socketId:Ke,stat:Ye}of t.values()){if(Ye===void 0)continue;const[tt,Ze]=Ye;Je===Ke?Oe.unshift([Ke,tt,Ze]):Oe.push([Ke,tt,Ze])}return Oe},Et=Je=>{const Oe=Ce(),Ke=[];if(Oe==="")return Ke;for(const{socketId:Ye,index:tt,cur:Ze,stat:ft}of t.values()){if(Oe===Ye||Ze===void 0||ft===void 0)continue;const[wt,pt,Me]=Ze;if(Me!==Je||wt===gt.Ni)continue;const[Xe,Nt]=ft;Ke.push([tt,wt,pt,Xe,Nt])}return Ke},Mt=()=>n?(n=!1,!0):!1,Pt=()=>u?(u=!1,!0):!1;return{flpakKey:s,__curStatMap:t,onSocketConnect:_e,onRemoteCur:Ue,onRemoteSocket:he,hasOtherUser:Fe,tryPackCur:qe,bind:ut,getRoomStat:ct,getSocketStat:ct,getCurStat:Et,pollRoomChg:Mt,pollCurChg:Pt,pollChange:Pt}},pn=s=>{const t=()=>{},n=ke=>{let[Ue,he,ge]=ke},u=ke=>{let[Ue,he]=ke},I=ke=>!1,$=(ke,Ue,he)=>{},Ce=async(ke,Ue,he)=>{},_e=()=>[],Ie=ke=>[],De=()=>!1;return{flpakKey:s,onSocketConnect:t,onRemoteCur:n,onRemoteSocket:u,hasOtherUser:I,tryPackCur:$,bind:Ce,getRoomStat:_e,getSocketStat:_e,getCurStat:Ie,pollRoomChg:De,pollCurChg:De,pollChange:De}},vn=()=>{};let ks=!1;const vr=s=>{ks=s},Cr="dat",Mr="cmt",Nr="mkt:dat",Es=async s=>{let{flpakKey:t,userId:n,uTag:u,token:I,passwd:$,isDummyCmt:Ce=!1,isAllowDat:_e=!1,isAllowCmt:Ie=!1,isAllowCur:De=!1,afterStoreCreate:ke=vn,__fetchFlpakAsync:Ue=Cs.T,onTransferError:he=vn}=s;const ge=es(t,Cr,_e),Ne=(Ce?Is:es)((0,On.J6)(t),Mr,Ie),Fe=(De?ss:pn)(t);await ke({fssDat:ge});const qe=async(Me,Xe)=>{await ge.saveSOS("OTE|"+Me+"|"+Xe),await he(Me,Xe)},ut=(0,mt.LZ)({flpakKey:t,needDat:!!_e,needCmt:!!Ie,needCur:!!De}),ct=!n||!ut?ls():Ks({query:{uId:String(n),uTag:u,rKey:ut},usePolling:ks,lossyListenerMap:{[mt.NX]:Me=>{const{payload:Xe}=Me;Fe.onRemoteCur(Xe)}},queueListenerMap:{[mt.VU]:Me=>{const{error:Xe}=Me;console.log("flat-ws drop-client",Xe),qe("4XX",Xe)},[mt.Ei]:Me=>{const{error:Xe}=Me;console.log("flat-ws error",Xe),qe("5XX",Xe)},[mt.zS]:()=>{console.log("flat-ws (re)connected"),Fe.onSocketConnect()},[mt.sP]:Me=>{const{payload:Xe}=Me;ge.onRemotePayloadSave(Xe)||Ne.onRemotePayloadSave(Xe)||console.warn("drop save payload:",Xe)},[mt.$7]:Me=>{const{payload:Xe}=Me;console.log("flat-ws room cursor:",Xe),Fe.onRemoteSocket(Xe)}}});await ct.getReadyPromise();const Et=async(Me,Xe,Nt)=>{try{return await Ue(Me,{token:I,passwd:$,skipTTre:String(Xe||""),skipTPbxList:(Nt||[]).join("")})}catch(At){const hn=rs(At);throw wn(At)!=="Fch"&&(0,Lt.p)("fFS "+wn(At),At),await qe(hn,At),At}};await Promise.all([ge.bind((0,nn.aF)({userId:n,mtimeOffset:ct.getOffsetMsec()}),Et).catch(Me=>{throw(0,Lt.p)("bindDat",Me),Me}),Ne.bind((0,nn.aF)({userId:n,mtimeOffset:ct.getOffsetMsec()}),Et).catch(Me=>{throw(0,Lt.p)("bindCmt",Me),Me}),Fe.bind(async Me=>{try{if(ct.getIsConnected())return await ct.emitAsync(mt.Am,Me)}catch(Xe){await(0,v.Y_)(42*1e3)}return[]},Me=>ct.getIsConnected()&&ct.emitLossy(mt.pL,Me),ct.getSocketId).catch(Me=>{throw(0,Lt.p)("bindCur",Me),Me})]);const Mt=new Error("[tracked-error]"),Pt=async Me=>{if(!Me.hasPatch())return;const Xe=Me.preSettlePatch(),Nt=(0,Jt.ok)((0,Jt.oG)(Xe));for(let At=0,hn=Nt.length;At<hn;At++){const rn=Nt[At];try{await ct.emitAsync(mt.s5,[Me.flpakKey,rn.length,(0,Jt.iM)(rn)])}catch(Yt){const Pn=rs(Yt);throw Pn==="5XX"&&(0,Lt.p)("saveFss "+wn(Yt),Yt,Me.name,Me.flpakKey,At+1+"/"+hn,rn),await qe(Pn,Yt),Mt}}Me.postSettlePatch(Xe)},Je=(0,b.Ds)(async()=>(0,b.g7)(async()=>{await Pt(ge),await Pt(Ne),await ge.freeSOS()},5*60*1e3,"lFFss.lA"),Me=>{if(Me===Mt)return;const Xe=rs(Me);(0,Lt.p)("lFFss "+wn(Me),Me),Promise.resolve(qe(Xe,Me)).catch(Nt=>{(0,Lt.p)("lFFss "+Xe+" Err",Nt)})}),Oe=(0,b.Ds)(async()=>{Je.trigger(),await Je.getRunningPromise();for(let Me=0;Me++<16;)!Fe.hasOtherUser()&&await(0,v.Y_)(1e3)});setInterval(Oe.trigger,2*1e3),De&&setInterval(()=>Fe.onSocketConnect(),20*60*1e3);const Ke=ge.getFlatStore(),Ye=(0,ds.uq)(ge.getFlatStore());ge.useExtORPL(Ye.onRemotePatchList);const tt=gr(Ne.getFlatStore());Ne.useExtORPL(tt.onRemotePatchList);const Ze=()=>ge.hasPatch()||Ne.hasPatch(),ft=(0,b.B1)(async()=>(0,b.JN)(async()=>{let Me=0;for(;Ze();)await(0,v.Y_)(Math.min(Me,5)*1e3),Je.trigger(),await Je.getRunningPromise(),Me++})),wt=()=>globalThis.MB.getSelectionItems()[0].key,pt=(0,b.J9)(Fe.tryPackCur,125);return{fssDat:ge,fssCmt:Ne,cssCur:Fe,flatSocket:ct,flatStore:Ke,sdkStore:Ye,cmtStore:tt,sendCur:pt,hasSave:Ze,saveAsync:ft,theTree:function(Me){return Me===void 0&&(Me=It.gT),console.log((0,It.Wr)(Ke.getFlatTree(),Me))},hotTree:function(Me){return Me===void 0&&(Me=It.gT),console.log(Ye.__devHotTree(Me))},slctTree:function(Me){return Me===void 0&&(Me=wt()),console.log(Ye.__devHotTree(Me))},upTree:function(Me,Xe){return Me===void 0&&(Me=wt()),Xe===void 0&&(Xe=It.gT),console.log(Ye.findUpHotItemList(Me,Xe))},newFFT:async function(Me,Xe,Nt){return Nt===void 0&&(Nt=Xe.name+"-\u4FEE\u590D\u6570\u636E"),(0,yr.N)(Me,Xe.team_cid,{...Xe,name:Nt})},cmtTree:function(Me){return Me===void 0&&(Me=It.gT),console.log(tt.__devHotTree(Me))}}},rs=s=>{const t=s&&s.status;return t>=400&&t<500?"4XX":String(s).toLowerCase().includes("timeout")?"Tot":"5XX"},wn=s=>{const t=s&&s.status,n=[];t>=400&&n.push(String(t));const u=String(s).toLowerCase();return u.includes("timeout")&&n.push("Tot"),u.includes("fetch")&&n.push("Fch"),n.join("")||"Err"},As=async s=>{let{flpakKey:t}=s;const n=es(t,Nr,!1),u=async($,Ce,_e)=>(0,Cs.T)($,{skipTTre:String(Ce||""),skipTPbxList:(_e||[]).join("")});return await n.bind((0,nn.aF)({}),u),{sdkStore:(0,ds.uq)(n.getFlatStore())}}},46664:(Te,le,i)=>{"use strict";if(i.d(le,{A1:()=>re,A9:()=>w,CH:()=>Dn,Cp:()=>b.Cp,DQ:()=>Ve,E8:()=>N,F7:()=>en,G8:()=>Kt,Gx:()=>Z,Jm:()=>ie,Kc:()=>de,Md:()=>Gt,OJ:()=>f,Qs:()=>o,Qy:()=>$e,SD:()=>jt,Tf:()=>q,V7:()=>B,Wr:()=>P,XG:()=>Rt,Xw:()=>R,Yu:()=>ne,bX:()=>d,cn:()=>ue,ct:()=>Re,dC:()=>an,hY:()=>U,kZ:()=>Se,l9:()=>p,ob:()=>ye,qi:()=>H,r3:()=>ae,s_:()=>J,sw:()=>zn,ty:()=>St,up:()=>Rn,vS:()=>ht,vs:()=>Ot,wR:()=>me,wZ:()=>vt,yV:()=>Ct,yY:()=>on,yk:()=>is,yr:()=>C}),i.j!=15)var r=i(40684);var b=i(52781),v=i(23990),x=i(45465),A=i(48411);if(i.j!="undefined")var Y=i(72907);if(i.j!=15)var m=i(79619);if(i.j!=15)var L=i(63967);const z=(ce,pe)=>{const ve=new Error("[NO SENTRY] "+ce);return Object.assign(ve,pe),ve},de=(ce,pe)=>(0,v.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+ce+"&password="+pe),ue=async(ce,pe)=>{const ve="/api/flat/web_v1/preview/initial?access_token="+ce+"&view_mode="+pe,Pe=await fetch(ve,{credentials:"same-origin"}),Qe=await Pe.json();if(Pe.status!==200)throw z("[fetchGetHead] failed with "+Pe.status+": "+ve,{status:Pe.status,error_type:Qe==null?void 0:Qe.error_type});return Qe},ne=(ce,pe)=>(0,v.SN)("/api/upper/web_v1/basics/"+ce,{...pe}),q=async()=>{let ce=[];try{const pe=await(0,v.DE)("/api/library/v4/recent_keywords");pe!=null&&pe.keywords&&(ce=pe==null?void 0:pe.keywords)}catch(pe){await(0,Y.FY)(pe)}return ce},J=()=>(0,v.sM)("/api/library/v4/recent_keywords"),Z=ce=>(0,v.Ds)("/api/library/v4/recent_keywords",{keyword:ce}),H=async()=>{if((0,m.Z)())return V();{var ce;let pe;try{pe=await(0,v.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(ve){return await(0,Y.FY)(ve),{}}return{userComboGroupList:(ce=pe)==null?void 0:ce.user_combo_groups}}},V=async()=>{var ce;let pe;try{pe=await(0,v.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(ve){return await(0,Y.FY)(ve),{}}return{userComboGroupList:(ce=pe)==null?void 0:ce.org_combo_groups}},d=async ce=>{var pe;let{orgCid:ve}=ce,Pe;try{Pe=await(0,v.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+ve)}catch(Qe){return await(0,Y.FY)(Qe),{}}return{orgComboGroupList:(pe=Pe)==null?void 0:pe.org_combo_groups}},C=async ce=>{const{icon_group:pe,market_template:ve}=await(0,b.Yk)(ce.cid),{source:Pe,title:Qe}=pe||{},bt=await(0,v.DE)(Pe),dt=x.I1[Qe]||Qe||"svg",{iconGroupData:mn}=(0,x.u2)(bt,dt);return{iconGroupData:mn,marketTemplate:ve}},f=async()=>{if((0,m.Z)())return g();try{const{asset_groups:ce=[]}=await(0,v.Yo)("/api/library/v3/asset_data/me/asset_groups");return ce}catch(ce){return await(0,Y.FY)(ce),{userAssetGroupList:[]}}},g=async()=>{const ce=MB.user.solo_org.cid;try{const{asset_groups:pe=[],assets:ve}=await(0,v.Yo)("/api/library/v6/asset_groups?org_cid="+ce);return{userAssetGroupList:pe,userAssets:ve}}catch(pe){return await(0,Y.FY)(pe),{userAssetGroupList:[]}}},p=async ce=>{let{orgCid:pe}=ce;try{const{asset_groups:ve}=await(0,v.Yo)("/api/library/v6/asset_groups?org_cid="+pe);return{orgAssetGroupList:ve}}catch(ve){await(0,Y.FY)(ve)}},N=async ce=>{if((0,m.Z)())return j(ce);try{const{asset:pe,user_asset:ve}=await(0,v.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:ce});return{asset:pe,user_asset:ve}}catch(pe){await(0,Y.FY)(pe)}},j=async ce=>{const pe=MB.user.solo_org.cid;try{const{asset:ve,flat_asset:Pe}=await(0,v.B7)("/api/library/v6/assets/search_by_url",{image_url:ce,org_cid:pe});return{asset:ve,user_asset:Pe}}catch(ve){await(0,Y.FY)(ve)}},P=async(ce,pe)=>{try{const{asset:ve,flat_asset:Pe}=await(0,v.B7)("/api/library/v6/assets/search_by_url",{image_url:ce,org_cid:pe});return{asset:ve,org_asset:Pe}}catch(ve){await(0,Y.FY)(ve)}},B=async ce=>{if((0,m.Z)())return D(ce);try{const{user_asset_group:pe}=await(0,v.uP)("/api/library/v4/users/asset_groups/"+ce.cid,{...ce});return{user_asset_group:pe}}catch(pe){await(0,Y.FY)(pe)}},w=async(ce,pe)=>{const{name:ve,parentCid:Pe=null,position:Qe}=pe,{asset_group:bt}=await(0,v.zi)("/api/library/v6/asset_groups",{org_cid:ce,name:ve,parent_cid:Pe,position:Qe});return{asset_group:bt}},D=async ce=>{const{cid:pe,name:ve,parent_cid:Pe,position:Qe}=ce;try{const{asset_group:bt}=await(0,v.uP)("/api/library/v6/asset_groups/"+pe,{name:ve,parent_cid:Pe,position:Qe});return{user_asset_group:bt}}catch(bt){await(0,Y.FY)(bt)}},re=async ce=>{const{cid:pe,name:ve,parent_cid:Pe,position:Qe}=ce;try{const{asset_group:bt}=await(0,v.uP)("/api/library/v6/asset_groups/"+pe,{name:ve,parent_cid:Pe,position:Qe});return{org_asset_group:bt}}catch(bt){await(0,Y.FY)(bt)}},me=async ce=>{if((0,m.Z)())return X(ce);try{return await(0,v.uP)("/api/library/v3/asset_data/me/assets/"+ce.asset_cid,{...ce})}catch(pe){await(0,Y.FY)(pe)}},ie=async ce=>(await(0,v.SN)("/api/library/v6/asset_groups/",{asset_groups:ce})).asset_groups,ae=async(ce,pe)=>{const{name:ve,groupCid:Pe}=pe;return await(0,v.SN)("/api/library/v6/assets",{cids:ce,name:ve,group_cid:Pe})},X=async ce=>{try{return await(0,v.uP)("/api/library/v6/assets",{...ce})}catch(pe){await(0,Y.FY)(pe)}},U=async ce=>{let{cids:pe,...ve}=ce;try{return await(0,v.uP)("/api/library/v6/assets",{cids:pe,...ve})}catch(Pe){await(0,Y.FY)(Pe)}},R=async ce=>{let{assetCid:pe,name:ve,groupCid:Pe}=ce;if((0,m.Z)())return Q({assetCid:pe,name:ve,groupCid:Pe});try{await(0,v.B7)("/api/library/v3/asset_data/me/assets",{cid,name:ve,group_cid:Pe})}catch(Qe){await(0,Y.FY)(Qe)}},Q=async ce=>{let{assetCid:pe,name:ve,groupCid:Pe}=ce;try{await(0,v.B7)("/api/library/v6/assets",{asset_cid:[pe],name:ve,group_cid:Pe})}catch(Qe){await(0,Y.FY)(Qe)}},ye=async ce=>{let{assetCid:pe,name:ve,groupCid:Pe}=ce;try{const Qe=await(0,v.B7)("/api/library/v6/assets",{asset_cid:[pe],name:ve,group_cid:Pe});return Qe==null?void 0:Qe.cid}catch(Qe){await(0,Y.FY)(Qe)}},Se=async ce=>{let{org_cid:pe,name:ve,group_cid:Pe}=ce;if((0,m.Z)())return Ae({org_cid:pe,name:ve,group_cid:Pe});try{return(0,v.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:pe,org_asset_group_cid})}catch(Qe){await(0,Y.FY)(Qe)}},Ae=async ce=>{let{org_cid:pe,name:ve,group_cid:Pe}=ce;try{return(0,v.B7)("/api/library/v6/asset_groups",{org_cid:pe,name:ve,parent_cid:null,group_cid:Pe,position:-99})}catch(Qe){await(0,Y.FY)(Qe)}},Re=async ce=>{const pe=MB.user.solo_org.cid;if((0,m.Z)())return ze(pe);try{const{user_asset_group:ve,user_assets:Pe}=await(0,v.Yo)("/api/library/v3/asset_data/me/asset_groups/"+ce);return{user_asset_group:ve,userAssets:Pe}}catch(ve){await(0,Y.FY)(ve)}},ze=async ce=>{const pe=MB.user.solo_org.cid;try{const{asset_group:ve,assets:Pe}=await(0,v.Yo)("/api/library/v6/asset_groups?org_cid="+pe);return{user_asset_group:ve,userAssets:Pe}}catch(ve){await(0,Y.FY)(ve)}},Ve=async ce=>{const pe=MB.currentOrg.cid;try{const{asset_group:ve,assets:Pe}=await(0,v.Yo)("/api/library/v6/asset_groups?org_cid="+pe);return{org_asset_group:ve,orgAssets:Pe}}catch(ve){await(0,Y.FY)(ve)}},$e=async ce=>{(0,m.Z)()?await xt(ce):await(0,v.sM)("/api/library/v3/asset_data/me/assets/"+ce.cid)},xt=async ce=>{await(0,L.uz)("/api/library/v6/assets",{cids:[ce.cid]})},ht=async ce=>{await(0,L.uz)("/api/library/v6/assets",{cids:[ce.cid]})},St=async ce=>{(0,m.Z)()?await Tt(ce):await(0,v.sM)("/api/library/v3/asset_data/me/asset_groups/"+ce)},Tt=async ce=>{await(0,v.sM)("/api/library/v6/asset_groups/"+ce)},Ct=async ce=>{await(0,v.sM)("/api/library/v6/asset_groups/"+ce)},jt=ce=>(0,v.iv)("/preferences/update",{...ce}),o=async(ce,pe)=>{if((0,m.Z)())return Ut(ce,pe);try{return await(0,v.uP)("/api/library/v4/users/asset_groups/"+ce,{...pe})}catch(ve){await(0,Y.FY)(ve)}},Ut=async(ce,pe)=>{const ve=MB.user.solo_org.cid;try{return await(0,v.uP)("/api/library/v6/asset_groups/"+ce,{...pe,org_cid:ve})}catch(Pe){await(0,Y.FY)(Pe)}},Rt=ce=>async(pe,ve)=>{try{const Pe={...ve,org_cid:ce};return await(0,v.uP)("/api/library/v6/asset_groups/"+pe,{...Pe})}catch(Pe){await(0,Y.FY)(Pe)}},on=async(ce,pe)=>{let ve=null;try{const Pe=await(0,v.Yo)("/api/community/v1/workspace?category="+ce+"&plabel="+pe);Pe!=null&&Pe.market_templates&&(ve=Pe==null?void 0:Pe.market_templates)}catch(Pe){await(0,Y.FY)(Pe)}return ve},Gt=async(ce,pe)=>{let ve=null;try{const Pe=pe.name===A.bp.All?"&scene_tag="+ce:"&scene_tag="+ce+"&plabel="+pe.name+"&plabel_id="+pe.id,Qe=await(0,v.Yo)("/api/community/v1/workspace/v8_combos?category="+r.t_+Pe);Qe!=null&&Qe.market_templates&&(ve=Qe==null?void 0:Qe.market_templates)}catch(Pe){await(0,Y.FY)(Pe)}return ve},en=async ce=>{let pe=null,ve=null;try{const Pe=await(0,v.DE)("/flpak/ww-p2wsearch?"+ce);if(Pe!=null&&Pe.data){const Qe=Pe.data,{user_flat_assets:bt,user_flat_asset_groups:dt,org_flat_assets:mn,org_flat_asset_groups:tn}=Qe.asset||{};pe={...Qe,asset:{user_assets:bt,user_asset_groups:dt,org_assets:mn,org_asset_groups:tn}},ve=Pe.p2mMMap}}catch(Pe){await(0,Y.FY)(Pe)}return{data:pe,p2mMMap:ve}},Ot=async ce=>{let pe=null;try{const ve=await(0,v.DE)("/flpak/ww-p2meta/"+ce);ve!=null&&ve.length&&(pe=ve)}catch(ve){await(0,Y.FY)(ve)}return pe},Kt=async ce=>{let{currentComboPanel:pe,projectMetaCid:ve}=ce;try{await(0,v.zi)("/flpak/ww-migrate-"+pe+"-combo-group/"+ve+"?mode=normal")}catch(Pe){await(0,Y.FY)(Pe)}},is=async ce=>{let{projectBasicCid:pe}=ce;try{const{userId:ve,flatKey:Pe}=await(0,v.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+pe);return{userId:ve,flatKey:Pe}}catch(ve){await(0,Y.FY)(ve)}},Dn=async ce=>{let{projectBasicCid:pe,accessToken:ve,password:Pe}=ce;try{const{userId:Qe,flatKey:bt}=await(0,v.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+pe+"&access_token="+ve+"&password="+Pe);return{userId:Qe,flatKey:bt}}catch(Qe){await(0,Y.FY)(Qe)}},Rn=ce=>(0,v.DE)("/api/dashboard/v5/orgs/"+ce),zn=async ce=>{const{project:pe}=await(0,v.DE)("/api/dashboard/v5/projects/"+ce);return pe},vt=async ce=>(0,v.DE)("/api/upper/web_v1/basics/statstics/"+ce),an=async()=>{try{const{result:ce}=await(0,v.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return ce}catch(ce){console.log(ce)}}},52781:(Te,le,i)=>{"use strict";if(i.d(le,{$r:()=>ue,$z:()=>m,Aq:()=>ne,Cp:()=>Z,Jv:()=>d,PJ:()=>f,Uy:()=>de,Wu:()=>A,X:()=>z,Yk:()=>L,ZF:()=>V,a3:()=>Y,je:()=>C,rd:()=>H}),i.j!=15)var r=i(23990);if(i.j!=15)var b=i(72907);var v=i(204);const x=300,A=async function(g){g===void 0&&(g="");const p=1;let N=[];try{const j=await(0,r.Yo)("/api/community/v1/workspace/my_star?page="+p+(g&&"&category="+g)+"&page_size="+x);j&&(N=j==null?void 0:j.market_templates.filter(P=>(P==null?void 0:P.version)!=="v1"))}catch(j){await(0,b.FY)(j)}return N.map(j=>({...j,is_star:!0}))},Y=async g=>{try{await(0,r.Ds)("/api/community/v1/market_template/star/"+g)}catch(p){await(0,b.FY)(p)}},m=async g=>{try{await(0,r.DW)("/api/community/v1/market_template/star/"+g)}catch(p){await(0,b.FY)(p)}},L=async function(g,p){p===void 0&&(p=!0);let N;try{N=await(0,r.DE)("/api/community/v1/market_template/"+g)}catch(j){p&&(0,b.ai)(j)}return N},z=function(g){return g===void 0&&(g=""),(0,r.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+g+"&page_size="+x)},de=async()=>{let g;try{g=await(0,r.DE)("/flpak/ww-p2recent")}catch(p){return await(0,b.FY)(p),p}return g},ue=()=>(0,r.DE)("/api/community/v1/hot_icons"),ne=()=>(0,r.DE)("/api/community/v1/hot_color_icons"),q=g=>{let{category:p="combo_group",keyword:N=""}=g;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+p+"?q="+encodeURIComponent(N))},J={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},Z=g=>{let{projectUpperType:p="",projectUpperCid:N="",itemCid:j=""}=g;return(0,r.Ds)("/api/community/v1/recent_template",{project_upper_type:J[p]||p,project_upper_cid:N,item_cid:j})},H=async g=>{const{sdkStore:p}=await(0,v.O3)({flpakKey:g});return p},V=async function(g){g===void 0&&(g="mobile");try{return(await(0,r.DE)("/api/market_template/v4/workspace/new_page_types?platform="+g)).types}catch(p){return await(0,b.FY)(p),[]}},d=async function(g){g===void 0&&(g="mobile");try{return await(0,r.DE)("/api/community/v1/workspace/recommend_page?platform="+g)}catch(p){return await(0,b.FY)(p),{}}},C=async g=>{let{platform:p,firstTypeCid:N,secondTypeCid:j=null}=g;const P={first_type_cid:N,second_type_cid:j,platform:p};let B=new URLSearchParams;B=Object.assign(B,P);for(const[w,D]of Object.entries(B))D?D==="default"?B.delete(w):B.set(w,D):B.delete(w);try{return(0,r.DE)("/flpak/ww-p2pagemkt?"+B.toString())}catch(w){return await(0,b.FY)(w),{}}},f=async()=>{try{const{color_icon_groups:g}=await(0,r.DE)("/api/community/v1/color_icon_groups");return g&&g.length>0?g.reduce((p,N)=>(p[N.source_upper_cid]=N,p),{}):{}}catch(g){return await(0,b.FY)(g),{}}}},15668:(Te,le,i)=>{"use strict";i.d(le,{Oc:()=>A,Qi:()=>z,R1:()=>ne,jf:()=>Y,jn:()=>m,lV:()=>Z,tA:()=>L});var r=i(51044),b=i(82152),v=i(7758),x=i(57464);const A=(0,r.memo)(H=>{let{type:V="linear",className:d,disabled:C=!1,size:f="common",corner:g="smooth",forceTheme:p,children:N,onClick:j}=H;return(0,x.jsx)(b.Yr,{type:V,className:d,disabled:C,size:f,corner:g,forceTheme:p,onClick:j,children:N})}),Y=i.j!=15?(0,r.memo)(H=>{let{type:V="linear",className:d,disabled:C=!1,size:f="common",corner:g="smooth",icon:p,children:N,forceTheme:j,onClick:P}=H;return(0,x.jsx)(b.hE,{type:V,className:d,disabled:C,size:f,corner:g,icon:p,forceTheme:j,onClick:P,children:N})}):null,m=(0,r.memo)(H=>{let{className:V,children:d,disabled:C=!1,onClick:f}=H;return(0,x.jsx)(b.Yr,{type:"primary",size:"common",className:V,disabled:C,onClick:f,children:d})}),L=H=>{let{className:V,children:d,disabled:C=!1,onClick:f}=H;return(0,x.jsx)(b.Yr,{type:"secondary",size:"common",className:V,disabled:C,onClick:f,children:d})},z=(0,r.memo)(H=>{let{className:V,children:d,disabled:C=!1,onClick:f}=H;return(0,x.jsx)(b.Yr,{type:"danger",size:"common",className:V,disabled:C,onClick:f,children:d})}),de=null,ue=null,ne=i.j==467?(0,r.memo)(H=>{let{className:V,children:d,disabled:C=!1,onClick:f}=H;return(0,x.jsx)(b.Yr,{type:"primary",size:"tiny",corner:"soft",className:V,disabled:C,onClick:f,children:d})}):null,q=null,J=null,Z=i.j!=15?(0,r.memo)(H=>{let{className:V,isLoading:d=!1,children:C,disabled:f=!1,onClick:g}=H;return(0,x.jsx)(b.hE,{type:"secondary",size:"tiny",corner:"soft",className:V,icon:d?(0,x.jsx)(v.C,{name:"general/loading",className:"btn-loading"}):null,disabled:f,onClick:g,children:C})}):null},82152:(Te,le,i)=>{"use strict";i.d(le,{Yr:()=>m,hE:()=>L,in:()=>Y});var r=i(21676),b=i(12660),v=i(80467),x=i(8338);const A=(z,de)=>{const ue=z.forceTheme;return ue?x.f[de]["value_"+ue]:z.theme[de]},Y=(0,r.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],z=>A(z,"color_text_btn"),z=>A(z,"color_btn_primary_normal"),z=>A(z,"color_btn_primary_hover"),z=>A(z,"color_btn_primary_clicked"),z=>A(z,"color_text_disabled02"),z=>A(z,"color_btn_primary_disabled"),z=>A(z,"color_text_L1"),z=>A(z,"color_bg_white"),z=>A(z,"color_bg_border_02"),z=>A(z,"color_btn_secondary_hover"),z=>A(z,"color_bg_border_02"),z=>A(z,"color_btn_secondary_active"),z=>A(z,"color_bg_border_02"),z=>A(z,"color_text_disabled01"),z=>A(z,"color_bg_white"),z=>A(z,"color_bg_border_02"),z=>A(z,"color_text_btn"),z=>A(z,"color_btn_danger_normal"),z=>A(z,"color_btn_danger_hover"),z=>A(z,"color_btn_danger_clicked"),z=>A(z,"color_text_disabled02"),z=>A(z,"color_btn_danger_disabled"),z=>A(z,"color_text_L1"),z=>A(z,"color_btn_secondary_hover"),z=>A(z,"color_btn_secondary_active"),z=>A(z,"color_text_disabled01")),m=(0,r.Ay)(b.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],Y),L=(0,r.Ay)(v.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],Y)},31921:(Te,le,i)=>{"use strict";i.d(le,{Tw:()=>ue,ft:()=>ne});var r=i(51044),b=i(57464);const v="/mb-static/2308/loading.gif",x="/mb-static/2308/loading-mo.gif",A=(q,J)=>J?"."+q:q,Y=q=>_jsx("img",{className:q.className,alt:"Loading...",src:A(q.isMockitt?x:v,q.isHtmlZip)}),m=q=>(0,b.jsx)("img",{className:q.className,alt:"Loading...",src:A(ENV.IS_WONDER_SHARE?x:v,q.isHtmlZip)}),L=q=>(0,b.jsx)("img",{className:q.className,alt:"Loading...",src:A(x,q.isHtmlZip)});var z=i(23024);const de=null,ue=i.j!=15?(0,r.memo)(q=>(0,b.jsx)(m,{...q,isHtmlZip:(0,z.FM)()})):null,ne=(0,r.memo)(q=>(0,b.jsx)(L,{...q,isHtmlZip:(0,z.FM)()}))},54608:(Te,le,i)=>{"use strict";i.d(le,{n:()=>de,A:()=>ue});var r=i(51044),b=i(86634),v=i.n(b),x=i(7758),A=i(11777),Y=i(21676);const m=Y.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}&.isV9Layout{height:48px;min-height:48px;padding:0 6px;.nav-item{flex:none;font-size:13px;color:",";&.active{color:",";font-weight:bold;&.background_active{background-color:transparent;}}}}"],ne=>ne.theme.color_text_L2,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_bg_card,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_text_disabled01,ne=>ne.theme.color_text_L3,ne=>ne.theme.color_text_L0);var L=i(57464);const z=(0,r.memo)(ne=>{let{activeIndex:q=0,className:J,layoutV9:Z="old",children:H,onTabChange:V}=ne;const d=Z==="recommend";return(0,L.jsx)(m,{className:v()(J,{isV9Layout:d}),children:r.Children.map(H,(C,f)=>{const g={index:f,active:f===q,onClick:V};return r.cloneElement(C,g)})})}),de=(0,r.memo)(ne=>{let{className:q,index:J,active:Z,onClick:H,label:V,tooltip:d,isNew:C,disabled:f,tempDisabled:g}=ne;const p=()=>{if(f)return g&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;H(J)},N=(0,L.jsxs)("li",{className:v()("nav-item",{active:Z},{disabled:f},q),onClick:p,children:[V&&(0,L.jsxs)("span",{className:"nav-label",children:[V,d&&d]}),C&&(0,L.jsx)(x.C,{name:"design/tab/new",className:"tabNewIcon"})]});return f?(0,L.jsx)(A.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:N}):N}),ue=z},3895:(Te,le,i)=>{"use strict";i.d(le,{FU:()=>x,OO:()=>m,Z8:()=>b,au:()=>Y,lY:()=>A,p_:()=>v,zB:()=>r});const r={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},b={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},v={org_owner:r.OWNER,org_manager:r.SUPERMANAGER,org_admin:r.MANAGER,org_member:r.MEMBER,org_viewer:r.VIEWER},x={space_owner:r.MANAGER,space_manager:r.MANAGER,space_member:r.MEMBER,space_viewer:r.VIEWER,space_limiter:r.LIMITER},A={team_owner:r.MANAGER,team_manager:r.MANAGER,team_member:r.MEMBER,team_viewer:r.VIEWER,team_none:r.VIEWER,team_ban_viewer:r.BANNED},Y=Object.assign({project_owner:r.MANAGER,project_team_owner:r.MANAGER,project_manager:r.MANAGER,project_member:r.MEMBER,project_viewer:r.VIEWER,project_none:r.VIEWER,project_ban_viewer:r.BANNED},A),m={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},L={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(Te,le,i)=>{"use strict";i.d(le,{s:()=>ue});var r=i(23990);const b=async(ne,q)=>{const{project:J}=await(0,r.zi)("/api/dashboard/v5/projects/"+ne+"/invite",q);return J},v=async(ne,q)=>(0,r.SN)("/api/dashboard/v5/permissions/projects/"+ne,q),x=async(ne,q)=>{await(0,r.uz)("/api/dashboard/v5/permissions/projects/"+ne,q)};var A=i(15573),Y=i(61654),m=i(50378);const L=async(ne,q)=>await(0,r.DE)("/api/dashboard/v5/spaces/"+ne+"?org_cid="+q),z={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let de=function(ne){return ne.Org="org",ne.OrgSpace="space",ne.Folder="folder",ne.Project="project",ne}({});const ue={"entry:projectAccess:initProjectData":async(ne,q)=>{let{getState:J,dispatch:Z}=ne,{payload:H}=q;try{const{initData:V,members:d}=H,C=V==null?void 0:V.org,{user:f,space:g,project:p,team:N,top_parent_team:j,lang:P}=V||{},B=new Map,w=new Map;return B.set(N==null?void 0:N.cid,N),B.set(j==null?void 0:j.cid,j),N!=null&&N.parent_cid&&(N==null?void 0:N.parent_cid)!==j.cid&&B.set(N==null?void 0:N.parent_cid,j),w.set(p==null?void 0:p.cid,p),Z({type:m.X2.UpdateState,payload:{user:f,org:{...C,members:d},space:g,folderListMap:B,projectListMap:w,lang:P}}),!0}catch(V){return console.error(V.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ne,q)=>{let{getState:J,dispatch:Z}=ne,{payload:H}=q;const{projectCid:V,userCid:d,roleName:C,userName:f}=H;if(!V||!d)return;const g=J(),p=(0,Y.IE)(g),N=(0,Y.M0)(g),j=(0,Y._B)(g);try{const P=await b(V,{user_cid:d,role:C}),{space:B}=await L(N,p);j.set(P.cid,P),await Z({type:m.X2.UpdateProjectListMap,payload:new Map(j)}),await Z({type:m.X2.UpdateSpace,payload:B}),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.A)(P)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:z[C]}}},"*")}catch(P){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ne,q)=>{let{getState:J,dispatch:Z}=ne,{payload:H}=q;const{projectCid:V,userId:d,roleName:C,userName:f}=H,g=J();try{const{permission:p}=await v(V,{target_role:C,target_user_id:d}),N=(0,Y._B)(g),j=N.get(V),P=(j==null?void 0:j.permissions)||[],B=P.find(re=>Number(re.user_id)===Number(d));let w=[];B?w=P.map(re=>Number(re.user_id)===Number(d)?p:re):w=[...P,p];const D={...j,permissions:w};N.set(V,D),await Z({type:m.X2.UpdateProjectListMap,payload:new Map(N)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.A)(D)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:z[C]}}},"*")}catch(p){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ne,q)=>{let{getState:J,dispatch:Z}=ne,{payload:H}=q;const{projectCid:V,userId:d,roleName:C,userName:f}=H,g=J();try{await x(V,{target_role:C,target_user_id:d});const p=(0,Y._B)(g),N=p.get(V),j=(N==null?void 0:N.permissions)||[];if(j.find(B=>Number(B.user_id)===Number(d))){const B=j.filter(D=>Number(D.user_id)!==Number(d)),w={...N,permissions:B};p.set(V,w),await Z({type:m.X2.UpdateProjectListMap,payload:new Map(p)}),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.A)(w)}},"*")}}catch(p){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(Te,le,i)=>{"use strict";i.d(le,{Ay:()=>x,X2:()=>b});const r={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let b=function(A){return A.UpdateState="reducer:update:user",A.UpdateUser="reducer:update:user",A.UpdateOrg="reducer:update:org",A.UpdateSpace="reducer:update:space",A.UpdateFolderListMap="reducer:update:folderListMap",A.UpdateProjectListMap="reducer:update:projectListMap",A}({});const x=function(A,Y){A===void 0&&(A=r);const{type:m,payload:L}=Y;switch(m){case b.UpdateState:return{...A,...L};case b.UpdateUser:return{...A,user:{...A.user,...L}};case b.UpdateOrg:return{...A,org:{...A.org,...L}};case b.UpdateSpace:return{...A,space:{...A.space,...L}};case b.UpdateFolderListMap:return{...A,folderListMap:L};case b.UpdateProjectListMap:return{...A,projectListMap:L};default:return A}}},61654:(Te,le,i)=>{"use strict";i.d(le,{IE:()=>Y,M0:()=>de,WR:()=>x,XW:()=>ne,_B:()=>q,cb:()=>J,hG:()=>V,iF:()=>ue,il:()=>z,kG:()=>L,q7:()=>C,wA:()=>A,yZ:()=>Z});var r=i(63686),b=i(59318),v=i(37673);const x=f=>{var g;return(g=f.projectAccess.user)==null?void 0:g.user_id},A=f=>f.projectAccess.org,Y=f=>{var g;return((g=f.projectAccess.org)==null?void 0:g.cid)||""},m=f=>{var g;return((g=f.projectAccess.org)==null?void 0:g.members)||[]},L=f=>{var g;return((g=f.projectAccess.org)==null?void 0:g.permissions)||[]},z=f=>f.projectAccess.space,de=f=>f.projectAccess.space.cid,ue=f=>f.projectAccess.space.permissions||[],ne=f=>f.projectAccess.folderListMap||new Map,q=f=>f.projectAccess.projectListMap||new Map,J=(0,r.Mz)(x,L,(f,g)=>(0,b.oE)({userId:f,orgPermissions:g})),Z=(0,r.Mz)(x,ue,(f,g)=>(0,b.sq)({userId:f,spacePermissions:g})),H=(0,r.Mz)(ue,f=>{const g=(0,b.Rc)(f);return f.reduce((p,N)=>{const{user_id:j}=N,P=(0,b.CF)({userId:j,permissionsMap:g,permissionScope:v.W.OrgSpace});return p.set(Number(j),P)},new Map)}),V=(0,r.Mz)(ue,f=>f.filter(p=>p.role==="space_limiter").reduce((p,N)=>{const{user_id:j}=N;return p.set(Number(j),N)},new Map)),d=(0,r.Mz)(m,f=>f.reduce((g,p)=>{const{user_id:N,user_cid:j,email:P,mobile:B}=p;return N&&j?g.set(Number(N)||N,{...p}):(P&&g.set(P,{...p}),B&&g.set(B,{...p}),g)},new Map)),C=(0,r.Mz)(L,d,(f,g)=>f.reduce((p,N)=>{const{user_id:j,unsign_remark:P}=N,B=j||P,w=g.get(B)||{},D=(0,b.Sc)(N);return p.set(B,{...w,permission:D})},new Map))},37673:(Te,le,i)=>{"use strict";i.d(le,{W:()=>r,p:()=>b});let r=function(v){return v.Org="org",v.OrgSpace="space",v.Folder="folder",v.Project="project",v}({}),b=function(v){return v.OrgSpace="orgspace-permission-tip",v.OrgSpaceLimiter="orgspace-limiter-permission-tip",v.RootFolder="root-folder-permission-tip",v.SubFolder="sub-folder-permission-tip",v.Project="project-permission-tip",v}({})},15573:(Te,le,i)=>{"use strict";i.d(le,{A:()=>x,u:()=>v});var r=i(63924),b=i.n(r);const v=(A,Y)=>{if(!(A!=null&&A.cid))return-1;let m=0,L="",z=A;for(;z&&!z.root_project&&(m=m+1,L=z.parent_cid,!!L);)z=Y.get(L);return m};function x(A){return A&&Object.entries(A).reduce((Y,m)=>{let[L,z]=m;return Object.assign(Y,{[b()(L)]:z})},{})}},59318:(Te,le,i)=>{"use strict";i.d(le,{CF:()=>V,CZ:()=>x,Cj:()=>de,Rc:()=>H,Sc:()=>m,oE:()=>ue,ox:()=>Y,pf:()=>Z,sq:()=>ne});var r=i(3895),b=i(37673);const v=function(d,C,f){return f===void 0&&(f=!1),{level:d,roleName:C,isInherited:f,isOwner:d>=r.zB.OWNER,isSuperManager:d>=r.zB.SUPERMANAGER,isManager:d>=r.zB.MANAGER,isMember:d>=r.zB.MEMBER,isViewer:d>=r.zB.VIEWER,isLimiter:d===r.zB.LIMITER,isBanned:d===r.zB.BANNED,isUnknown:d===r.zB.UNKNOWN}},x=v(r.zB.UNKNOWN),A=v(r.zB.UNJOINED),Y=(d,C)=>{if(!C||C.length<=0)return null;const f=C.find(g=>{let{user_id:p,unsign_remark:N}=g;return Number(p)===Number(d)||N===d});return f||null},m=d=>d?v(r.p_[d.role],d.role):v(r.zB.UNKNOWN),L=(d,C)=>{if(!d)return[];let f=[],g=d,p=C.get(g);for(;p&&!p.root_project;)f=f.concat(p.permissions),g=p.parent_cid,p=C.get(g);return f},z=(d,C,f)=>{let g=L(d,C);return g=g.concat(f).reverse(),g=g.filter(p=>p.role!=="space_limiter"),g.map(p=>{const N=folderInheritePermissionRoleFixMap[p.role];return N?{...p,role:N,inherited:!0}:{...p,inherited:!0}})},de=(d,C,f)=>{let g=L(d,C);return g=g.concat(f).reverse(),g=g.filter(p=>p.role!=="space_limiter"),g.map(p=>{const N=r.OO[p.role];return N?{...p,role:N,inherited:!0}:{...p,inherited:!0}})},ue=d=>{const{orgPermissions:C,userId:f}=d;if(!f||!C||C.length<1)return v(r.zB.UNKNOWN);const g=Y(f,C);return g?v(r.p_[g.role],g.role):v(r.zB.UNKNOWN)},ne=d=>{const{spacePermissions:C,userId:f}=d;if(!f||!C||C.length<1)return v(r.zB.UNKNOWN);const g=Y(f,C);return g?v(r.FU[g.role],g.role):v(r.zB.UNKNOWN)},q=d=>{const{userId:C,orgPermissions:f,spacePermissions:g,currentFolder:p,folderListMap:N}=d;if(!C||!p)return v(permissionLevels.UNKNOWN);const{org_cid:j,space_cid:P}=p;if(!j&&!P)return v(permissionLevels.OWNER,"team_owner");if(!g||g.length<1)return v(permissionLevels.UNKNOWN);const{isRoot:B,root_project:w}=p;if(B||w){const ae=ne({spacePermissions:g,userId:C});return ae.roleName==="space_limiter"?{...ue({orgPermissions:f,userId:C}),isLimiter:!0}:ae}const D=p.permissions||[],re=z(p.parent_cid,N,g),me=Object.values(Object.fromEntries([...re,...D].map(ae=>[ae.user_id,ae]))),ie=Y(C,me);return ie?v(folderPermissionLevelsMap[ie.role],ie.role,ie.inherited):v(permissionLevels.UNKNOWN)},J=d=>{const{userId:C,spacePermissions:f,currentProject:g,folderListMap:p}=d;if(!C||!g)return v(permissionLevels.UNKNOWN);const{space_cid:N}=g;if(!N)return v(permissionLevels.OWNER,"project_owner");if(!f||f.length<1)return v(permissionLevels.UNKNOWN);const j=g.permissions||[],P=de(g.team_cid,p,f),B=Object.values(Object.fromEntries([...P,...j].map(D=>[D.user_id,D]))),w=Y(C,B);return w?v(projectPermissionLevelsMap[w.role],w.role,w.inherited):v(permissionLevels.UNKNOWN)},Z=function(d,C,f){return f===void 0&&(f=!1),C?typeof C[d]<"u"?v(C[d],d,f):v(r.zB.UNJOINED):v(r.zB.UNKNOWN)},H=d=>!d||d.length<1?new Map:d.reduce((C,f)=>C.set(Number(f.user_id),f),new Map),V=d=>{const{permissionsMap:C,userId:f,permissionScope:g}=d;if(!f||!C||C.size<1)return v(r.zB.UNKNOWN);const{role:p,inherited:N}=C.get(Number(f))||{};if(!p)return v(r.zB.UNKNOWN);let j=null;switch(g){case b.W.Org:j=r.p_;break;case b.W.OrgSpace:j=r.FU;break;case b.W.Folder:j=r.lY;break;case b.W.Project:j=r.au;break;default:break}return Z(p,j,N)}},70260:(Te,le,i)=>{"use strict";i.d(le,{A:()=>d});var r=i(51044),b=i(21676),v=i(66748),x=i.n(v),A=i(98236),Y=i.n(A),m=i(22718);const L=b.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1kbzuk3-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),z=(0,b.Ay)(L).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1kbzuk3-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),de=b.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1kbzuk3-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var ue=i(57464);function ne(C,f,g){return f=q(f),f in C?Object.defineProperty(C,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):C[f]=g,C}function q(C){var f=J(C,"string");return typeof f=="symbol"?f:String(f)}function J(C,f){if(typeof C!="object"||!C)return C;var g=C[Symbol.toPrimitive];if(g!==void 0){var p=g.call(C,f||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(C)}class Z extends r.PureComponent{constructor(){super(...arguments),ne(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ne(this,"onToggle",()=>{const{name:f,value:g,label:p,onToggle:N,onChange:j}=this.props,{isChecked:P}=this.state,{canToggle:B}=this,w=B?!0:P;this.setState({isChecked:w}),N(w,f,g||p),j(f,g||p,w)})}static getDerivedStateFromProps(f,g){let{prevProps:p,isChecked:N}=g;return Y()(p,f)?null:{prevProps:f,isChecked:f.isChecked}}get isDisabled(){const{isDisabled:f,disabled:g}=this.props;return f||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:f,readOnly:g}=this;return!f&&!g}render(){const{size:f,theme:g,className:p,label:N,name:j}=this.props,{isChecked:P}=this.state,{isDisabled:B,readOnly:w}=this;return(0,ue.jsxs)(z,{className:(0,m.Hn)([g==="core"?"CoreRadio":"Radio",f,p,P&&"is-checked",B&&"is-disabled",w&&"readonly"]),children:[(0,ue.jsx)("input",{type:"radio",defaultChecked:P,disabled:B,name:j,onClick:this.onToggle}),(0,ue.jsx)("span",{className:"Check-state"}),(0,ue.jsx)("span",{className:"Check-label",children:N})]})}}ne(Z,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),className:x().string,label:x().any,name:x().string,value:x().any,isChecked:x().bool,isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired}),ne(Z,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class H extends r.PureComponent{constructor(){super(...arguments),ne(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ne(this,"state",{prevProps:this.props,value:this.props.value}),ne(this,"createOnChangeHandler",(f,g,p)=>()=>{const{onToggle:N,onChange:j}=this.props,{value:P}=this.state,{canToggle:B}=this,w=B?g:P;this.setState({value:w}),N(w,f),j({name:f,value:w,idx:p})})}static getDerivedStateFromProps(f,g){let{prevProps:p,value:N}=g;return Y()(p,f)?null:{prevProps:f,value:f.value}}get isDisabled(){const{isDisabled:f,disabled:g}=this.props;return f||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:f,readOnly:g}=this;return!f&&!g}render(){const{size:f,theme:g,className:p,optionList:N}=this.props,{value:j}=this.state,{name:P,isDisabled:B,readOnly:w}=this,D=(0,m.Hn)([g==="core"?"CoreRadioGroup":"RadioGroup",f,p,B&&"is-disabled",w&&"readonly"]);return(0,ue.jsx)(de,{className:D,children:N.map((re,me)=>re&&(0,ue.jsx)(Z,{name:P,size:f,theme:g,label:(0,m.Oi)(re),type:"radio",isChecked:(0,m.o3)(re,j),isDisabled:B||re.isDisabled,readOnly:w,onChange:B||re.isDisabled?void 0:this.createOnChangeHandler(P,(0,m.nE)(re),me)},me))})}}ne(H,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),className:x().string,name:x().string,optionList:x().arrayOf(x().oneOfType([x().string,x().number,x().shape({label:x().any,value:x().any,isDisabled:x().bool})])).isRequired,value:x().oneOfType([x().number,x().string]),isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired}),ne(H,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const V=(0,b.Ay)(H).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",";&.is-checked{color:",";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],C=>C.theme.color_text_L2,C=>C.theme.color_text_L1,C=>C.theme.color_proto,C=>C.theme.color_bg_white,C=>C.theme.color_text_disabled01,C=>C.theme.color_bg_white,C=>C.theme.color_bg_white);class d extends r.PureComponent{render(){return(0,ue.jsx)(V,{...this.props})}}},54176:(Te,le,i)=>{"use strict";i.d(le,{A:()=>Z});var r=i(51044),b=i(21676),v=i(66748),x=i.n(v),A=i(98236),Y=i.n(A),m=i(22718);const L=b.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-du1ivp-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var z=i(57464);function de(H,V,d){return V=ue(V),V in H?Object.defineProperty(H,V,{value:d,enumerable:!0,configurable:!0,writable:!0}):H[V]=d,H}function ue(H){var V=ne(H,"string");return typeof V=="symbol"?V:String(V)}function ne(H,V){if(typeof H!="object"||!H)return H;var d=H[Symbol.toPrimitive];if(d!==void 0){var C=d.call(H,V||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(H)}class q extends r.PureComponent{constructor(){super(...arguments),de(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),de(this,"toggle",V=>{let{target:d}=V;const{onChange:C}=this.props,{isChecked:f}=this.state,{isDisabled:g,canToggle:p}=this,N=p?!f:f;return d.blur(),this.setState({isChecked:N}),!g&&C(N)})}static getDerivedStateFromProps(V,d){let{prevProps:C}=d;return Y()(C,V)?null:{prevProps:V,isChecked:V.isChecked}}get isDisabled(){const{isDisabled:V,disabled:d}=this.props;return V||d}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:V,readOnly:d}=this;return!V&&!d}render(){const{size:V,readOnly:d,className:C,children:f,isIOS:g,isIOSReverse:p}=this.props,{isChecked:N}=this.state,{isDisabled:j}=this;return(0,z.jsxs)(L,{className:(0,m.Hn)(["Switch",g&&"Switch-IOS",p&&"Switch-IOS-NoTransform",V,N?"is-checked":"isnt-checked",j&&"is-disabled",d&&"readonly",C]),children:[(0,z.jsx)("button",{type:"button",disabled:j,onClick:this.toggle}),f]})}}de(q,"propTypes",{className:x().string,size:x().oneOf(["regular","small"]),isChecked:x().bool,isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,isIOS:x().bool,isIOSReverse:x().bool,onChange:x().func,children:x().any}),de(q,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const J=(0,b.Ay)(q).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],H=>H.theme.color_text_disabled01,H=>H.theme.color_text_btn,H=>H.theme.color_proto,H=>H.theme.color_text_btn);class Z extends r.PureComponent{render(){return(0,z.jsx)(J,{...this.props})}}},48411:(Te,le,i)=>{"use strict";i.d(le,{P8:()=>ne,CY:()=>de,ZQ:()=>ue,bp:()=>z,Qv:()=>L,c3:()=>m,nh:()=>q,HI:()=>H,YN:()=>A,HP:()=>C,GT:()=>g});const r={Mobile:"mobile",PC:"pc",Pad:"pad",DisplayScreen:"display_screen",SmartTV:"smart_tv",SmartCar:"smart_car",Hmi:"hmi",Watch:"watch",Slide:"slide",Customize:"customize"},b={Mobile:"mobile",Web:"web",Other:"other",App:"app",Applet:"applet",Website:"website",WebBack:"web_back",Ipad:"ipad",SmartTV:"smart_tv",AppleWatch:"apple_watch",Slide:"slide",DisplayScreen:"display_screen",HMI:"HMI",Activity:"activity"},v={MP_App:"MP-app",MP_IOS:"MP-ios",MP_Android:"MP-android",MP_Applet:"MP-applet",MP_H5:"MP-h5",MP_Public:"MP-public",MP_ECommerce:"MP-e_commerce",MP_Poster:"MP-poster",PC_Website:"PC-web",PC_WebBack:"PC-web_back",PC_MacOS:"PC-mac",PC_Windows:"PC-win",PAD_IpadOs:"PAD-ipad",PAD_Android:"PAD-android",TV_AppleTVOS:"TV-apple",TV_AndroidTV:"TV-android",CAR_Car:"CAR-car",HMI_IndusHmi:"HMI-indus_hmi",HMI_Car:"HMI-car",WATCH_Apple:"WATCH-apple",WATCH_Android:"WATCH-android",SLIDE_Slide:"SLIDE-slide",DS_Screen:"DS-screen",Customize:"customize",DS_Customize:"DS-customize",HMI_Customize:"HMI-customize"},x={[r.Mobile]:[v.MP_App,v.MP_Applet,v.MP_H5,v.MP_Public,v.MP_IOS,v.MP_Android],[r.PC]:[v.PC_Website,v.PC_WebBack,v.PC_MacOS,v.PC_Windows],[r.Pad]:[v.PAD_IpadOs,v.PAD_Android],[r.DisplayScreen]:[v.DS_Screen],[r.SmartTV]:[v.TV_AppleTVOS,v.TV_AndroidTV],[r.Hmi]:[v.HMI_IndusHmi,v.HMI_Car],[r.Watch]:[v.WATCH_Apple,v.WATCH_Android],[r.Slide]:[v.SLIDE_Slide]},A=()=>{const p=I18N.Resources.basic_widget,N=I18N.Resources.form_widget,j=I18N.Resources.nav_widget,P=I18N.Resources.chart_widget,B=I18N.Resources.advanced_chart_widget,w=I18N.Resources.multimedia_widget,D=I18N.Resources.shape_widget,re=I18N.Resources.flow_widget;return{basic:p,form:N,navigation:j,chart:P,advancedChart:B,multimedia:w,shape:D,flow:re}},Y={...r,Common:"common"},m={...v,Common:"common"},L={...x,[Y.Common]:[m.Common]},z={All:"all",More:"more"},de={[m.MP_App]:{mt2lozhvvrwd9qh3y:1,mt2lozhjwat9i4s4f:2,mt2lozn2pekekuj9o:3,mt2lozkjwaxx5sc6l:4,mt2lozkqyxzboszxp:5,mt2lozkx5obr587d4:6,mt2lozl89fz8opt8u:7,mt2loznb2k0zlyffa:8,mt2lozll0ulbic8cr:9,mt2lozo1tr65gz6pn:10,mt2lozmatpdb5sriv:11,mt2lozmj66ykejjy9:12,mt2lozmtwmqe7ys4b:13},[m.MP_IOS]:{mt2loxx9vhe83pho7:1,mt2lozcyfdcve2tbx:2,mt2lozruqjwdtbvue:3,mt2lozpshrhq5vij5:4,mt2lozs5uy3zaoupu:5,mt2lozsedohxe6r74:6,mt2lozqoyxhmgy5y5:7,mt2lp0j70wykekm4h:8,mt2lozq2ddinb4pf7:9},[m.MP_Android]:{mt2lozsl4bkv77j8s:1,mt2lozsovqt9b08nn:2,mt2lozss5n1uvuc46:3,mt2lozsu90qn0obeu:4},[m.MP_Applet]:{mtl2eevw55atfiu9:1,mtkc608a4k7xr0i2:2,mtkc33rwf8yjgahd:3,mtkc5zphvgbjz33n:4,mtl2gzug7zytusa4:5,mtkc33x51uq24mx:6,mtkc32xraihahnkg:7,mtk4s6tn56o6ph8a:8,mtk4s6tmciidvya6:9,mtki026w64jh2esk:10},[m.MP_H5]:{mtl121jwze5ph1ap:1,mtl4pfb4nyec95sh:2,mtk4s6tsiqfw31q2:3,mtl4f8r5zpju1kk6:4,mtl486i14562v4cu:5},[m.MP_Public]:{mt2lozoup371ddim9:1,mt2lozpcypmvjkd2p:2},[m.MP_ECommerce]:{mtk4s6ttaa6zwrn2:1,mtk4s6tstihx3kv:2,mtk4s6tu9ngo0rcj:3,mtk4s6tkm7vl5oj8:4},[m.MP_Poster]:{mtki03e4384ossnz:1},[m.PC_Website]:{mt2lp0te7lkorbvrt:1,mt2lp0jjhriinr65t:2,mt2lp0tla1tadz8i3:3,mt2lp0tod9dgs38vz:4,mt2lp0trerpe843hv:5,mt2lp0tu2xixvnzxq:6,mt2lp0y1yqzsmvq4b:7,mt2lp0ywxvf2oqb8u:8,mt2lp0y6te0ortuu9:9,mt2lp0yr1u4kwi6tg:10,mt2lp0yp388m469rj:11,mt2lp0yc11psuwxi4:12},[m.PC_WebBack]:{mt2loztlvsbwyhnct:1,mt2lp0hxsgd1u52oi:2,mt2lp0i0kr4oo4ham:3,mt2lp0it6gedxfg4e:4,mt2lp0i3buy38zpxw:5,mt2lozsoc1x8dhgcu:6,mt2lozrjpn1uvtppn:7,mt2lozsjfmlbtb8br:8,mt2lozrsfzox2pvxz:9,mt2lozrngjw8j02by:10},[m.PC_MacOS]:{mt2lp0nlmyrcmh92j:1,mt2lp0sl3piupf46h:2,mt2lp0rlhnccjqm51:3,mt2lp0shy54ktv3ia:4,mt2lp0xqwg1ytx1m1:5,mt2lp0u2tdh8jrsec:6,mt2lp0tyg6sz9t8oc:7,mt2lp0tv5f6q8rnw3:8,mt2lp0y0szn7hv2py:9,mt2lp0yvugl91ms3u:10,mt2lp0y6466kwqonr:11,mt2lp0yrgwtji3xcl:12,mt2lp0yonfcn3ah55:13,mt2lp0yltffjfqtbl:14},[m.PC_Windows]:{mt2lp12zpb0kdluo4:1,mt2lp16ho95o9h1be:2,mt2lp16lqjaey7agv:3,mt2lp16nnmowgzouf:4,mt2lp0xrf137mahyp:5,mt2lp0u3po8n4hcrq:6,mt2lp0tz1rehh8d73:7,mt2lp0tvw7cliz08m:8,mt2lp0y07dhidvrp4:9,mt2lp0yv8u4q8pnhr:10,mt2lp0y5hmrhbtc03:11,mt2lp0yruig74twz:12,mt2lp0yo93fkym2ec:13,mt2lp0yb0uom7m0n1:14},[m.PAD_IpadOs]:{mt2lozt1l2kg7iqtr:1,mt2lp0it6t990rnld:2,mt2lp0mwm8jwcotdv:3,mt2lp0n74zbbdnr7w:4},[m.PAD_Android]:{mtki03e4384ossnz:1},[m.TV_AppleTVOS]:{mt2lp1ycn4ioyfy5a:1,mt2lp1yffemkhsle3:2,mt2lp1yij1yg8g5i3:3,mt2lp1ylg5hmk0i5q:4},[m.TV_AndroidTV]:{mt2lp1y91m6cei8v9:1,mt2lp1xnd95laexgk:2,mt2lp1xuxbeh2rcg1:3,mt2lp1xpsdjrjh6db:4,mt2lp1xkugp2eu9nb:5},[m.HMI_Car]:{mt2lozre4zpi75z6k:1,mt2lozqzddfwb9gs8:2},[m.HMI_IndusHmi]:{mt2lpi48t5neqizai:1,mt2lpi43mu6wk9ffy:2},[m.WATCH_Apple]:{mt2lp0izyslgamu24:1},[m.WATCH_Android]:{mt2lp0j3czrmtow9j:1},[m.SLIDE_Slide]:{mt2lp0kvxkb2r9k7c:1},[m.DS_Screen]:{mt2lpi3vazsyug92l:1,mt2lpi38e9imwzi56:2,mt2lpi2w3koehilvz:3,mt2lpi340d21pk2bv:4,mt2lpi3cszx3ysf1k:5,mt2lpi30fwywrqmar:6}},ue={name:z.More,id:null},ne={name:z.All,id:null},q=function(p){p===void 0&&(p=!1);const{basic:N,form:j,navigation:P,chart:B,multimedia:w,shape:D,flow:re}=A();return p?{[m.Common]:[{name:N},{name:j},{name:P},{name:B},{name:w},{name:D},{name:re}]}:{[m.Common]:[{name:N},{name:j},{name:P},{name:B},{name:w},{name:D}]}},J={[m.MP_App]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[m.MP_Applet]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[m.PC_WebBack]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[m.PC_Website]:{\u5B98\u7F51\u5BFC\u822A:1,\u5185\u5BB9\u533A:2,\u7279\u5F81\u533A:3,Banner:4,\u5B9A\u4EF7\u533A:5,\u9875\u811A:6},[m.DS_Screen]:{\u56FE\u8868:1,\u6846\u67B6\u80CC\u666F:2,\u6807\u9898\u6837\u5F0F:3,\u5730\u56FE:4,\u6309\u94AE:5,\u7A97\u53E3\u6846:6},[m.Common]:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},Z={[m.MP_App]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u6D41\u7A0B:6},[m.MP_Applet]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u6D41\u7A0B:6},[m.PC_WebBack]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u6D41\u7A0B:6},[m.PC_Website]:{\u5B98\u7F51\u5BFC\u822A:1,\u5185\u5BB9\u533A:2,\u7279\u5F81\u533A:3,Banner:4,\u5B9A\u4EF7\u533A:5,\u6D41\u7A0B:6},[m.DS_Screen]:{\u56FE\u8868:1,\u6846\u67B6\u80CC\u666F:2,\u6807\u9898\u6837\u5F0F:3,\u5730\u56FE:4,\u6309\u94AE:5,\u6D41\u7A0B:6},[m.Common]:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},H=function(p){if(p===void 0&&(p=!1),!ENV.IS_WONDER_SHARE)return p?Z:J;const{basic:N,form:j,navigation:P,chart:B,multimedia:w,shape:D}=A();return{[m.Common]:{[N]:1,[j]:2,[P]:3,[B]:4,[w]:5,[D]:6}}},V={[m.MP_App]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.MP_Applet]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.PC_WebBack]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.PC_Website]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u5B98\u7F51\u5BFC\u822A:{\u5BFC\u822A:1},\u5185\u5BB9\u533A:{\u591A\u5A92\u4F53:1}},[m.DS_Screen]:{all:{\u57FA\u7840:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3,\u591A\u5A92\u4F53:4,\u8868\u5355:5,\u5BFC\u822A:6,\u5F62\u72B6:7},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2}},[m.MP_H5]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.MP_Public]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4}},[m.MP_IOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.MP_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.PC_MacOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.PC_Windows]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.PAD_IpadOs]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.PAD_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.TV_AppleTVOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[m.TV_AndroidTV]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[m.HMI_IndusHmi]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6,\u5F62\u72B6:7}},[m.HMI_Car]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u5BFC\u822A:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[m.WATCH_Apple]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[m.WATCH_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[m.SLIDE_Slide]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u5BFC\u822A:6,\u5F62\u72B6:7}},[m.Common]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6},\u57FA\u7840:{\u57FA\u7840:1},\u8868\u5355:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2},\u591A\u5A92\u4F53:{\u591A\u5A92\u4F53:1},\u5F62\u72B6:{\u5F62\u72B6:1}}},d={[m.MP_App]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6D41\u7A0B:{\u6D41\u7A0B:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.MP_Applet]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u6D41\u7A0B:5},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6D41\u7A0B:{\u6D41\u7A0B:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.PC_WebBack]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6,\u6D41\u7A0B:7},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6D41\u7A0B:{\u6D41\u7A0B:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[m.PC_Website]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7},\u5B98\u7F51\u5BFC\u822A:{\u5BFC\u822A:1},\u5185\u5BB9\u533A:{\u591A\u5A92\u4F53:1},\u6D41\u7A0B:{\u6D41\u7A0B:1}},[m.DS_Screen]:{all:{\u57FA\u7840:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3,\u591A\u5A92\u4F53:4,\u8868\u5355:5,\u5BFC\u822A:6,\u5F62\u72B6:7,\u6D41\u7A0B:8},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2},\u6D41\u7A0B:{\u6D41\u7A0B:1}},[m.MP_H5]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.MP_Public]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u6D41\u7A0B:5}},[m.MP_IOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.MP_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.PC_MacOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.PC_Windows]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.PAD_IpadOs]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.PAD_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.TV_AppleTVOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.TV_AndroidTV]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.HMI_IndusHmi]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6,\u5F62\u72B6:7,\u6D41\u7A0B:8}},[m.HMI_Car]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u5BFC\u822A:4,\u56FE\u8868:5,\u5F62\u72B6:6,\u6D41\u7A0B:7}},[m.WATCH_Apple]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5,\u6D41\u7A0B:6}},[m.WATCH_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5,\u6D41\u7A0B:6}},[m.SLIDE_Slide]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u5BFC\u822A:6,\u5F62\u72B6:7,\u6D41\u7A0B:7}},[m.Common]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6,\u6D41\u7A0B:7},\u57FA\u7840:{\u57FA\u7840:1},\u8868\u5355:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2},\u591A\u5A92\u4F53:{\u591A\u5A92\u4F53:1},\u5F62\u72B6:{\u5F62\u72B6:1},\u6D41\u7A0B:{\u6D41\u7A0B:1}}},C=function(p){if(p===void 0&&(p=!1),!ENV.IS_WONDER_SHARE)return p?d:V;const{basic:N,form:j,navigation:P,chart:B,advancedChart:w,multimedia:D,shape:re}=A();return{[m.Common]:{all:{[N]:1,[j]:2,[P]:3,[B]:4,[w]:5,[D]:6,[re]:7},[N]:{[N]:1},[j]:{[j]:1},[P]:{[P]:1},[B]:{[B]:1,[w]:2},[D]:{[D]:1},[re]:{[re]:1}}}},f={[m.MP_App]:"app",[m.MP_IOS]:"ios",[m.MP_Android]:"android",[m.MP_Applet]:"\u5C0F\u7A0B\u5E8F",[m.MP_H5]:"H5",[m.MP_Public]:"\u516C\u4F17\u53F7",[m.MP_ECommerce]:"\u7535\u5546",[m.MP_Poster]:"\u6D77\u62A5",[m.PC_Website]:"web\u5B98\u7F51",[m.PC_WebBack]:"web\u540E\u53F0",[m.PC_MacOS]:"mac OS",[m.PC_Windows]:"windows",[m.PAD_IpadOs]:"iPad OS",[m.PAD_Android]:"\u5E73\u677F\u5B89\u5353",[m.TV_AppleTVOS]:"apple tv",[m.TV_AndroidTV]:"Android tv",[m.HMI_IndusHmi]:"\u5DE5\u4E1AHMI",[m.HMI_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[m.CAR_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[m.WATCH_Apple]:"watch os",[m.WATCH_Android]:"\u5B89\u5353\u624B\u8868",[m.SLIDE_Slide]:"\u5E7B\u706F\u7247",[m.DS_Screen]:"\u53EF\u89C6\u5316\u5927\u5C4F"},g={[b.Mobile]:"\u624B\u673A",[b.Web]:"\u7F51\u9875/\u7535\u89C6",[b.Other]:"\u5176\u5B83",[b.App]:"App",[b.Applet]:"\u5C0F\u7A0B\u5E8F",[b.Website]:"Web\u7F51\u7AD9",[b.WebBack]:"Web\u540E\u53F0",[b.Ipad]:"\u5E73\u677F\u7AEF",[b.SmartTV]:"\u667A\u80FD\u7535\u89C6",[b.AppleWatch]:"\u624B\u8868",[b.Slide]:"\u5E7B\u706F\u7247",[b.DisplayScreen]:"\u53EF\u89C6\u5316\u5927\u5C4F",[b.HMI]:"HMI",[b.Activity]:"\u6D3B\u52A8"}},10286:(Te,le,i)=>{"use strict";i.d(le,{ER:()=>V,J_:()=>q,Or:()=>z,QC:()=>g,X0:()=>Z,Y5:()=>J,aX:()=>f,g:()=>de,l1:()=>C,wi:()=>L,yq:()=>ue});var r=i(26114),b=i(44422),v=i(72907),x=i(23990),A=i(29601),Y=i(36521),m=i(57464);const L=async p=>{let{projectCid:N}=p;return(0,x.DE)("/api/upper/web_v1/sharing/initial?cid="+N)},z=async p=>{let{projectCid:N,sharing:j}=p;return(await(0,x.zi)("/api/flat/web_v1/project_share/"+N,{...j})).project_share},de=async p=>{let{projectCid:N,sharingCid:j}=p;try{return await(0,x.OD)("/api/flat/web_v1/project_share/"+j+"?project_cid="+N)}catch(P){await(0,v.FY)(P)}},ue=async p=>{let{sharing:N}=p;try{return await(0,x.SN)("/api/flat/web_v1/project_share/"+N.cid,{project_share:N})}catch(j){await(0,v.FY)(j)}},ne=()=>{const p=document.getElementById("workspace");(0,r.H)(p).render((0,m.jsx)(b.A,{locale:(0,A.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},q=async p=>{try{if(!p.accessToken||p.project.access_token===p.accessToken)return J(p.project);{const{project:N,accessToken:j}=p,{project_share:P}=await(0,x.DE)("/api/flat/web_v1/project_share/"+N.cid+"?access_token="+j);return{sharing:{...P,type:"advanced",view_mode:P.device_model}}}}catch(N){await ne()}},J=p=>{const{cid:N,access_token:j,access:P,building:B,comment_permission:w,password:D,visibility:re,wechat:me}=p,ie=new URLSearchParams(location.search),ae=ie.get("screen"),X=ie.get("canvasId"),U=ie.get("view_mode")||(0,Y.Yt)(N+"_default_sharing_view_mode","read_only",Y.qW.String),R=ie.get("view_mode")||(0,Y.Yt)(N+"_default_sharing_view_mode","read_only",Y.qW.String),Q=!!ie.get("selection"),ye=Q?ie.get("selection").split(","):[];return{sharing:{type:"default",project_cid:N,access_token:j,view_access:P,view_sticky:B,comment_permission:w,password:D,visibility:re,wechat:me,view_mode:U,screen_visible_switch:Q,screen_visible_list:ye,page_begin:ae,canvas_begin:X,device_model:R}}},Z=async p=>{let{projectCid:N}=p;try{const{project_shares:j}=await(0,x.DE)("/api/flat/web_v1/project_share/"+N+"/all");return j.sort((P,B)=>new Date(B.created_at).getTime()-new Date(P.created_at).getTime())}catch(j){await(0,v.FY)(j)}},H=async p=>{try{const{result:N}=await fetchGetJSON("/api/accesses/v4/project/"+p+"/permission_check?permission=P:update");return N}catch(N){await apiErrorModals(N)}},V=async p=>{let N=null;try{N=await(0,x.DE)("/flpak/ww-p2meta/"+p)}catch(j){await(0,v.FY)(j)}return N},d={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,view_sticky:!0},C=()=>({sharing:d}),f=async p=>{let N,j;try{N=await(0,x.DE)("/api/upper/web_v1/basics/"+p+"/get_details"),N&&JSON.stringify(N)!=="{}"&&(j=!0)}catch(P){N=P,j=!1}return{result:N,statusOk:j}},g=async p=>{let N,j;try{N=await(0,x.DE)("/api/accesses/v4/project/"+p+"/permission_check?permission=P:update"),N&&JSON.stringify(N)!=="{}"&&(j=!0)}catch(P){N=P,j=!1}return{result:N,statusOk:j}}},77180:(Te,le,i)=>{"use strict";i.d(le,{gE:()=>b,nM:()=>r,nQ:()=>v});const r="local_sharing_copy_url_v8_1",b=50,v={public:"share_anyone_view",restricted:"org_members_only"}},6264:(Te,le,i)=>{"use strict";i.d(le,{n:()=>ii});var r=i(51044),b=i(28055),v=i(96510),x=i(82928),A=i(50378),Y=i(30939);const m={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only"},L=null,z="123",de={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},ue={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ne={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var q=i(10286),J=i(46664),Z=i(60482),H=i(15039);const d=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:m,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1},a=function(_,h){_===void 0&&(_=e);let{type:S="sharing:state:update",payload:M=e}=h;switch(S){case"sharing:state:update":return{..._,...M};case"sharing:state:clear":return{...e};default:return _}},c={"sharing:init":(_,h)=>{let{dispatch:S}=_,{payload:M}=h;S({type:"sharing:state:update",payload:M})},"sharing:currentSharing:update":(_,h)=>{let{getState:S,dispatch:M}=_,{payload:{updatedKV:E}}=h;const O=S(),k={...l.getCurrentSharing(O),...E};M({type:"sharing:state:update",payload:{currentSharing:k}})},"sharing:remote:sharing:update":async(_,h)=>{let{getState:S,dispatch:M}=_,{payload:{sharingData:E,updatedKV:O}}=h;const W=S(),k=l.getOrg(W),G=l.getProject(W);let se;if(E.type==="default"){var T,ee;se=async()=>(0,J.Yu)(G.cid,{...O}),await(0,Z.eH)({updateType:"update",updateFn:se,org:k});const te={...G,...O};M({type:"sharing:state:update",payload:{project:te}}),(T=MB)!=null&&T.action&&((ee=MB)==null||ee.action("current:update:state",{currentProject:te}))}else{const te=l.getAdvancedSharingList(W),K={...E,...O};se=async()=>(0,q.yq)({sharing:K}),await(0,Z.eH)({updateType:"update",updateFn:se,org:k});const oe=te.map(fe=>fe.cid===K.cid?K:fe);M({type:y["sharing:advancedSharingList:update"],payload:{sharingList:oe}})}},"sharing:remote:sharing:delete":async(_,h)=>{let{getState:S,dispatch:M}=_,{payload:{sharingCid:E}}=h;const O=S(),W=l.getProject(O),k=l.getAdvancedSharingList(O);await(0,q.g)({projectCid:W.cid,sharingCid:E});const G=k.filter(se=>se.cid!==E);M({type:y["sharing:advancedSharingList:update"],payload:{sharingList:G}})},"sharing:settingPage:advanced:confirm":async _=>{let{getState:h,dispatch:S}=_;const M=h(),E=l.getSettingPageType(M),O=l.getCurrentSharing(M),W=l.getOrg(M),k=l.getProject(M);if(E==="create"){const G=async()=>(0,q.Or)({projectCid:k.cid,sharing:O});await(0,Z.eH)({updateType:"create",updateFn:G,org:W}),S({type:y["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const G=async()=>(0,q.yq)({sharing:O});await(0,Z.eH)({updateType:"update",updateFn:G,org:W})}S({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var h,S;let{getState:M,dispatch:E}=_;const O=M(),W=l.getCurrentSharing(O),k=l.getProject(O),G=l.getOrg(O),se=async()=>(0,J.Yu)(k.cid,Object.assign({},W,{building:W.view_sticky}));await(0,Z.eH)({updateType:"update",updateFn:se,org:G});const T=Object.assign({},k,W,{building:W.view_sticky});E({type:"sharing:state:update",payload:{project:T}}),(h=MB)!=null&&h.action&&((S=MB)==null||S.action("current:update:state",{currentProject:T}))},"sharing:go-settingPage":(_,h)=>{let{dispatch:S}=_,{payload:{currentSharing:M,settingPageType:E,subSettingPageType:O=e.subSettingPageType}}=h;S({type:"sharing:state:update",payload:{currentSharing:M,settingPageType:E,topPageIndex:"setting",subSettingPageType:O}})},"sharing:topPageIndex:jump":(_,h)=>{let{dispatch:S}=_,{payload:{topPageIndex:M=e.topPageIndex}}=h;S({type:"sharing:state:update",payload:{topPageIndex:M}})},"sharing:advancedSharingList:update":(_,h)=>{let{dispatch:S}=_,{payload:{sharingList:M}}=h;S({type:"sharing:state:update",payload:{advancedSharingList:M}})},"sharing:projectAccess:init":async _=>{let{dispatch:h,getState:S}=_;const M=S(),E=l.getMembers(M),O=l.getProject(M),W=O==null?void 0:O.cid,k=O==null?void 0:O.is_org_project;if(!W||!k){setTimeout(()=>{h({type:d.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:G,statusOk:se}=await(0,q.aX)(W);if(h({type:d.entryKey["sharing:init"],payload:{loading:!1}}),!!se&&G){var T,ee;const{project:te,org:K}=G;await h({type:"entry:projectAccess:initProjectData",payload:{initData:G,members:E}}),h({type:d.entryKey["sharing:init"],payload:{project:te,org:K,initData:G}}),(T=MB)!=null&&T.action&&((ee=MB)==null||ee.action("current:update:state",{currentProject:te}))}},"sharing:function:track":(_,h)=>{let{getState:S}=_,{payload:{operation:M,viewMode:E,isDefault:O}}=h;const W=S(),k=l.getProject(W)||{},G=l.getCanEditByUser(W),se=l.getOrg(W)||{},T=l.getUser(W),ee=l.getInitData(W)||{},te=(ee==null?void 0:ee.space)||{},K=l.getIsEditMode(W),oe=l.getHostType(W),{cid:fe,name:F}=k,be={userCanEdit:G,userId:T==null?void 0:T.id,orgPermissions:se==null?void 0:se.permissions,spacePermissions:te==null?void 0:te.permissions,projectPermissions:k==null?void 0:k.permissions,isEditMode:K,view_mode:E,optionType:M,share_type:O?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:oe==="iframe",project_name:F,project_cid:fe};(0,H.Xc)(be)},"sharing:advance:click:track":(_,h)=>{let{getState:S}=_,{}=h;const M=S(),E=l.getSettingPageType(M),O=l.getCurrentSharing(M),W=l.getProject(M),k=l.getAdvancedSharingList(M)||[],G=l.getScreenMetaList(M),se=l.getHostType(M),T=(0,Z.RF)(G.pageAttrMap),ee=(0,Z.Mj)(!O.screen_visible_switch,O.screen_visible_list,T);let te="\u5168\u90E8";O.screen_visible_switch&&(te=""+ee);const K=k.length;(0,H.nr)({link_name:O.link_name,links_number:E==="create"?K+1:K,share_type:O.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:te,operation_type:E==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:se==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:W.name,project_cid:W.cid})}},l=Y.B.genQuery(e,{getStateFn:_=>_.sharing}),y=Y.B.genEntryKey(c);return{__initialState:e,__reducer:a,__entry:c,entryKey:y,query:l}})(),C=(0,b.HY)({sharing:d.__reducer,projectAccess:A.Ay}),f={...d.__entry,...v.s},g=()=>{const e=(0,x.RZ)(),a=(0,b.y$)(C,(0,b.Tw)(e.middleware));return e.setEntryMap(f),a};var p=i(72605),N=i(21676),j=i(21952),P=i(57716),B=i(86634),w=i.n(B),D=i(77180);const re=N.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),me=N.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var ie=i(37673),ae=i(7758),X=i(59318);const U="__mb_delete_permission",R=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],Q=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],ye=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],Se=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Ae={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Re={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},ze=Object.fromEntries([...R,...Q,...ye,...Se].map(e=>[e.value,e.label]));var Ve=i(3895),$e=i(61654),xt=i(15573);const ht=e=>{const a=(0,p.d4)($e.XW),c=a.get(e);return(0,xt.u)(c,a)},St=(e,a)=>{const c=(0,p.d4)($e.XW),l=(0,p.d4)($e._B),y=(0,p.d4)($e.kG),_=(0,p.d4)($e.iF),h=(0,p.d4)($e.yZ),M=(0,p.d4)($e.il).is_disable_banned_viewer||!1;let E=null,O=null;const W=e;let k=[],G=[],se=[];E=l.get(a),G=E.permissions,se=(0,X.Cj)(E.team_cid,c,_),O=ie.W.Org,k=y,se=Object.values(Object.fromEntries(se.map(oe=>[oe.user_id,oe])));const T=Object.values(Object.fromEntries([...se,...G].map(oe=>[oe.user_id,oe]))),ee=(0,r.useMemo)(()=>{const oe=(0,X.Rc)(k);return k.reduce((fe,F)=>{const{user_id:be}=F,xe=(0,X.CF)({userId:be,permissionsMap:oe,permissionScope:O});return fe.set(Number(be),xe)},new Map)},[k]),te=(0,r.useMemo)(()=>{const oe=(0,X.Rc)(T);return k.reduce((fe,F)=>{const{user_id:be}=F,xe=(0,X.CF)({userId:be,permissionsMap:oe,permissionScope:W});return fe.set(Number(be),xe)},new Map)},[T,k]),K=(0,r.useMemo)(()=>{const oe=(0,X.Rc)(se);return se.reduce((fe,F)=>{const{user_id:be}=F,xe=(0,X.CF)({userId:be,permissionsMap:oe,permissionScope:W});return fe.set(Number(be),xe)},new Map)},[se]);return{userCurrentSpacePermission:h,membersTopScopePermissonMap:ee,membersCurrentScopePermissonMap:te,membersInheritedCurrentScopePermissonMap:K,topScopePermissionMembers:k,currentScopePermissionMembers:G,inheritedPermissionMembers:se,combinedCurrentPermissionMembers:T,isDisableBannedViewer:M}},Tt=(e,a,c)=>{const l=(0,p.wA)();return(0,r.useCallback)(async(_,h)=>{const{name:S,email:M,mobile:E,permissionMap:O}=_,{memberCurrentScopePermisson:W,currentScopeRoleName:k}=O;if(!W)return;const G=S||M||E;let se=!1;h===U&&(se=!0),W.isUnknown?await l({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:a,userCid:_.user_cid,roleName:h,userName:G}}):se?await l({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:a,userId:_.user_id,roleName:k,userName:G}}):await l({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:a,userId:_.user_id,roleName:h,userName:G}})},[a,l])},Ct=(e,a)=>{const c=(0,p.d4)($e.WR),l=(0,p.d4)($e.q7),y=(0,p.d4)($e.hG),{userCurrentSpacePermission:_,membersTopScopePermissonMap:h,membersCurrentScopePermissonMap:S,membersInheritedCurrentScopePermissonMap:M,topScopePermissionMembers:E,inheritedPermissionMembers:O,currentScopePermissionMembers:W,combinedCurrentPermissionMembers:k,isDisableBannedViewer:G}=St(e,a),se=S.get(Number(c))||X.CZ,T=!!y.get(Number(c)),ee=(0,r.useMemo)(()=>{const we=new Map;return E.forEach(Le=>{let{user_id:Ee,role:je}=Le;const He=h.get(Number(Ee))||X.CZ,Ge=S.get(Number(Ee))||X.CZ,st=M.get(Number(Ee))||X.CZ,it=!!y.get(Number(Ee)),nt=l.get(Number(Ee));if(!nt)return;const lt=nt.permission,Be=Ge.isUnknown?je:Ge.roleName;we.set(Number(Ee),{...nt,permissionMap:{currentScopeRoleName:Be,userCurrentSpacePermission:_,userCurrentScopePermisson:se,memberTopScopePermisson:He,memberCurrentScopePermisson:Ge,memberInheritedPermisson:st,memberOrgPermisson:lt,isSelf:Number(Ee)===Number(c),isDisableBannedViewer:G,userIsSpaceLimiter:T,memberIsSpaceLimiter:it}})}),we},[E,h,S,M,y]),te=(0,r.useMemo)(()=>W.sort((we,Le)=>Ve.Z8[Le.role]-Ve.Z8[we.role]).map(we=>ee.get(Number(we.user_id))).filter(we=>we),[W,ee]),K=(0,r.useMemo)(()=>O.sort((we,Le)=>Ve.Z8[Le.role]-Ve.Z8[we.role]).map(we=>{const{user_id:Le,role:Ee}=we,je=M.get(Number(Le))||X.CZ,He=ee.get(Number(we.user_id));return He?{...He,permissionMap:{...He.permissionMap,currentScopeRoleName:Ee,memberCurrentScopePermisson:je}}:null}).filter(we=>we),[O,ee,M]),oe=(0,r.useMemo)(()=>k.sort((we,Le)=>Ve.Z8[Le.role]-Ve.Z8[we.role]).map(we=>ee.get(Number(we.user_id))).filter(we=>we),[k,ee]),fe=(0,r.useMemo)(()=>{const we=oe.map(Ee=>Number(Ee.user_id)),Le=[];for(const[Ee,je]of ee.entries())we.includes(Number(Ee))||je&&Le.push(je);return Le},[ee,oe]),F=(0,r.useMemo)(()=>{const we=K.filter(Ee=>{var je;return(je=Ee.permissionMap)==null||(je=je.memberCurrentScopePermisson)==null?void 0:je.isManager});return Object.values(Object.fromEntries([...we,...te].map(Ee=>[Ee.user_id,Ee])))},[K,te]),be=(0,r.useMemo)(()=>{const we=F.map(Ee=>Number(Ee.user_id)),Le=[];for(const[Ee,je]of ee.entries())we.includes(Number(Ee))||je&&Le.push(je);return Le},[ee,F]);return{isOnlyOneManager:(0,r.useMemo)(()=>oe.filter(we=>{var Le;return(Le=we.permissionMap)==null||(Le=Le.memberCurrentScopePermisson)==null?void 0:Le.isManager}).length===1,[oe]),userCurrentScopePermisson:se,userCurrentSpacePermission:_,currentMembers:te,inheritedMembers:K,joinedMembers:oe,unjoinedMembers:fe,assignedMembers:F,unassignedMembers:be,currentOrgMembersMap:l}};var jt=i(11777),o=i(57464);const Ut=()=>{var e;const a=(0,p.d4)(d.query.getUser),c=(0,p.d4)(d.query.getProject),l=(0,p.d4)(d.query.getInitData),y=ht(c==null?void 0:c.team_cid),_=c==null?void 0:c.cid,h=(0,p.wA)(),S=(0,r.useCallback)(T=>{T.stopPropagation(),h({type:d.entryKey["sharing:init"],payload:{mainPage:"access"}})},[h]),{currentMembers:M,inheritedMembers:E,joinedMembers:O}=Ct(ie.W.Project,_);let W=M;y>=1?E.forEach(T=>{W.find(te=>te.id===T.id)||W.push(T)}):W=O;const G=(e=W)==null?void 0:e.filter(T=>Number(T.user_id)!==Number(a==null?void 0:a.id));G&&(W=G.slice(0,2));const se=(0,r.useCallback)(T=>{var ee;const{avatar:te,name:K,id:oe}=T;return te&&!te.includes("/images/avatar.png")?(0,o.jsx)("img",{className:"avatar",src:T.avatar,alt:T.name},oe):(0,o.jsx)("div",{className:"avatar avater-name",children:K==null||(ee=K.slice(0,1))==null?void 0:ee.toUpperCase()},oe)},[]);return!l||JSON.stringify(l)==="{}"?null:(0,o.jsx)(jt.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,o.jsxs)(me,{onClick:S,children:[se(a),W.length>0&&W.map(T=>se(T)),(0,o.jsx)("div",{className:"remaining",children:(0,o.jsx)(ae.C,{name:"sharing/add_member",isColorPure:!0})}),(0,o.jsx)(ae.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},Rt=(0,r.memo)(Ut),on=N.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Gt=e=>{let{tabs:a,handleChangeTabIndex:c,tabIndex:l,className:y}=e;return(0,o.jsx)(on,{className:y,children:a.map((_,h)=>(0,o.jsx)("div",{className:w()("tab-item",l===h&&"tab-sel"),id:"tab-item-"+h,onClick:()=>c(h),children:_},h))})},en=(0,r.memo)(Gt);var Ot=i(40230),Kt=i(47755);const is=()=>{let e=null;const a=(0,p.wA)(),c=(0,p.d4)(d.query.getProject),l=(0,p.d4)(d.query.getCanEditByUser),y=(0,p.d4)(d.query.getHostType),_=(0,p.d4)(d.query.getIsEditMode),h=(0,p.d4)(d.query.getInitData),S=(0,p.d4)(d.query.getTabIndex),[M,E]=(0,r.useState)(!1),O=(c==null?void 0:c.is_org_project)||!1,W=y==="iframe"||_,G=new URLSearchParams(location.search).get("view_mode")||"read_only",se=W&&O&&h&&JSON.stringify(h)!=="{}",T=l&&!O,ee=(0,r.useCallback)(()=>{const fe=y==="iframe",F=(fe?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",be=(fe?"dashboard":"workspace")+"-v8_solo_share_upgrade",xe={payEntrance:F,checkoutPlace:be,checkoutArea:fe?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(fe){const we="/workspace/''?payment_param="+(0,Kt._)(xe);(0,Ot.JW)(we,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(xe)},[]),te=()=>{e=setTimeout(()=>{E(!0)},1e3)},K=()=>{e&&clearTimeout(e),E(!1)},oe=(0,r.useCallback)(fe=>{a({type:d.entryKey["sharing:init"],payload:{tabIndex:fe}})},[a]);return(0,o.jsx)(re,{className:w()(T&&"tool-upgrade"),children:W?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(en,{tabIndex:S,tabs:ENV.IS_ON_PREMISES?[I18N.imockSharing.default_share]:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:oe}),T&&(0,o.jsxs)("div",{className:"upgrade-team-business",onClick:ee,onMouseEnter:te,onMouseLeave:K,children:[(0,o.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),M&&(0,o.jsxs)("div",{className:"content",onClick:fe=>fe.stopPropagation(),children:[(0,o.jsx)("div",{className:"top-bar"}),(0,o.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,o.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),se&&(0,o.jsx)(Rt,{})]}):(0,o.jsx)("div",{className:"sharing-title",children:G==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Dn=(0,r.memo)(is),Rn=N.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],D.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),zn=N.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],D.gE);var vt=i(15668),an=i(49776);const ce=N.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),pe=N.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),ve=(0,N.Ay)(an.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.isV9Layout ul{width:270px;padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{border-radius:4px;background:",";color:",";svg path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_bg_white,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01),Pe=N.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn),Qe=N.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-name{width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;padding:0px 4px;justify-content:center;align-items:center;gap:6px;border-radius:4px;&:hover{background-color:",";}}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function bt(e){const{fBlur:a,name:c}=e,[l,y]=(0,r.useState)(!1),[_,h]=(0,r.useState)(c),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(l){var k;(k=S.current)==null||k.focus()}},[l]);const M=()=>{a(),y(!1)};return{inputRef:S,isRenaming:l,setIsRenaming:y,inputName:_,setInputName:h,handleFocus:()=>{var k;(k=S.current)==null||k.select()},handleBlur:M,handleKeyDown:k=>{k.key==="Enter"&&M()},handleInput:k=>{let G=k.target.value;G.length>200&&(G=G.substring(0,200)),h(G)}}}const dt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},mn=N.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function tn(e){const{className:a,size:c=20,name:l,onClick:y,onMouseEnter:_,onMouseLeave:h,children:S,tempDisabled:M,direction:E,toolTipName:O,type:W,isColorPure:k,isBorder:G}=e,se=T=>{M||y(T,W)};return(0,o.jsx)(mn,{className:w()(a,M&&"tempDisabled",G&&"isBorder"),onClick:se,onMouseEnter:_,onMouseLeave:h,children:(0,o.jsxs)(jt.A,{content:O,direction:E||"up",distance:5,enterHoverTime:500,children:[(0,o.jsx)(ae.C,{size:c,name:l,isColorPure:k}),S]})})}const Ls=e=>{let{sharingData:a,handleItemAction:c}=e;const{link_name:l}=a,y=(0,p.wA)(),_=a.device_model,[h,S]=(0,r.useState)(l),M=(0,p.d4)(d.query.getCanEditByUser),E=(0,p.d4)(d.query.getIsEditMode),O=(0,p.d4)(d.query.getHostType),W=(0,p.d4)(d.query.getScreenMetaList),k=(0,p.d4)(d.query.getAdvancedSharingList),G=O==="iframe"||E,se=G&&M,T=G&&M,ee=()=>{const He=xe.current.value;if(He==="")Le(h),y({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,Z.it)({value:He,currentSharing:a,sharingList:k}))Le(h),y({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{S(He);const Ge={link_name:He};y({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:a,updatedKV:Ge}})}},te=(0,r.useMemo)(()=>a.type==="advanced"?(0,Z.Sy)(W,a):null,[a,W]),{isRenaming:K,setIsRenaming:oe,handleKeyDown:fe,handleBlur:F,handleFocus:be,inputRef:xe,handleInput:we,setInputName:Le,inputName:Ee}=bt({name:h||"",fBlur:ee}),je=(0,r.useCallback)(()=>{oe(!0)},[oe]);return(0,o.jsxs)(Qe,{className:w()(!T&&"canNotEdit"),children:[(0,o.jsxs)("div",{className:"head-left",children:[(0,o.jsx)(ae.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),K?(0,o.jsx)("form",{children:(0,o.jsx)("input",{value:Ee,onFocus:be,onChange:we,ref:xe,onBlur:F,onKeyPress:fe})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:w()("link-name",!se&&"link-name-not-edit"),onClick:je,children:h})})]}),(0,o.jsx)(jt.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,o.jsxs)("div",{className:"head-right",children:[(0,o.jsx)("div",{children:te}),(0,o.jsx)(tn,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!se,size:20,onClick:He=>c(He,dt.showPage)})]})})]})},Fn=(0,r.memo)(Ls),Ds=N.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.foot-right{display:flex;align-items:center;}"],e=>e.theme.color_text_L2),Rs=e=>{let{handleItemAction:a}=e;const c="open",l=(0,p.d4)(d.query.getCanEditByUser),y=(0,p.d4)(d.query.getIsEditMode),S=((0,p.d4)(d.query.getHostType)==="iframe"||y)&&l&&c==="open",M=(0,r.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:dt.embed,tempDisabled:!1},{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:dt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:dt.setting,tempDisabled:!S}],[S]);return(0,o.jsxs)(Ds,{children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{className:"foot-right",children:M.map((E,O)=>(0,o.jsx)(tn,{className:w()("share-icon",E.className),name:E.name,type:E.className,toolTipName:E.toolTipName,onClick:a,tempDisabled:E.tempDisabled,isColorPure:E.isColorPure,size:20},O))})]})},Ht=(0,r.memo)(Rs);var cn=i(36521),Sn=i(24078),zs=i(76713),Fs=i.n(zs);const Cn=e=>{const{project:a,sharing:c,user:l}=e,[y,_]=(0,r.useState)(!1),[h,S]=(0,r.useState)(void 0);return{isURLCopied:y,handleCopyURL:()=>{(0,Z.kv)({project:a,action:c.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:c.link_name}),_(!0),clearTimeout(h);const E=setTimeout(()=>_(!1),3e3);S(E);const O=Fs()().format("YYYY-MM-DD HH:mm:ss"),W=(0,Z.EL)(l)&&!(0,cn.kV)(D.nM);(0,cn.cH)(D.nM,O),W&&(0,Sn.Sx)({prototype_activation_time:O})}}};var gn=i(93869);function Bn(e){const{password:a}=e;return{isHavePassword:(0,r.useMemo)(()=>a!==null&&a!=="",[a])}}var ln=i(53955);const Mn=e=>{var a;let{sharingData:c,setShowDelConfirmModal:l,fromDefault:y}=e;const _=(0,p.wA)(),h=(0,r.useRef)(null),S=c.view_access,M=c.device_model,E=(0,p.d4)(d.query.getProject),O=(0,p.d4)(d.query.getCanEditByUser),W=(0,p.d4)(d.query.getIsEditMode),k=(0,p.d4)(d.query.getHostType),G=(0,p.d4)(d.query.getUser),se=(E==null?void 0:E.is_org_project)||!1,ee=(k==="iframe"||W)&&O,[te,K]=(0,r.useState)({top:0,left:0}),[oe,fe]=(0,r.useState)(!1),{isURLCopied:F,handleCopyURL:be}=Cn({project:E,sharing:c,user:G}),{isHavePassword:xe}=Bn(c),we=(0,r.useCallback)(()=>{const We=(0,Z.O8)(E,c);(0,gn.$)(We),be(),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:M,isDefault:!1}})},[_,c,be,E,M]),Le=(0,r.useCallback)(We=>{const at={view_access:We};_({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:at}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:We==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:M,isDefault:!1}})},[c,_,M]),Ee=(0,r.useCallback)(()=>{l({isOpened:!0,item:c})},[l,c]),je=(0,r.useCallback)(()=>{_({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit"}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:M,isDefault:!1}})},[_,c,M]),[He,Ge]=(0,r.useState)(void 0),st=(0,r.useMemo)(()=>{if(He==="viewAccess"){const We=(0,o.jsx)(ae.C,{name:"toolbar/selected",className:"selected-icon"});if(se){const at=S==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Le("public"),icon:at?We:(0,o.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Le("restricted"),icon:at?(0,o.jsx)("div",{style:{width:0}}):We}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:je},{label:I18N.imockSharing.delete,onclick:Ee}]},[He,Le,Ee,je,S,se]),it=(0,r.useCallback)(We=>{if(!se||!ee)return;Ge("viewAccess");const at=We.currentTarget.getBoundingClientRect();K({top:at.y+at.height+3,left:at.x-1}),fe(!oe)},[se,ee,oe,Ge,K]),nt=(0,r.useCallback)((We,at)=>{if(We!=null&&We.currentTarget)switch(at){case dt.QRcode:We.stopPropagation(),_({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:c}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:M,isDefault:!1}});break;case dt.embed:_({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:c}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:M,isDefault:!1}});break;case dt.mkt:(0,Ot.JW)("/community/upload?project_cid="+(E==null?void 0:E.cid),"_blank","noreferrer");break;case dt.setting:{Ge("misc");const _t=We.currentTarget.getBoundingClientRect(),qt=document.getElementById("v8-share-page").getBoundingClientRect().bottom-_t.bottom<120?_t.y-75:_t.bottom+5;K({top:qt,left:k==="iframe"?_t.x+20:_t.x-60}),fe(!oe)}break;case dt.showPage:_({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[oe,Ge,K,fe,_,E,c,M,k]),lt=(0,r.useCallback)(()=>{var We;K({...te,left:((We=h.current)==null?void 0:We.getBoundingClientRect().x)-1})},[te]);(0,r.useEffect)(()=>(window.addEventListener("resize",lt),()=>window.removeEventListener("resize",lt)));const Be=(0,ln.jB)();return(0,o.jsxs)(ce,{className:w()(y&&"from-default"),children:[(0,o.jsx)(Fn,{sharingData:c,handleItemAction:nt}),(0,o.jsxs)(pe,{className:w()("item-center",!ee&&"userNoEdit","advance-item"),isViewActiveDropdown:oe&&He==="viewAccess",children:[(0,o.jsx)("div",{ref:h,className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!se&&"can-not-edit"),onClick:it,children:(0,o.jsxs)("div",{className:"view-access-select",children:[(0,o.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,o.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[D.nQ[S]])!=null?a:"missing data"}),se&&(0,o.jsx)(ae.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,o.jsxs)(Pe,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(F)),onClick:we,children:[(0,o.jsx)("span",{className:"state state-0",children:xe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,o.jsx)("span",{className:"state state-1",children:(0,o.jsx)(ae.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,o.jsx)(Ht,{handleItemAction:nt}),oe&&(0,o.jsx)(ve,{className:w()("design-avoid",He,"advance_menu",{isV9Layout:Be}),position:te,onClose:()=>{fe(!1)},children:st.map((We,at)=>(0,o.jsx)(an.Dr,{text:We.label,onClick:We.onclick,icon:We.icon,disabled:We.disabled,canClick:We.tempDisabled},at))})]})},Bs=(0,r.memo)(Mn),Un=N.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,D.gE,e=>e.theme.color_bg_border_02);function Us(e){let{handleConfirmAction:a}=e;return(0,o.jsx)(Un,{children:(0,o.jsxs)("div",{className:"confirm-content",children:[(0,o.jsxs)("div",{className:"top",children:[(0,o.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,o.jsx)(tn,{name:"sharing/close",onClick:()=>a(!1),className:"close"})]}),(0,o.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,o.jsxs)("div",{className:"bottom",children:[(0,o.jsx)(vt.tA,{onClick:()=>a(!1),children:I18N.imockSharing.cancel}),(0,o.jsx)(vt.Qi,{className:"delete",onClick:()=>a(!0),children:I18N.imockSharing.delete})]})]})})}const Hn=r.memo(Us),Hs=()=>{const e=(0,p.d4)(d.query.getUser),a=(0,p.d4)(d.query.getOrg),{cid:c,name:l,is_org_project:y}=(0,p.d4)(d.query.getProject),_=(0,p.d4)(d.query.getHostType),h=(0,p.d4)(d.query.getAdvancedSharingList),S=(0,p.d4)(d.query.getCanEditByUser),M=(0,p.d4)(d.query.getTheme),[E,O]=(0,r.useState)({isOpened:!1,item:null}),[W,k]=(0,r.useState)(!1),G=(0,p.wA)(),se=h.length===0,T=(0,r.useCallback)(async te=>{te&&G({type:d.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:E.item.cid}}),O({isOpened:!1,item:null})},[E.item,O,G]);(0,r.useEffect)(()=>{(async()=>{const oe=(await(0,q.X0)({projectCid:c})).map(fe=>({...fe,type:"advanced"})).sort((fe,F)=>new Date(F.created_at).getTime()-new Date(fe.created_at).getTime());G({type:d.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:oe}}),k(!0)})()},[c,G]);const ee=async()=>{const te=(0,Z.jc)(e,a),K=()=>{(0,Sn.kH)("create_advanced_sharing_click",{project_name:l,project_cid:c,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(h.length>=te){const fe=(a==null?void 0:a.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:fe}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:fe}}),"*"),K();return}const oe=(0,Z.zM)(c,h,{view_access:y?"restricted":"public"});G({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:oe,settingPageType:"create"}}),K()};return W?se?(0,o.jsxs)(zn,{children:[(0,o.jsx)(ae.C,{name:M==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,o.jsx)(vt.jn,{onClick:ee,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,o.jsxs)(Rn,{children:[(0,o.jsxs)("div",{className:"create-item "+(S?"":"no-edit"),onClick:ee,children:[(0,o.jsx)(ae.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),h.map((te,K)=>(0,o.jsx)(Bs,{setShowDelConfirmModal:O,sharingData:te},te.cid+"-"+K)),E.isOpened&&(0,o.jsx)(Hn,{handleConfirmAction:T})]}):null},Ws=(0,r.memo)(Hs),rt=N.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;span{margin-right:10px;}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],D.gE,D.gE,e=>e.theme.color_text_L1,D.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var Wt=i(54176);const os=e=>{var a;let{defaultShare:c}=e;const l=(0,p.wA)(),y=(0,r.useRef)(null),_=(0,p.d4)(d.query.getProject),h=c;_&&(h.visibility=_.visibility);const S=(0,p.d4)(d.query.getHostType),M=(0,p.d4)(d.query.getIsEditMode),E=(0,p.d4)(d.query.getUser),O=S==="iframe"||M,W=(0,p.d4)(d.query.getCanEditByUser),k=(_==null?void 0:_.is_org_project)||!1,G=!k&&W,[se,T]=(0,r.useState)({top:0,left:0}),[ee,te]=(0,r.useState)(!1),[K,oe]=(0,r.useState)(h==null?void 0:h.visibility),fe=O&&W&&K==="open",F=O&&W,{isURLCopied:be,handleCopyURL:xe}=Cn({project:_,sharing:h,user:E}),we=(0,r.useCallback)(Be=>{const We={access:Be};l({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:h,updatedKV:We}}),l({type:d.entryKey["sharing:function:track"],payload:{operation:Be==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:h.view_mode,isDefault:!0}})},[h,l]),Le=(0,r.useMemo)(()=>{const Be=(0,o.jsx)(ae.C,{name:"toolbar/selected",className:"selected-icon"});if(k){const We=(h==null?void 0:h.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>we("public"),icon:We?Be:(0,o.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>we("restricted"),icon:We?(0,o.jsx)("div",{style:{width:0}}):Be}]}else return[]},[we,k,h]),Ee=(0,r.useMemo)(()=>{const Be=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:dt.embed,tempDisabled:K==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||Be.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:dt.QRcode,tempDisabled:K==="close",isBorder:!0}),G&&Be.push({name:"sharing/mkt_icon",toolTipName:I18N.imockSharing.publish_to_community,className:dt.mkt,tempDisabled:K==="close",isColorPure:!0,isBorder:!0}),Be},[K,G]),je=(0,r.useCallback)(()=>{const Be=K==="close"?"open":"close",We={visibility:Be};oe(Be),l({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:h,updatedKV:We}}),l({type:d.entryKey["sharing:function:track"],payload:{operation:Be==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:h.view_mode,isDefault:!0}})},[K,l,h,oe]),He=(0,r.useCallback)(Be=>{if(!k||!fe)return;const We=Be.currentTarget.getBoundingClientRect();let at=We.y+We.height+3;S==="iframe"&&(at=at+56),T({top:at,left:We.x-1}),te(!ee)},[k,fe,ee,T,S]),Ge=(0,r.useCallback)(()=>{const Be=(0,Z.O8)(_,h);(0,gn.$)(Be),xe(),l({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:h.view_mode,isDefault:!0}})},[l,h,xe,_]),st=(0,r.useCallback)(()=>{const Be=h,{view_mode:We}=h;l({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:Be,settingPageType:"edit"}}),l({type:d.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:We,isDefault:!0}})},[h,l]),it=(0,r.useCallback)((Be,We)=>{if(!(Be!=null&&Be.currentTarget))return;const at=h,{view_mode:_t}=h;switch(We){case dt.QRcode:Be.stopPropagation(),l({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:at}}),l({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:_t,isDefault:!1}});break;case dt.embed:l({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:at}}),l({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:_t,isDefault:!1}});break;case dt.mkt:(0,Ot.JW)("/community/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[l,_,h]),nt=(0,r.useCallback)(()=>{var Be;T({...se,left:((Be=y.current)==null?void 0:Be.getBoundingClientRect().x)-1})},[se]);if((0,r.useEffect)(()=>(window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt))),!h)return null;const lt=(0,ln.jB)();return(0,o.jsxs)(rt,{className:w()(!F&&"canNotEdit"),children:[(0,o.jsxs)("div",{className:"default-top",children:[O?(0,o.jsxs)("div",{className:"switch-content",children:[(0,o.jsx)("span",{children:I18N.imockSharing.public_access}),(0,o.jsx)(Wt.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:K==="open",onChange:je})]}):(0,o.jsx)("div",{className:"switch-content",children:I18N.imockSharing.default_share}),(0,o.jsxs)(pe,{className:w()("item-center","default-link",K==="close"&&"notView",!fe&&"userNoEdit"),isViewActiveDropdown:ee,children:[(0,o.jsx)("div",{ref:y,className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!k&&"can-not-edit"),onClick:He,children:(0,o.jsxs)("div",{className:"view-access-select",children:[(0,o.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,o.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[D.nQ[h.view_access]])!=null?a:"missing data"}),k&&(0,o.jsx)(ae.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,o.jsxs)(Pe,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(be)),onClick:Ge,children:[(0,o.jsx)("span",{className:"state state-0",children:h.password&&h.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,o.jsx)("span",{className:"state state-1",children:(0,o.jsx)(ae.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,o.jsxs)("div",{className:"default-bottom",children:[(0,o.jsxs)("div",{className:"bottom-left",children:[(0,o.jsx)("div",{children:I18N.imockSharing.share_mode}),Ee.map((Be,We)=>(0,o.jsx)(tn,{className:w()("share-icon",Be.className),name:Be.name,type:Be.className,toolTipName:Be.toolTipName,onClick:it,tempDisabled:Be.tempDisabled,isColorPure:Be.isColorPure,isBorder:Be.isBorder,size:24},We))]}),O&&(0,o.jsxs)("div",{className:w()("default-setting",!fe&&"no-edit"),onClick:st,children:[(0,o.jsx)(ae.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),ee&&(0,o.jsx)(ve,{className:w()("design-avoid","viewAccess",{isV9Layout:lt}),position:se,onClose:()=>{te(!1)},children:Le.map((Be,We)=>(0,o.jsx)(an.Dr,{text:Be.label,onClick:Be.onclick,icon:Be.icon,disabled:Be.disabled,canClick:Be.tempDisabled},We))})]})},Wn=(0,r.memo)(os),Vs=N.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),zt=N.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var Ys=i(95230);const as=N.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],D.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),Vt=e=>{let{title:a,handleClick:c}=e;return(0,o.jsx)(as,{children:(0,o.jsxs)("div",{className:"title",onClick:c,children:[(0,o.jsx)(ae.C,{name:"sharing/nav_back"}),a]})})},Nn=()=>{let e="read_only";const a=(0,p.wA)(),c=(0,p.d4)(d.query.getCurrentSelectSharing),l=(0,p.d4)(d.query.getProject),y=(0,p.d4)(d.query.getTheme),{screen_visible_list:_,access_token:h}=c||{};if(c.type==="default"){const{view_mode:G}=c;e=G}else{const{device_model:G}=c;e=G}let S="";const M=(0,Z.a2)(h);_&&_.length!==0?S='<iframe src="'+M+"/embed/v2/sharing?view_mode="+e+"&selection="+_[0]+'" allowTransparency="true" frameborder="0"></iframe>':S='<iframe src="'+M+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>';let E=null;const O=(0,r.useCallback)(G=>{const se=G.currentTarget;se.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(E),E=setTimeout(()=>{se.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,Z.kv)({action:"\u590D\u5236\u4EE3\u7801",project:l||{},linkName:c.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(T){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[c,E,l]),W=(0,r.useCallback)(G=>{(0,gn.$)(S),O(G)},[O,S]),k=(0,r.useCallback)(()=>{a({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[a]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(Vt,{title:I18N.imockSharing.insert,handleClick:k}),(0,o.jsxs)(zt,{children:[(0,o.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,o.jsxs)("div",{className:"copy-wrapper",children:[(0,o.jsx)("img",{src:y===Ys.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,o.jsxs)("div",{className:"copy-box",children:[(0,o.jsx)("p",{className:"sharing-embedded-url",children:S}),(0,o.jsx)("button",{className:"copy-button copy","data-clipboard-text":S,onClick:W,children:I18N.imockSharing.copy_code})]})]})]})]})},fn=(0,r.memo)(Nn),jn=N.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);flex-direction:column;justify-content:center;display:flex;:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:0 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:24px;min-height:24px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:40px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,D.gE,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Vn=N.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.mt{margin-top:4px;}.last{margin-bottom:-8px;}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)"),mt=N.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:298px;.visible-check{height:32px;}"]);var Lt=i(70260);const Zs=N.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:32px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:108px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;transition:all 0.2s ease-out;color:",";border:1px solid ",";border-radius:4px;height:100%;&:focus{border-color:",";border-right:1px solid ",";}}.reset-pwd{width:16px;height:16px;position:absolute;border-radius:2px;right:6px;color:#999;&:hover{background-color:",";}&:active{background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function yn(e){return Math.random().toString(36).slice(-e)}function In(e){const{onSubmit:a,value:c}=e,[l,y]=(0,r.useState)(e.value),_=(0,r.useRef)(null),h=O=>{y(O.target.value)},S=()=>{const O=yn(6);y(O),a(O)},M=()=>{if(!a(l)){y(c);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(W){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},E=O=>{O.key==="Enter"&&(M(),_.current.blur())};return(0,o.jsx)(Zs,{children:(0,o.jsxs)("div",{className:"password-input-wrapper",children:[(0,o.jsx)("input",{ref:_,type:"text",className:"password-input",value:l,onChange:h,onBlur:M,onKeyPress:E}),(0,o.jsx)(jt.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,o.jsx)(ae.C,{className:"reset-pwd",name:"common/spinner",onClick:S})})]})})}function cs(e){const{isOrgProject:a,sharingData:c,updateSharing:l}=e,y=c.view_mode,{isHavePassword:_}=Bn(c),h=(0,p.wA)(),{comment_permission:S,wechat:M,view_sticky:E}=c,O=(0,r.useMemo)(()=>(0,Z.R0)(a),[a]),W=()=>{if(_)l({password:""}),h({type:d.entryKey["sharing:settingPage:default:confirm"]});else{const K=yn(6);k(K)}h({type:d.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:y}})},k=K=>/^\s*$/.test(K)||!/^\w+$/.test(K)?!1:(l({password:K}),h({type:d.entryKey["sharing:settingPage:default:confirm"]}),h({type:d.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:y}}),!0),G=()=>{l({wechat:!M}),h({type:d.entryKey["sharing:settingPage:default:confirm"]}),h({type:d.entryKey["sharing:function:track"],payload:{operation:M?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:y}})},se=(0,r.useMemo)(()=>S==="org_member",[S]),T=()=>{l({view_sticky:E==="view_sticky"?"no_sticky":"view_sticky"}),h({type:d.entryKey["sharing:settingPage:default:confirm"]}),h({type:d.entryKey["sharing:function:track"],payload:{operation:E?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:y}})},ee=()=>{l({comment_permission:S==="org_member"?"off":"org_member"}),h({type:d.entryKey["sharing:settingPage:default:confirm"]}),h({type:d.entryKey["sharing:function:track"],payload:{operation:se?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:y}})},te=K=>{let{value:oe}=K;l({view_access:oe}),h({type:d.entryKey["sharing:settingPage:default:confirm"]}),h({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:{access:oe}}})};return(0,o.jsxs)(Vn,{children:[a&&(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,o.jsx)(Lt.A,{name:"access",optionList:O,value:c.view_access,onChange:te})]}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,o.jsxs)("div",{className:"password-input-item",children:[_&&(0,o.jsx)(In,{value:c.password,onSubmit:k}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:_,onChange:W})]})]}),(0,o.jsx)("div",{className:"divider"}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:E==="view_sticky",onChange:T})]}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:se,onChange:ee})]}),(0,o.jsx)("div",{className:"divider"}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:M,onChange:G})]})]})}const kn=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],ls=e=>{let{sharingData:a,updateSharing:c}=e;const l=E=>()=>{c({device_model:E})},[y,_]=(0,r.useState)(!1),h=(0,p.d4)(d.query.getTheme),S=()=>{_(!0)},M=()=>{_(!1)};return(0,o.jsx)(Gs,{className:w()({dark:h==="dark"}),children:(0,o.jsxs)("div",{className:"device-model",children:[(0,o.jsxs)("div",{className:"device-model-header",children:[(0,o.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,o.jsxs)("div",{className:"modal-container",children:[(0,o.jsx)(ae.C,{onMouseEnter:S,onMouseLeave:M,className:"tipsIcon",name:"sharing/question",size:14}),y&&(0,o.jsxs)("div",{className:w()("device-model-modal",{light:h==="light",dark:h==="dark"}),children:[(0,o.jsx)("div",{className:"icon-triangle"}),(0,o.jsxs)("div",{className:w()("modal-content"),children:[(0,o.jsxs)("div",{className:"read_only",children:[(0,o.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+h+".png"}),(0,o.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,o.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,o.jsxs)("div",{className:"device",children:[(0,o.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+h+".png"}),(0,o.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,o.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,o.jsx)("div",{className:"device-model-type-container",children:kn().map((E,O)=>{let{key:W,label:k,icon:G}=E;const se="device-model-"+W+"   ";return(0,o.jsxs)("div",{className:w()(se,{"is-active":W===a.device_model,dark:h==="dark"}),onClick:l(W),children:[(0,o.jsx)(ae.C,{name:G,size:16}),(0,o.jsx)("span",{children:k})]},O)})})]})})},Gs=N.Ay.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal);function Ks(){const e=(0,p.d4)(d.query.getCurrentSharing),a=(0,p.d4)(d.query.getProject),c=(0,p.wA)(),l=(0,r.useCallback)(h=>{c({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:h}})},[c]),y=h=>{c({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:h}}),(0,cn.a0)(a.cid+"_default_sharing_view_mode",h.device_model,cn.qW.String),c({type:d.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{c({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,o.jsxs)(jn,{children:[(0,o.jsx)(Vt,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,o.jsxs)("div",{className:"basic-content",children:[(0,o.jsx)(ls,{sharingData:e,updateSharing:y}),(0,o.jsx)(cs,{isOrgProject:a.is_org_project,sharingData:e,updateSharing:l})]})]})}var nn=i(54608);const It=()=>(0,o.jsx)(ds,{}),ds=N.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);function gt(e){const{isOrgProject:a,sharingData:c,updateSharing:l}=e,y=c.device_model,_=(0,r.useMemo)(()=>(0,Z.R0)(a),[a]),{isHavePassword:h}=Bn(c),S=(0,p.wA)(),{view_sticky:M,comment_permission:E,wechat:O}=c,W=K=>{let{value:oe}=K;l({view_access:oe})},k=()=>{if(h)l({password:""});else{const K=yn(6);G(K)}S({type:d.entryKey["sharing:function:track"],payload:{operation:h?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:y,isDefault:!0}})},G=K=>/^\s*$/.test(K)||!/^\w+$/.test(K)?!1:(l({password:K}),S({type:d.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:y,isDefault:!0}}),!0),se=()=>{l({wechat:!O}),S({type:d.entryKey["sharing:function:track"],payload:{operation:O?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:y,isDefault:!0}})},T=(0,r.useMemo)(()=>E==="org_member",[E]),ee=()=>{l({view_sticky:!M,sticky:!M}),S({type:d.entryKey["sharing:function:track"],payload:{operation:M?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:y,isDefault:!0}})},te=()=>{l({comment_permission:E==="org_member"?"off":"org_member"}),S({type:d.entryKey["sharing:function:track"],payload:{operation:T?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:y,isDefault:!0}})};return(0,o.jsxs)(Vn,{children:[c.type==="advanced"&&a&&(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,o.jsx)(Lt.A,{name:"access",optionList:_,value:c.view_access,onChange:W})]}),(0,o.jsxs)("div",{className:"line-item "+(a?"mt":""),children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,o.jsxs)("div",{className:"password-input-item",children:[h&&(0,o.jsx)(In,{value:c.password,onSubmit:G}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:h,onChange:k})]})]}),(0,o.jsx)(It,{}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:M,onChange:ee})]}),(0,o.jsxs)("div",{className:"line-item mt",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:T,onChange:te})]}),(0,o.jsx)(It,{}),(0,o.jsxs)("div",{className:"line-item",children:[(0,o.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,o.jsx)(Wt.A,{size:"small",isIOS:!0,isChecked:O,onChange:se})]})]})}var ot=i(74059),kt=i(66748),et=i.n(kt);const En=N.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Yn extends r.PureComponent{constructor(){super(...arguments),(0,ot.A)(this,"onToggle",a=>{const{onChange:c}=this.props;c(a)})}render(){const{className:a,isDisabled:c,readOnly:l,isChecked:y,isCircle:_}=this.props,h=w()(a,{"is-checked":y,"is-disabled":c,readonly:l});return(0,o.jsx)(En,{className:h,onClick:this.onToggle,isCircle:_,children:(0,o.jsx)("span",{className:"Check-state",children:(0,o.jsx)(ae.C,{name:"new_replace/box_check"})})})}}(0,ot.A)(Yn,"propTypes",{isChecked:et().bool,isDisabled:et().bool,readOnly:et().bool,onChange:et().func,label:et().any,name:et().string,value:et().any,className:et().string,isCircle:et().bool}),(0,ot.A)(Yn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var dn=i(67234),us=i(89099),Zn=i(44622);const ps=N.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:180px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class Js extends r.PureComponent{constructor(a){super(a),(0,ot.A)(this,"handleCheck",h=>{const{onUpdateScreenVisibleList:S,screenVisibleList:M}=this.props,E=new Set(M),O=(0,Zn.YU)(h),W=E.has(h.cid);O.forEach(G=>{let{cid:se}=G;W?E.delete(se):E.add(se)});const k=[];for(const G of E){const se=this.screenDataMap[G];se&&!(0,Zn.Mo)(se)&&k.push(se)}S(Array.from(E))}),(0,ot.A)(this,"onSelectAll",h=>{const{onUpdateScreenVisibleList:S}=this.props;S(h?this.pageKeyList:[])});const{screenMetaList:c}=a,{treeData:l,pageAttrMap:y,pageKeyList:_}=c;this.screenDataMap=y,this.screenTreeData=l,this.pageKeyList=_,this.pageExceptFolderList=(0,Z.RF)(y)}componentDidMount(){const a=(0,cn.Yt)("currentJumpingSharingScreenMetaCid",void 0,cn.qW.String);(0,cn.G5)("currentJumpingSharingScreenMetaCid"),a!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+a+'"]').scrollIntoView(),300)}render(){const{theme:a,screenVisibleList:c,isDisplayScreenAll:l}=this.props,y=(c==null?void 0:c.length)===this.pageKeyList.length,_=(0,Z.Mj)(l,c,this.pageExceptFolderList);return(0,o.jsxs)(ps,{children:[(0,o.jsxs)("div",{className:w()("screen-config-header",{"is-disabled":l}),children:[(0,o.jsx)(dn.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:l,isChecked:y}),(0,o.jsxs)("div",{className:"content-wrapper",children:[(0,o.jsx)("span",{className:"divider",children:"|"}),(0,o.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,o.jsx)("div",{className:w()("screen-list-content",{"is-disabled":l,dark:a==="dark"}),children:(0,o.jsx)("div",{className:"sm-list",children:(0,o.jsx)($s,{theme:a,isDisplayScreenAll:l,screenTreeData:this.screenTreeData,screenVisibleList:c,onCheck:this.handleCheck})})})]})}}(0,ot.A)(Js,"propTypes",{theme:et().string,screenMetaList:et().object,screenVisibleList:et().array,onUpdateScreenVisibleList:et().func,isDisplayScreenAll:et().bool});const $s=e=>{let{theme:a,isDisplayScreenAll:c,screenTreeData:l,screenVisibleList:y,onCheck:_}=e;return(0,o.jsx)(o.Fragment,{children:l.children.map(h=>(0,o.jsx)(bn,{theme:a,treeNode:h,root:!0,depth:0,screenVisibleList:y,isDisplayScreenAll:c,onCheck:_},h.cid))})};$s.propTypes={theme:et().string,isDisplayScreenAll:et().bool,screenTreeData:et().object,screenVisibleList:et().array,onCheck:et().func};class bn extends r.PureComponent{constructor(a){super(a),(0,ot.A)(this,"handleCheck",c=>{c.stopPropagation();const{isDisplayScreenAll:l}=this.props;if(l)return;const{treeNode:y,onCheck:_}=this.props;_(y)}),(0,ot.A)(this,"handleExpand",c=>{const{isDisplayScreenAll:l}=this.props;l||(c.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:a,treeNode:c,root:l,depth:y,screenVisibleList:_,onCheck:h,theme:S}=this.props,{children:M,data:E}=c,O=M.length!==0,{expand:W}=this.state,k=_&&_.includes(c.cid);return(0,o.jsxs)("li",{className:w()("content-item"),"data-cid":c.cid,children:[(0,o.jsxs)("div",{className:w()("sm-box",{"is-display":k,"is-disabled":a}),children:[(0,o.jsx)(Yn,{isDisabled:a,className:"sm-check",isChecked:k,onChange:this.handleCheck}),(0,o.jsx)(hs,{isDisabled:a,theme:S,root:l,depth:y,showExpander:O,data:E,expand:W,onClick:this.handleCheck,onExpand:this.handleExpand})]}),M.length>0&&W&&(0,o.jsx)("ol",{className:"sm-child",children:M.map(G=>(0,o.jsx)(bn,{theme:S,treeNode:G,depth:y+1,screenVisibleList:_,isDisplayScreenAll:a,onCheck:h},G.cid))})]})}}(0,ot.A)(bn,"propTypes",{theme:et().string,isDisplayScreenAll:et().bool,treeNode:et().object,screenVisibleList:et().array,depth:et().number,root:et().bool,onCheck:et().func});class hs extends r.PureComponent{render(){const{depth:a,showExpander:c,data:l,expand:y,onExpand:_,onClick:h,theme:S,isDisabled:M}=this.props,E=19*(a+1);return(0,o.jsxs)("div",{className:w()("sm-item"),style:{paddingLeft:E},onClick:h,children:[c&&(0,o.jsx)("a",{className:"expander",onClick:_,children:(0,o.jsx)(ae.C,{className:w()("arrow-icon",{"is-expand":y}),name:"common/expand"})}),(0,o.jsx)(us.k,{icon:l.icon,theme:S,disabled:M,isExpand:y}),(0,o.jsx)("span",{className:"screen-name",children:l.name})]})}}(0,ot.A)(hs,"propTypes",{theme:et().string,isDisabled:et().bool,showExpander:et().bool,data:et().object,depth:et().number,expand:et().bool,onExpand:et().func,onClick:et().func});function ms(e){const a=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:c,updateSharing:l}=e,[y,_]=(0,r.useState)(c.screen_visible_switch?2:1),h=(0,p.d4)(d.query.getTheme),S=(0,p.d4)(d.query.getScreenMetaList),M=O=>{l({screen_visible_list:O})},E=O=>{let{value:W}=O;l({screen_visible_switch:W==="2",screen_visible_list:[]}),_(W)};return(0,o.jsxs)(mt,{children:[(0,o.jsx)("div",{className:"line-item visible-check",children:(0,o.jsx)(Lt.A,{name:"access",optionList:a,value:y,onChange:E})}),S&&(0,o.jsx)(Js,{theme:h,screenMetaList:S,screenVisibleList:c.screen_visible_list,isDisplayScreenAll:!c.screen_visible_switch,onUpdateScreenVisibleList:M})]})}var Qs=i(19722);const An=e=>{let{handleConfirm:a,handleCancel:c}=e;const l=(0,p.d4)(d.query.getCurrentSharing),y=(0,p.d4)(d.query.getTheme),_=(0,p.d4)(d.query.getScreenMetaList),h=l.type==="default"?!1:l.screen_visible_switch&&(0,Z.Mb)(_,l).selectedSize===0,S=()=>{h||a()};return(0,o.jsxs)(Xs,{className:"confirm-bar",children:[(0,o.jsx)(vt.jn,{className:w()("confirm",{dark:y==="dark"}),disabled:h,onClick:S,children:I18N.SettingPanel.confirm}),(0,o.jsx)(vt.tA,{className:"cancel",onClick:c,children:I18N.imockSharing.cancel})]})},Xs=N.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:12px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),gs=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function qs(){const e=(0,p.d4)(d.query.getProject),a=(0,p.d4)(d.query.getSettingPageType),c=(0,p.d4)(d.query.getSubSettingPageType),l=(0,p.d4)(d.query.getCurrentSharing),y=(0,p.d4)(d.query.getAdvancedSharingList),h=(0,ln.jB)()?"recommend":"old",S=(0,p.wA)(),[M,E]=(0,r.useState)(c==="basic"?0:1),[O,W]=(0,r.useState)(l.link_name),[k,G]=(0,r.useState)(!1),se=Ge=>{E(Ge)},T=(0,r.useCallback)(async()=>{S({type:d.entryKey["sharing:settingPage:advanced:confirm"]})},[S]),ee=(0,r.useCallback)(()=>{S({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),a==="edit"&&k&&S({type:"sharing:advance:click:track"})},[S,a,k]),te=(0,r.useCallback)(Ge=>{S({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Ge}}),a==="edit"&&(G(!0),T())},[S,a,T,G]),K=()=>{const Ge=we.current.value;Ge===""?(S({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),je(O)):(0,Z.it)({value:Ge,currentSharing:l,sharingList:y})?(je(O),S({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(W(Ge),te({link_name:Ge}))},{isRenaming:oe,setIsRenaming:fe,handleKeyDown:F,handleBlur:be,handleFocus:xe,inputRef:we,handleInput:Le,inputName:Ee,setInputName:je}=bt({name:l.link_name,fBlur:K}),He=()=>{fe(!0)};return(0,o.jsxs)(jn,{children:[a==="create"?(0,o.jsx)("div",{className:"header",children:(0,o.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,o.jsx)(Vt,{title:I18N.imockSharing.sharing_setting_title,handleClick:ee}),(0,o.jsxs)("div",{className:"share-link-title",children:[(0,o.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,o.jsx)("div",{className:w()("name-input",{"is-renaming":oe}),children:oe?(0,o.jsx)("form",{children:(0,o.jsx)("input",{value:Ee,onFocus:xe,onChange:Le,ref:we,onBlur:be,onKeyPress:F})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{onClick:He,children:O}),(0,o.jsx)(Qs.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:He})]})})]}),(0,o.jsx)(ls,{sharingData:l,updateSharing:te}),(0,o.jsxs)("div",{className:"tabs",children:[(0,o.jsx)(nn.A,{className:"sharing-nav",activeIndex:M,onTabChange:se,layoutV9:h,children:gs().map(Ge=>{let{key:st,name:it,...nt}=Ge;return(0,o.jsx)(nn.n,{...nt,active:M===st,className:w()({visible:it==="visible",basic:it==="basic"})},st)})}),(0,o.jsx)("div",{})]}),M===0?(0,o.jsx)(gt,{isOrgProject:e.is_org_project,sharingData:l,updateSharing:te}):(0,o.jsx)(ms,{sharingData:l,updateSharing:te}),a==="create"&&(0,o.jsx)(An,{handleConfirm:T,handleCancel:ee})]})}function fs(){return(0,p.d4)(d.query.getCurrentSharing).type==="default"?(0,o.jsx)(Ks,{}):(0,o.jsx)(qs,{})}const er=N.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),ys=(0,r.memo)(function(){const a=(0,p.d4)(d.query.getSharingToast),c=(0,p.wA)();return(0,r.useEffect)(()=>{setTimeout(()=>{c({type:d.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[c]),a?(0,o.jsxs)(er,{children:[(0,o.jsx)(ae.C,{name:"sharing/toast_waring",isColorPure:!0}),a]}):null}),tr=N.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],D.gE,e=>e.theme.color_text_L3);var nr=i(80582);const sr=N.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function rr(e){const{isQRcodePanel:a,text:c,project:l}=e,y=l.icon||null;return a?(0,o.jsxs)(sr,{className:"qrcode-and-icon",children:[(0,o.jsx)(nr.A,{className:"qrcode",text:c,width:110,height:110}),y&&(0,o.jsx)("div",{className:"p-icon-box",children:(0,o.jsx)("img",{src:y})})]}):null}const ir=()=>{const e=(0,p.wA)(),a=(0,p.d4)(d.query.getCurrentSelectSharing),c=(0,p.d4)(d.query.getProject),l=(0,r.useMemo)(()=>(0,Z.O8)(c,a),[a,c]),y=(0,r.useCallback)(()=>{e({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(Vt,{title:I18N.imockSharing.qr_code,handleClick:y}),(0,o.jsxs)(tr,{children:[(0,o.jsx)(rr,{isQRcodePanel:!0,project:c,text:l}),(0,o.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},or=(0,r.memo)(ir),ar=()=>{var e;const a=(0,p.wA)(),c=(0,p.d4)(d.query.getHostSharingData),l=(0,p.d4)(d.query.getProject),y=l==null?void 0:l.is_org_project,{link_name:_,view_access:h}=c,S=(0,p.d4)(d.query.getUser),M=(0,p.d4)(d.query.getHostType),E=(0,p.d4)(d.query.getIsEditMode),O=M==="iframe"||E,W=(0,p.d4)(d.query.getCanEditByUser),{isURLCopied:k,handleCopyURL:G}=Cn({project:l,sharing:c,user:S}),se=O&&W,T=(0,r.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:dt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:dt.embed,tempDisabled:!1,isBorder:!0}],[]),ee=(0,r.useCallback)(()=>{const K=(0,Z.O8)(l,c);(0,gn.$)(K),G(),a({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:c.device_model,isDefault:!1}})},[a,c,G,l]),te=(0,r.useCallback)((K,oe)=>{if(!(K!=null&&K.currentTarget))return;const fe=c,{device_model:F}=c;switch(oe){case dt.QRcode:K.stopPropagation(),a({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:fe}}),a({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:F,isDefault:!1}});break;case dt.embed:a({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:fe}}),a({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:F,isDefault:!1}});break;default:break}},[a,c]);return(0,o.jsxs)(rt,{children:[(0,o.jsxs)("div",{className:"default-top",children:[(0,o.jsx)("div",{className:"switch-content",children:_}),(0,o.jsxs)(pe,{className:w()("item-center","default-link",!se&&"userNoEdit"),children:[(0,o.jsx)("div",{className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!y&&"can-not-edit"),children:(0,o.jsxs)("div",{className:"view-access-select",children:[(0,o.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,o.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[D.nQ[h]])!=null?e:"missing data"}),y&&(0,o.jsx)(ae.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,o.jsxs)(Pe,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(k)),onClick:ee,children:[(0,o.jsx)("span",{className:"state state-0",children:c.password&&c.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,o.jsx)("span",{className:"state state-1",children:(0,o.jsx)(ae.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,o.jsx)("div",{className:"default-bottom",children:(0,o.jsxs)("div",{className:"bottom-left",children:[(0,o.jsx)("div",{children:I18N.imockSharing.share_mode}),T.map((K,oe)=>(0,o.jsx)(tn,{className:w()("share-icon",K.className),name:K.name,type:K.className,toolTipName:K.toolTipName,onClick:te,tempDisabled:K.tempDisabled,isColorPure:K.isColorPure,isBorder:K.isBorder,size:24},oe))]})})]})},cr=(0,r.memo)(ar),bs=()=>{const e=(0,p.d4)(d.query.getTopPageIndex),a=(0,p.d4)(d.query.getTabIndex),c=(0,p.d4)(d.query.getSharingToast),l=(0,p.d4)(d.query.getHostSharingData),y=!l||l.type==="default",_=(0,p.d4)(d.query.getProject),h=(0,p.d4)(d.query.getIsEditMode),M=(0,p.d4)(d.query.getHostType)==="iframe"||h,[E,O]=(0,r.useState)(l);return(0,r.useEffect)(()=>{const{sharing:W}=(0,q.Y5)(_);O(W)},[l,_]),(0,o.jsxs)(Vs,{children:[e==="edit"&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Dn,{}),a===0?!M&&!y?(0,o.jsx)(cr,{}):E?(0,o.jsx)(Wn,{defaultShare:E}):(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(Ws,{})]}),e==="embed"&&(0,o.jsx)(fn,{}),e==="setting"&&(0,o.jsx)(fs,{}),e==="qrCode"&&(0,o.jsx)(or,{}),c&&(0,o.jsx)(ys,{})]})},xs=(0,r.memo)(bs),Gn=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,Kn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var Jn=i(23990);const vs=async(e,a)=>{try{let l=null;return e?l=await(0,Jn.DE)("/api/dashboard/v4/users/search?email="+e):a&&(l=await(0,Jn.DE)("/api/dashboard/v4/users/search?mobile="+a)),l}catch(l){var c;return l!=null&&(c=l.message)!=null&&c.includes("failed with 404")?{}:null}};var $n=i(97383);const lr=(0,N.Ay)($n.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),dr=(0,N.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let xn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const ws=e=>{const{tipType:a,position:c="center",className:l,isOnlyMemberManager:y=!1}=e,[_,h]=(0,r.useState)({}),S=(0,p.d4)($e.il);(0,r.useEffect)(()=>{const E=document.querySelector(".sharingBoxV2 ");if(E){const{left:O,top:W}=E.getBoundingClientRect();h({left:Number(O)+13,top:Number(W)+29})}},[]);const M=()=>{switch(a){case xn.Project:return(0,o.jsxs)("section",{className:"multi-line",children:[(0,o.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,o.jsxs)("li",{children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,o.jsxs)("li",{children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),!(S!=null&&S.is_disable_banned_viewer)&&(0,o.jsxs)("li",{children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,o.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case xn.SubFolder:return(0,o.jsxs)("section",{className:"multi-line",children:[(0,o.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,o.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,o.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case xn.RootFolder:return(0,o.jsxs)("section",{className:"multi-line",children:[(0,o.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case xn.OrgSpace:return(0,o.jsxs)("section",{className:"multi-line",children:[(0,o.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,o.jsxs)("li",{className:"desc",children:[(0,o.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case xn.OrgSpaceLimiter:return(0,o.jsx)("section",{className:"single-line",children:(0,o.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,o.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lr,{opener:(0,o.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:c,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:w()("permission-tip",l&&l),menu:M(),menuBaseStyle:_}),(0,o.jsx)(dr,{isOnlyMemberManager:y})]})};var ur=i(5348);const _s=N.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Qn=(0,N.Ay)(ur.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),Xn=(0,N.DU)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]),pr=(0,N.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L0,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0);var Dt=i(74352);const hr=e=>{let a=[],c={};switch(e){case ie.W.OrgSpace:a=Q,c=Ve.FU;break;case ie.W.Folder:a=ye,c=Ve.lY;break;case ie.W.Project:a=Se,c=Ve.au;break;default:break}return a.map(l=>({...l,permission:(0,X.pf)(l.value,c)}))},mr=(e,a)=>{let c={};switch(e){case ie.W.OrgSpace:return a;case ie.W.Folder:c=Re;break;case ie.W.Project:c=Ae;break;default:return a}return c[a]||a},Tn=e=>{switch(e){case ie.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case ie.W.Folder:return I18N.imockSharing.permission_no_right_folder;case ie.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},gr=e=>{const{value:a,optionList:c,handleChange:l}=e,y=(0,r.useRef)(null),[_,h]=(0,r.useState)(!0),S=c.filter(E=>E.value===a),M=(0,r.useCallback)(()=>{y.current&&y.current.close()},[]);return(0,r.useEffect)(()=>(document.body.addEventListener("wheel",M),()=>{document.body.removeEventListener("wheel",M)}),[M]),(0,r.useEffect)(()=>{const E=setTimeout(()=>{h(!1)},1e3);return()=>{clearTimeout(E)}},[]),_?(0,o.jsx)(Qn,{unstyled:!0,ref:y,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:l,optionList:S,menuClassName:"permission-select"}):(0,o.jsx)(Qn,{unstyled:!0,ref:y,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:l,optionList:c,menuClassName:"permission-select"})},Ss=(0,r.memo)(gr),fr=(e,a)=>{const{isSelf:c,userCurrentSpacePermission:l,userCurrentScopePermisson:y,memberCurrentScopePermisson:_,memberTopScopePermisson:h,memberOrgPermisson:S}=a;return e.map(E=>{let{value:O,label:W,permission:k}=E,G=!1;return l.isManager&&c||(y.isMember?(y.level<_.level||y.level<k.level||!h.isMember&&h.isViewer&&!S.isMember&&k.isMember)&&(G=!0):G=!0),Object.assign({},{value:O,label:I18N.imockSharing[W]||W},{isDisabled:G})})},yr=e=>{const{readOnlyTooltip:a,isReset:c=!1,member:l,isOnlyOneManager:y,permissionScope:_,onPermissionChange:h}=e;let{readOnly:S}=e,M=S,E=a;const O=hr(_),{permissionMap:W}=l,{memberCurrentScopePermisson:k,userCurrentScopePermisson:G,userCurrentSpacePermission:se,currentScopeRoleName:T,isSelf:ee,isDisableBannedViewer:te,userIsSpaceLimiter:K,memberIsSpaceLimiter:oe}=W;let fe=fr(O,W);te&&(fe=fe.filter(xe=>!xe.value.includes("ban_viewer"))),_===ie.W.OrgSpace&&!oe&&(fe=fe.filter(xe=>xe.value!=="space_limiter")),(_===ie.W.OrgSpace||oe)&&!k.isUnknown&&!k.isInherited&&!c&&(ee&&!k.isUnknown||G.isManager&&fe.push({value:U,label:I18N.imockSharing.remove,isDisabled:!1})),!M&&K&&!c&&(S=!0,M=!0),!M&&k.isViewer&&!c&&(G.isMember?G.level<k.level?(M=!0,E="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):k.isManager&&y&&(M=!0,E=Tn(_)):se!=null&&se.isManager&&ee||(M=!0));let F=mr(_,T);c&&(F="");const be=xe=>{M||h(l,xe)};if(M||S){const xe=fe.find(we=>we.value===F);return(0,o.jsx)(_s,{className:w()("read-only-option",!S&&M&&"disabled"),children:(0,o.jsx)(Dt.A,{content:E,position:"bottom",children:(0,o.jsx)("span",{className:"label",children:xe.label})})})}return(0,o.jsx)(Ss,{value:F,handleChange:be,optionList:fe})},Cs=(0,r.memo)(yr),Ms=(0,N.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),qn=N.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Jt=i(18824);function sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var un=i(7043),Ns=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function js(e,a){return!!(e===a||Ns(e)&&Ns(a))}function br(e,a){if(e.length!==a.length)return!1;for(var c=0;c<e.length;c++)if(!js(e[c],a[c]))return!1;return!0}function xr(e,a){a===void 0&&(a=br);var c,l=[],y,_=!1;function h(){for(var S=[],M=0;M<arguments.length;M++)S[M]=arguments[M];return _&&c===this&&a(S,l)||(y=e.apply(this,S),_=!0,c=this,l=S),y}return h}const $t=xr;var es=typeof performance=="object"&&typeof performance.now=="function",Is=es?function(){return performance.now()}:function(){return Date.now()};function On(e){cancelAnimationFrame(e.id)}function ts(e,a){var c=Is();function l(){Is()-c>=a?e.call(null):y.id=requestAnimationFrame(l)}var y={id:requestAnimationFrame(l)};return y}var ns=-1;function ss(e){if(e===void 0&&(e=!1),ns===-1||e){var a=document.createElement("div"),c=a.style;c.width="50px",c.height="50px",c.overflow="scroll",document.body.appendChild(a),ns=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return ns}var pn=null;function vn(e){if(e===void 0&&(e=!1),pn===null||e){var a=document.createElement("div"),c=a.style;c.width="50px",c.height="50px",c.overflow="scroll",c.direction="rtl";var l=document.createElement("div"),y=l.style;return y.width="100px",y.height="100px",a.appendChild(l),document.body.appendChild(a),a.scrollLeft>0?pn="positive-descending":(a.scrollLeft=1,a.scrollLeft===0?pn="negative":pn="positive-ascending"),document.body.removeChild(a),pn}return pn}var ks=150,vr=function(a){var c=a.columnIndex,l=a.data,y=a.rowIndex;return y+":"+c},Cr=null,Mr=null,Nr=null;function Es(e){var a,c=e.getColumnOffset,l=e.getColumnStartIndexForOffset,y=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,h=e.getEstimatedTotalHeight,S=e.getEstimatedTotalWidth,M=e.getOffsetForColumnAndAlignment,E=e.getOffsetForRowAndAlignment,O=e.getRowHeight,W=e.getRowOffset,k=e.getRowStartIndexForOffset,G=e.getRowStopIndexForStartIndex,se=e.initInstanceProps,T=e.shouldResetStyleCacheOnItemSizeChange,ee=e.validateProps;return a=function(te){(0,un.A)(K,te);function K(fe){var F;return F=te.call(this,fe)||this,F._instanceProps=se(F.props,sn(F)),F._resetIsScrollingTimeoutId=null,F._outerRef=void 0,F.state={instance:sn(F),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof F.props.initialScrollLeft=="number"?F.props.initialScrollLeft:0,scrollTop:typeof F.props.initialScrollTop=="number"?F.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},F._callOnItemsRendered=void 0,F._callOnItemsRendered=$t(function(be,xe,we,Le,Ee,je,He,Ge){return F.props.onItemsRendered({overscanColumnStartIndex:be,overscanColumnStopIndex:xe,overscanRowStartIndex:we,overscanRowStopIndex:Le,visibleColumnStartIndex:Ee,visibleColumnStopIndex:je,visibleRowStartIndex:He,visibleRowStopIndex:Ge})}),F._callOnScroll=void 0,F._callOnScroll=$t(function(be,xe,we,Le,Ee){return F.props.onScroll({horizontalScrollDirection:we,scrollLeft:be,scrollTop:xe,verticalScrollDirection:Le,scrollUpdateWasRequested:Ee})}),F._getItemStyle=void 0,F._getItemStyle=function(be,xe){var we=F.props,Le=we.columnWidth,Ee=we.direction,je=we.rowHeight,He=F._getItemStyleCache(T&&Le,T&&Ee,T&&je),Ge=be+":"+xe,st;if(He.hasOwnProperty(Ge))st=He[Ge];else{var it=c(F.props,xe,F._instanceProps),nt=Ee==="rtl";He[Ge]=st={position:"absolute",left:nt?void 0:it,right:nt?it:void 0,top:W(F.props,be,F._instanceProps),height:O(F.props,be,F._instanceProps),width:_(F.props,xe,F._instanceProps)}}return st},F._getItemStyleCache=void 0,F._getItemStyleCache=$t(function(be,xe,we){return{}}),F._onScroll=function(be){var xe=be.currentTarget,we=xe.clientHeight,Le=xe.clientWidth,Ee=xe.scrollLeft,je=xe.scrollTop,He=xe.scrollHeight,Ge=xe.scrollWidth;F.setState(function(st){if(st.scrollLeft===Ee&&st.scrollTop===je)return null;var it=F.props.direction,nt=Ee;if(it==="rtl")switch(vn()){case"negative":nt=-Ee;break;case"positive-descending":nt=Ge-Le-Ee;break}nt=Math.max(0,Math.min(nt,Ge-Le));var lt=Math.max(0,Math.min(je,He-we));return{isScrolling:!0,horizontalScrollDirection:st.scrollLeft<Ee?"forward":"backward",scrollLeft:nt,scrollTop:lt,verticalScrollDirection:st.scrollTop<je?"forward":"backward",scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._outerRefSetter=function(be){var xe=F.props.outerRef;F._outerRef=be,typeof xe=="function"?xe(be):xe!=null&&typeof xe=="object"&&xe.hasOwnProperty("current")&&(xe.current=be)},F._resetIsScrollingDebounced=function(){F._resetIsScrollingTimeoutId!==null&&On(F._resetIsScrollingTimeoutId),F._resetIsScrollingTimeoutId=ts(F._resetIsScrolling,ks)},F._resetIsScrolling=function(){F._resetIsScrollingTimeoutId=null,F.setState({isScrolling:!1},function(){F._getItemStyleCache(-1)})},F}K.getDerivedStateFromProps=function(F,be){return rs(F,be),ee(F),null};var oe=K.prototype;return oe.scrollTo=function(F){var be=F.scrollLeft,xe=F.scrollTop;be!==void 0&&(be=Math.max(0,be)),xe!==void 0&&(xe=Math.max(0,xe)),this.setState(function(we){return be===void 0&&(be=we.scrollLeft),xe===void 0&&(xe=we.scrollTop),we.scrollLeft===be&&we.scrollTop===xe?null:{horizontalScrollDirection:we.scrollLeft<be?"forward":"backward",scrollLeft:be,scrollTop:xe,scrollUpdateWasRequested:!0,verticalScrollDirection:we.scrollTop<xe?"forward":"backward"}},this._resetIsScrollingDebounced)},oe.scrollToItem=function(F){var be=F.align,xe=be===void 0?"auto":be,we=F.columnIndex,Le=F.rowIndex,Ee=this.props,je=Ee.columnCount,He=Ee.height,Ge=Ee.rowCount,st=Ee.width,it=this.state,nt=it.scrollLeft,lt=it.scrollTop,Be=ss();we!==void 0&&(we=Math.max(0,Math.min(we,je-1))),Le!==void 0&&(Le=Math.max(0,Math.min(Le,Ge-1)));var We=h(this.props,this._instanceProps),at=S(this.props,this._instanceProps),_t=at>st?Be:0,Qt=We>He?Be:0;this.scrollTo({scrollLeft:we!==void 0?M(this.props,we,xe,nt,this._instanceProps,Qt):nt,scrollTop:Le!==void 0?E(this.props,Le,xe,lt,this._instanceProps,_t):lt})},oe.componentDidMount=function(){var F=this.props,be=F.initialScrollLeft,xe=F.initialScrollTop;if(this._outerRef!=null){var we=this._outerRef;typeof be=="number"&&(we.scrollLeft=be),typeof xe=="number"&&(we.scrollTop=xe)}this._callPropsCallbacks()},oe.componentDidUpdate=function(){var F=this.props.direction,be=this.state,xe=be.scrollLeft,we=be.scrollTop,Le=be.scrollUpdateWasRequested;if(Le&&this._outerRef!=null){var Ee=this._outerRef;if(F==="rtl")switch(vn()){case"negative":Ee.scrollLeft=-xe;break;case"positive-ascending":Ee.scrollLeft=xe;break;default:var je=Ee.clientWidth,He=Ee.scrollWidth;Ee.scrollLeft=He-je-xe;break}else Ee.scrollLeft=Math.max(0,xe);Ee.scrollTop=Math.max(0,we)}this._callPropsCallbacks()},oe.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&On(this._resetIsScrollingTimeoutId)},oe.render=function(){var F=this.props,be=F.children,xe=F.className,we=F.columnCount,Le=F.direction,Ee=F.height,je=F.innerRef,He=F.innerElementType,Ge=F.innerTagName,st=F.itemData,it=F.itemKey,nt=it===void 0?vr:it,lt=F.outerElementType,Be=F.outerTagName,We=F.rowCount,at=F.style,_t=F.useIsScrolling,Qt=F.width,Xt=this.state.isScrolling,Ft=this._getHorizontalRangeToRender(),qt=Ft[0],Os=Ft[1],yt=this._getVerticalRangeToRender(),Ln=yt[0],_r=yt[1],Ps=[];if(we>0&&We)for(var _n=Ln;_n<=_r;_n++)for(var Zt=qt;Zt<=Os;Zt++)Ps.push((0,r.createElement)(be,{columnIndex:Zt,data:st,isScrolling:_t?Xt:void 0,key:nt({columnIndex:Zt,data:st,rowIndex:_n}),rowIndex:_n,style:this._getItemStyle(_n,Zt)}));var Bt=h(this.props,this._instanceProps),oi=S(this.props,this._instanceProps);return(0,r.createElement)(lt||Be||"div",{className:xe,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Jt.A)({position:"relative",height:Ee,width:Qt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Le},at)},(0,r.createElement)(He||Ge||"div",{children:Ps,ref:je,style:{height:Bt,pointerEvents:Xt?"none":void 0,width:oi}}))},oe._callPropsCallbacks=function(){var F=this.props,be=F.columnCount,xe=F.onItemsRendered,we=F.onScroll,Le=F.rowCount;if(typeof xe=="function"&&be>0&&Le>0){var Ee=this._getHorizontalRangeToRender(),je=Ee[0],He=Ee[1],Ge=Ee[2],st=Ee[3],it=this._getVerticalRangeToRender(),nt=it[0],lt=it[1],Be=it[2],We=it[3];this._callOnItemsRendered(je,He,nt,lt,Ge,st,Be,We)}if(typeof we=="function"){var at=this.state,_t=at.horizontalScrollDirection,Qt=at.scrollLeft,Xt=at.scrollTop,Ft=at.scrollUpdateWasRequested,qt=at.verticalScrollDirection;this._callOnScroll(Qt,Xt,_t,qt,Ft)}},oe._getHorizontalRangeToRender=function(){var F=this.props,be=F.columnCount,xe=F.overscanColumnCount,we=F.overscanColumnsCount,Le=F.overscanCount,Ee=F.rowCount,je=this.state,He=je.horizontalScrollDirection,Ge=je.isScrolling,st=je.scrollLeft,it=xe||we||Le||1;if(be===0||Ee===0)return[0,0,0,0];var nt=l(this.props,st,this._instanceProps),lt=y(this.props,nt,st,this._instanceProps),Be=!Ge||He==="backward"?Math.max(1,it):1,We=!Ge||He==="forward"?Math.max(1,it):1;return[Math.max(0,nt-Be),Math.max(0,Math.min(be-1,lt+We)),nt,lt]},oe._getVerticalRangeToRender=function(){var F=this.props,be=F.columnCount,xe=F.overscanCount,we=F.overscanRowCount,Le=F.overscanRowsCount,Ee=F.rowCount,je=this.state,He=je.isScrolling,Ge=je.verticalScrollDirection,st=je.scrollTop,it=we||Le||xe||1;if(be===0||Ee===0)return[0,0,0,0];var nt=k(this.props,st,this._instanceProps),lt=G(this.props,nt,st,this._instanceProps),Be=!He||Ge==="backward"?Math.max(1,it):1,We=!He||Ge==="forward"?Math.max(1,it):1;return[Math.max(0,nt-Be),Math.max(0,Math.min(Ee-1,lt+We)),nt,lt]},K}(r.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},a}var rs=function(a,c){var l=a.children,y=a.direction,_=a.height,h=a.innerTagName,S=a.outerTagName,M=a.overscanColumnsCount,E=a.overscanCount,O=a.overscanRowsCount,W=a.width,k=c.instance},wn=50,As=function(a,c){var l=a.rowCount,y=c.rowMetadataMap,_=c.estimatedRowHeight,h=c.lastMeasuredRowIndex,S=0;if(h>=l&&(h=l-1),h>=0){var M=y[h];S=M.offset+M.size}var E=l-h-1,O=E*_;return S+O},s=function(a,c){var l=a.columnCount,y=c.columnMetadataMap,_=c.estimatedColumnWidth,h=c.lastMeasuredColumnIndex,S=0;if(h>=l&&(h=l-1),h>=0){var M=y[h];S=M.offset+M.size}var E=l-h-1,O=E*_;return S+O},t=function(a,c,l,y){var _,h,S;if(a==="column"?(_=y.columnMetadataMap,h=c.columnWidth,S=y.lastMeasuredColumnIndex):(_=y.rowMetadataMap,h=c.rowHeight,S=y.lastMeasuredRowIndex),l>S){var M=0;if(S>=0){var E=_[S];M=E.offset+E.size}for(var O=S+1;O<=l;O++){var W=h(O);_[O]={offset:M,size:W},M+=W}a==="column"?y.lastMeasuredColumnIndex=l:y.lastMeasuredRowIndex=l}return _[l]},n=function(a,c,l,y){var _,h;a==="column"?(_=l.columnMetadataMap,h=l.lastMeasuredColumnIndex):(_=l.rowMetadataMap,h=l.lastMeasuredRowIndex);var S=h>0?_[h].offset:0;return S>=y?u(a,c,l,h,0,y):I(a,c,l,Math.max(0,h),y)},u=function(a,c,l,y,_,h){for(;_<=y;){var S=_+Math.floor((y-_)/2),M=t(a,c,S,l).offset;if(M===h)return S;M<h?_=S+1:M>h&&(y=S-1)}return _>0?_-1:0},I=function(a,c,l,y,_){for(var h=a==="column"?c.columnCount:c.rowCount,S=1;y<h&&t(a,c,y,l).offset<_;)y+=S,S*=2;return u(a,c,l,Math.min(y,h-1),Math.floor(y/2),_)},$=function(a,c,l,y,_,h,S){var M=a==="column"?c.width:c.height,E=t(a,c,l,h),O=a==="column"?s(c,h):As(c,h),W=Math.max(0,Math.min(O-M,E.offset)),k=Math.max(0,E.offset-M+S+E.size);switch(y==="smart"&&(_>=k-M&&_<=W+M?y="auto":y="center"),y){case"start":return W;case"end":return k;case"center":return Math.round(k+(W-k)/2);case"auto":default:return _>=k&&_<=W?_:k>W||_<k?k:W}},Ce=Es({getColumnOffset:function(a,c,l){return t("column",a,c,l).offset},getColumnStartIndexForOffset:function(a,c,l){return n("column",a,l,c)},getColumnStopIndexForStartIndex:function(a,c,l,y){for(var _=a.columnCount,h=a.width,S=t("column",a,c,y),M=l+h,E=S.offset+S.size,O=c;O<_-1&&E<M;)O++,E+=t("column",a,O,y).size;return O},getColumnWidth:function(a,c,l){return l.columnMetadataMap[c].size},getEstimatedTotalHeight:As,getEstimatedTotalWidth:s,getOffsetForColumnAndAlignment:function(a,c,l,y,_,h){return $("column",a,c,l,y,_,h)},getOffsetForRowAndAlignment:function(a,c,l,y,_,h){return $("row",a,c,l,y,_,h)},getRowOffset:function(a,c,l){return t("row",a,c,l).offset},getRowHeight:function(a,c,l){return l.rowMetadataMap[c].size},getRowStartIndexForOffset:function(a,c,l){return n("row",a,l,c)},getRowStopIndexForStartIndex:function(a,c,l,y){for(var _=a.rowCount,h=a.height,S=t("row",a,c,y),M=l+h,E=S.offset+S.size,O=c;O<_-1&&E<M;)O++,E+=t("row",a,O,y).size;return O},initInstanceProps:function(a,c){var l=a,y=l.estimatedColumnWidth,_=l.estimatedRowHeight,h={columnMetadataMap:{},estimatedColumnWidth:y||wn,estimatedRowHeight:_||wn,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return c.resetAfterColumnIndex=function(S,M){M===void 0&&(M=!0),c.resetAfterIndices({columnIndex:S,shouldForceUpdate:M})},c.resetAfterRowIndex=function(S,M){M===void 0&&(M=!0),c.resetAfterIndices({rowIndex:S,shouldForceUpdate:M})},c.resetAfterIndices=function(S){var M=S.columnIndex,E=S.rowIndex,O=S.shouldForceUpdate,W=O===void 0?!0:O;typeof M=="number"&&(h.lastMeasuredColumnIndex=Math.min(h.lastMeasuredColumnIndex,M-1)),typeof E=="number"&&(h.lastMeasuredRowIndex=Math.min(h.lastMeasuredRowIndex,E-1)),c._getItemStyleCache(-1),W&&c.forceUpdate()},h},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var c=a.columnWidth,l=a.rowHeight}}),_e=150,Ie=function(a,c){return a},De=null,ke=null;function Ue(e){var a,c=e.getItemOffset,l=e.getEstimatedTotalSize,y=e.getItemSize,_=e.getOffsetForIndexAndAlignment,h=e.getStartIndexForOffset,S=e.getStopIndexForStartIndex,M=e.initInstanceProps,E=e.shouldResetStyleCacheOnItemSizeChange,O=e.validateProps;return a=function(W){(0,un.A)(k,W);function k(se){var T;return T=W.call(this,se)||this,T._instanceProps=M(T.props,sn(T)),T._outerRef=void 0,T._resetIsScrollingTimeoutId=null,T.state={instance:sn(T),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof T.props.initialScrollOffset=="number"?T.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},T._callOnItemsRendered=void 0,T._callOnItemsRendered=$t(function(ee,te,K,oe){return T.props.onItemsRendered({overscanStartIndex:ee,overscanStopIndex:te,visibleStartIndex:K,visibleStopIndex:oe})}),T._callOnScroll=void 0,T._callOnScroll=$t(function(ee,te,K){return T.props.onScroll({scrollDirection:ee,scrollOffset:te,scrollUpdateWasRequested:K})}),T._getItemStyle=void 0,T._getItemStyle=function(ee){var te=T.props,K=te.direction,oe=te.itemSize,fe=te.layout,F=T._getItemStyleCache(E&&oe,E&&fe,E&&K),be;if(F.hasOwnProperty(ee))be=F[ee];else{var xe=c(T.props,ee,T._instanceProps),we=y(T.props,ee,T._instanceProps),Le=K==="horizontal"||fe==="horizontal",Ee=K==="rtl",je=Le?xe:0;F[ee]=be={position:"absolute",left:Ee?void 0:je,right:Ee?je:void 0,top:Le?0:xe,height:Le?"100%":we,width:Le?we:"100%"}}return be},T._getItemStyleCache=void 0,T._getItemStyleCache=$t(function(ee,te,K){return{}}),T._onScrollHorizontal=function(ee){var te=ee.currentTarget,K=te.clientWidth,oe=te.scrollLeft,fe=te.scrollWidth;T.setState(function(F){if(F.scrollOffset===oe)return null;var be=T.props.direction,xe=oe;if(be==="rtl")switch(vn()){case"negative":xe=-oe;break;case"positive-descending":xe=fe-K-oe;break}return xe=Math.max(0,Math.min(xe,fe-K)),{isScrolling:!0,scrollDirection:F.scrollOffset<xe?"forward":"backward",scrollOffset:xe,scrollUpdateWasRequested:!1}},T._resetIsScrollingDebounced)},T._onScrollVertical=function(ee){var te=ee.currentTarget,K=te.clientHeight,oe=te.scrollHeight,fe=te.scrollTop;T.setState(function(F){if(F.scrollOffset===fe)return null;var be=Math.max(0,Math.min(fe,oe-K));return{isScrolling:!0,scrollDirection:F.scrollOffset<be?"forward":"backward",scrollOffset:be,scrollUpdateWasRequested:!1}},T._resetIsScrollingDebounced)},T._outerRefSetter=function(ee){var te=T.props.outerRef;T._outerRef=ee,typeof te=="function"?te(ee):te!=null&&typeof te=="object"&&te.hasOwnProperty("current")&&(te.current=ee)},T._resetIsScrollingDebounced=function(){T._resetIsScrollingTimeoutId!==null&&On(T._resetIsScrollingTimeoutId),T._resetIsScrollingTimeoutId=ts(T._resetIsScrolling,_e)},T._resetIsScrolling=function(){T._resetIsScrollingTimeoutId=null,T.setState({isScrolling:!1},function(){T._getItemStyleCache(-1,null)})},T}k.getDerivedStateFromProps=function(T,ee){return he(T,ee),O(T),null};var G=k.prototype;return G.scrollTo=function(T){T=Math.max(0,T),this.setState(function(ee){return ee.scrollOffset===T?null:{scrollDirection:ee.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},G.scrollToItem=function(T,ee){ee===void 0&&(ee="auto");var te=this.props,K=te.itemCount,oe=te.layout,fe=this.state.scrollOffset;T=Math.max(0,Math.min(T,K-1));var F=0;if(this._outerRef){var be=this._outerRef;oe==="vertical"?F=be.scrollWidth>be.clientWidth?ss():0:F=be.scrollHeight>be.clientHeight?ss():0}this.scrollTo(_(this.props,T,ee,fe,this._instanceProps,F))},G.componentDidMount=function(){var T=this.props,ee=T.direction,te=T.initialScrollOffset,K=T.layout;if(typeof te=="number"&&this._outerRef!=null){var oe=this._outerRef;ee==="horizontal"||K==="horizontal"?oe.scrollLeft=te:oe.scrollTop=te}this._callPropsCallbacks()},G.componentDidUpdate=function(){var T=this.props,ee=T.direction,te=T.layout,K=this.state,oe=K.scrollOffset,fe=K.scrollUpdateWasRequested;if(fe&&this._outerRef!=null){var F=this._outerRef;if(ee==="horizontal"||te==="horizontal")if(ee==="rtl")switch(vn()){case"negative":F.scrollLeft=-oe;break;case"positive-ascending":F.scrollLeft=oe;break;default:var be=F.clientWidth,xe=F.scrollWidth;F.scrollLeft=xe-be-oe;break}else F.scrollLeft=oe;else F.scrollTop=oe}this._callPropsCallbacks()},G.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&On(this._resetIsScrollingTimeoutId)},G.render=function(){var T=this.props,ee=T.children,te=T.className,K=T.direction,oe=T.height,fe=T.innerRef,F=T.innerElementType,be=T.innerTagName,xe=T.itemCount,we=T.itemData,Le=T.itemKey,Ee=Le===void 0?Ie:Le,je=T.layout,He=T.outerElementType,Ge=T.outerTagName,st=T.style,it=T.useIsScrolling,nt=T.width,lt=this.state.isScrolling,Be=K==="horizontal"||je==="horizontal",We=Be?this._onScrollHorizontal:this._onScrollVertical,at=this._getRangeToRender(),_t=at[0],Qt=at[1],Xt=[];if(xe>0)for(var Ft=_t;Ft<=Qt;Ft++)Xt.push((0,r.createElement)(ee,{data:we,key:Ee(Ft,we),index:Ft,isScrolling:it?lt:void 0,style:this._getItemStyle(Ft)}));var qt=l(this.props,this._instanceProps);return(0,r.createElement)(He||Ge||"div",{className:te,onScroll:We,ref:this._outerRefSetter,style:(0,Jt.A)({position:"relative",height:oe,width:nt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:K},st)},(0,r.createElement)(F||be||"div",{children:Xt,ref:fe,style:{height:Be?"100%":qt,pointerEvents:lt?"none":void 0,width:Be?qt:"100%"}}))},G._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var T=this.props.itemCount;if(T>0){var ee=this._getRangeToRender(),te=ee[0],K=ee[1],oe=ee[2],fe=ee[3];this._callOnItemsRendered(te,K,oe,fe)}}if(typeof this.props.onScroll=="function"){var F=this.state,be=F.scrollDirection,xe=F.scrollOffset,we=F.scrollUpdateWasRequested;this._callOnScroll(be,xe,we)}},G._getRangeToRender=function(){var T=this.props,ee=T.itemCount,te=T.overscanCount,K=this.state,oe=K.isScrolling,fe=K.scrollDirection,F=K.scrollOffset;if(ee===0)return[0,0,0,0];var be=h(this.props,F,this._instanceProps),xe=S(this.props,be,F,this._instanceProps),we=!oe||fe==="backward"?Math.max(1,te):1,Le=!oe||fe==="forward"?Math.max(1,te):1;return[Math.max(0,be-we),Math.max(0,Math.min(ee-1,xe+Le)),be,xe]},k}(r.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},a}var he=function(a,c){var l=a.children,y=a.direction,_=a.height,h=a.layout,S=a.innerTagName,M=a.outerTagName,E=a.width,O=c.instance;if(0)var W},ge=50,Ne=function(a,c,l){var y=a,_=y.itemSize,h=l.itemMetadataMap,S=l.lastMeasuredIndex;if(c>S){var M=0;if(S>=0){var E=h[S];M=E.offset+E.size}for(var O=S+1;O<=c;O++){var W=_(O);h[O]={offset:M,size:W},M+=W}l.lastMeasuredIndex=c}return h[c]},Fe=function(a,c,l){var y=c.itemMetadataMap,_=c.lastMeasuredIndex,h=_>0?y[_].offset:0;return h>=l?qe(a,c,_,0,l):ut(a,c,Math.max(0,_),l)},qe=function(a,c,l,y,_){for(;y<=l;){var h=y+Math.floor((l-y)/2),S=Ne(a,h,c).offset;if(S===_)return h;S<_?y=h+1:S>_&&(l=h-1)}return y>0?y-1:0},ut=function(a,c,l,y){for(var _=a.itemCount,h=1;l<_&&Ne(a,l,c).offset<y;)l+=h,h*=2;return qe(a,c,Math.min(l,_-1),Math.floor(l/2),y)},ct=function(a,c){var l=a.itemCount,y=c.itemMetadataMap,_=c.estimatedItemSize,h=c.lastMeasuredIndex,S=0;if(h>=l&&(h=l-1),h>=0){var M=y[h];S=M.offset+M.size}var E=l-h-1,O=E*_;return S+O},Et=Ue({getItemOffset:function(a,c,l){return Ne(a,c,l).offset},getItemSize:function(a,c,l){return l.itemMetadataMap[c].size},getEstimatedTotalSize:ct,getOffsetForIndexAndAlignment:function(a,c,l,y,_,h){var S=a.direction,M=a.height,E=a.layout,O=a.width,W=S==="horizontal"||E==="horizontal",k=W?O:M,G=Ne(a,c,_),se=ct(a,_),T=Math.max(0,Math.min(se-k,G.offset)),ee=Math.max(0,G.offset-k+G.size+h);switch(l==="smart"&&(y>=ee-k&&y<=T+k?l="auto":l="center"),l){case"start":return T;case"end":return ee;case"center":return Math.round(ee+(T-ee)/2);case"auto":default:return y>=ee&&y<=T?y:y<ee?ee:T}},getStartIndexForOffset:function(a,c,l){return Fe(a,l,c)},getStopIndexForStartIndex:function(a,c,l,y){for(var _=a.direction,h=a.height,S=a.itemCount,M=a.layout,E=a.width,O=_==="horizontal"||M==="horizontal",W=O?E:h,k=Ne(a,c,y),G=l+W,se=k.offset+k.size,T=c;T<S-1&&se<G;)T++,se+=Ne(a,T,y).size;return T},initInstanceProps:function(a,c){var l=a,y=l.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:y||ge,lastMeasuredIndex:-1};return c.resetAfterIndex=function(h,S){S===void 0&&(S=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,h-1),c._getItemStyleCache(-1),S&&c.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var c=a.itemSize}}),Mt=Es({getColumnOffset:function(a,c){var l=a.columnWidth;return c*l},getColumnWidth:function(a,c){var l=a.columnWidth;return l},getRowOffset:function(a,c){var l=a.rowHeight;return c*l},getRowHeight:function(a,c){var l=a.rowHeight;return l},getEstimatedTotalHeight:function(a){var c=a.rowCount,l=a.rowHeight;return l*c},getEstimatedTotalWidth:function(a){var c=a.columnCount,l=a.columnWidth;return l*c},getOffsetForColumnAndAlignment:function(a,c,l,y,_,h){var S=a.columnCount,M=a.columnWidth,E=a.width,O=Math.max(0,S*M-E),W=Math.min(O,c*M),k=Math.max(0,c*M-E+h+M);switch(l==="smart"&&(y>=k-E&&y<=W+E?l="auto":l="center"),l){case"start":return W;case"end":return k;case"center":var G=Math.round(k+(W-k)/2);return G<Math.ceil(E/2)?0:G>O+Math.floor(E/2)?O:G;case"auto":default:return y>=k&&y<=W?y:k>W||y<k?k:W}},getOffsetForRowAndAlignment:function(a,c,l,y,_,h){var S=a.rowHeight,M=a.height,E=a.rowCount,O=Math.max(0,E*S-M),W=Math.min(O,c*S),k=Math.max(0,c*S-M+h+S);switch(l==="smart"&&(y>=k-M&&y<=W+M?l="auto":l="center"),l){case"start":return W;case"end":return k;case"center":var G=Math.round(k+(W-k)/2);return G<Math.ceil(M/2)?0:G>O+Math.floor(M/2)?O:G;case"auto":default:return y>=k&&y<=W?y:k>W||y<k?k:W}},getColumnStartIndexForOffset:function(a,c){var l=a.columnWidth,y=a.columnCount;return Math.max(0,Math.min(y-1,Math.floor(c/l)))},getColumnStopIndexForStartIndex:function(a,c,l){var y=a.columnWidth,_=a.columnCount,h=a.width,S=c*y,M=Math.ceil((h+l-S)/y);return Math.max(0,Math.min(_-1,c+M-1))},getRowStartIndexForOffset:function(a,c){var l=a.rowHeight,y=a.rowCount;return Math.max(0,Math.min(y-1,Math.floor(c/l)))},getRowStopIndexForStartIndex:function(a,c,l){var y=a.rowHeight,_=a.rowCount,h=a.height,S=c*y,M=Math.ceil((h+l-S)/y);return Math.max(0,Math.min(_-1,c+M-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var c=a.columnWidth,l=a.rowHeight}}),Pt=Ue({getItemOffset:function(a,c){var l=a.itemSize;return c*l},getItemSize:function(a,c){var l=a.itemSize;return l},getEstimatedTotalSize:function(a){var c=a.itemCount,l=a.itemSize;return l*c},getOffsetForIndexAndAlignment:function(a,c,l,y,_,h){var S=a.direction,M=a.height,E=a.itemCount,O=a.itemSize,W=a.layout,k=a.width,G=S==="horizontal"||W==="horizontal",se=G?k:M,T=Math.max(0,E*O-se),ee=Math.min(T,c*O),te=Math.max(0,c*O-se+O+h);switch(l==="smart"&&(y>=te-se&&y<=ee+se?l="auto":l="center"),l){case"start":return ee;case"end":return te;case"center":{var K=Math.round(te+(ee-te)/2);return K<Math.ceil(se/2)?0:K>T+Math.floor(se/2)?T:K}case"auto":default:return y>=te&&y<=ee?y:y<te?te:ee}},getStartIndexForOffset:function(a,c){var l=a.itemCount,y=a.itemSize;return Math.max(0,Math.min(l-1,Math.floor(c/y)))},getStopIndexForStartIndex:function(a,c,l){var y=a.direction,_=a.height,h=a.itemCount,S=a.itemSize,M=a.layout,E=a.width,O=y==="horizontal"||M==="horizontal",W=c*S,k=O?E:_,G=Math.ceil((k+l-W)/S);return Math.max(0,Math.min(h-1,c+G-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var c=a.itemSize}});function Je(e,a){for(var c in e)if(!(c in a))return!0;for(var l in a)if(e[l]!==a[l])return!0;return!1}var Oe=null,Ke=null;function Ye(e,a){var c=e.style,l=_objectWithoutPropertiesLoose(e,Oe),y=a.style,_=_objectWithoutPropertiesLoose(a,Ke);return!Je(c,y)&&!Je(l,_)}function tt(e,a){return!Ye(this.props,e)||Je(this.state,a)}let Ze;typeof window<"u"?Ze=window:typeof self<"u"?Ze=self:Ze=i.g;let ft=null,wt=null;const pt=20,Me=Ze.clearTimeout,Xe=Ze.setTimeout,Nt=Ze.cancelAnimationFrame||Ze.mozCancelAnimationFrame||Ze.webkitCancelAnimationFrame,At=Ze.requestAnimationFrame||Ze.mozRequestAnimationFrame||Ze.webkitRequestAnimationFrame;Nt==null||At==null?(ft=Me,wt=function(a){return Xe(a,pt)}):(ft=function(a){let[c,l]=a;Nt(c),Me(l)},wt=function(a){const c=At(function(){Me(l),a()}),l=Xe(function(){Nt(c),a()},pt);return[c,l]});function hn(e){let a,c,l,y,_,h,S;const M=typeof document<"u"&&document.attachEvent;if(!M){h=function(te){const K=te.__resizeTriggers__,oe=K.firstElementChild,fe=K.lastElementChild,F=oe.firstElementChild;fe.scrollLeft=fe.scrollWidth,fe.scrollTop=fe.scrollHeight,F.style.width=oe.offsetWidth+1+"px",F.style.height=oe.offsetHeight+1+"px",oe.scrollLeft=oe.scrollWidth,oe.scrollTop=oe.scrollHeight},_=function(te){return te.offsetWidth!==te.__resizeLast__.width||te.offsetHeight!==te.__resizeLast__.height},S=function(te){if(te.target.className&&typeof te.target.className.indexOf=="function"&&te.target.className.indexOf("contract-trigger")<0&&te.target.className.indexOf("expand-trigger")<0)return;const K=this;h(this),this.__resizeRAF__&&ft(this.__resizeRAF__),this.__resizeRAF__=wt(function(){_(K)&&(K.__resizeLast__.width=K.offsetWidth,K.__resizeLast__.height=K.offsetHeight,K.__resizeListeners__.forEach(function(F){F.call(K,te)}))})};let k=!1,G="";l="animationstart";const se="Webkit Moz O ms".split(" ");let T="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ee="";{const te=document.createElement("fakeelement");if(te.style.animationName!==void 0&&(k=!0),k===!1){for(let K=0;K<se.length;K++)if(te.style[se[K]+"AnimationName"]!==void 0){ee=se[K],G="-"+ee.toLowerCase()+"-",l=T[K],k=!0;break}}}c="resizeanim",a="@"+G+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ",y=G+"animation: 1ms "+c+"; "}const E=function(k){if(!k.getElementById("detectElementResize")){const G=(a||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',se=k.head||k.getElementsByTagName("head")[0],T=k.createElement("style");T.id="detectElementResize",T.type="text/css",e!=null&&T.setAttribute("nonce",e),T.styleSheet?T.styleSheet.cssText=G:T.appendChild(k.createTextNode(G)),se.appendChild(T)}};return{addResizeListener:function(k,G){if(M)k.attachEvent("onresize",G);else{if(!k.__resizeTriggers__){const se=k.ownerDocument,T=Ze.getComputedStyle(k);T&&T.position==="static"&&(k.style.position="relative"),E(se),k.__resizeLast__={},k.__resizeListeners__=[],(k.__resizeTriggers__=se.createElement("div")).className="resize-triggers";const ee=se.createElement("div");ee.className="expand-trigger",ee.appendChild(se.createElement("div"));const te=se.createElement("div");te.className="contract-trigger",k.__resizeTriggers__.appendChild(ee),k.__resizeTriggers__.appendChild(te),k.appendChild(k.__resizeTriggers__),h(k),k.addEventListener("scroll",S,!0),l&&(k.__resizeTriggers__.__animationListener__=function(oe){oe.animationName===c&&h(k)},k.__resizeTriggers__.addEventListener(l,k.__resizeTriggers__.__animationListener__))}k.__resizeListeners__.push(G)}},removeResizeListener:function(k,G){if(M)k.detachEvent("onresize",G);else if(k.__resizeListeners__.splice(k.__resizeListeners__.indexOf(G),1),!k.__resizeListeners__.length){k.removeEventListener("scroll",S,!0),k.__resizeTriggers__.__animationListener__&&(k.__resizeTriggers__.removeEventListener(l,k.__resizeTriggers__.__animationListener__),k.__resizeTriggers__.__animationListener__=null);try{k.__resizeTriggers__=!k.removeChild(k.__resizeTriggers__)}catch(se){}}}}}class rn extends r.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:a,disableWidth:c,onResize:l}=this.props;if(this._parentNode){const y=window.getComputedStyle(this._parentNode)||{},_=parseFloat(y.paddingLeft||"0"),h=parseFloat(y.paddingRight||"0"),S=parseFloat(y.paddingTop||"0"),M=parseFloat(y.paddingBottom||"0"),E=this._parentNode.getBoundingClientRect(),O=E.height-S-M,W=E.width-_-h,k=this._parentNode.offsetHeight-S-M,G=this._parentNode.offsetWidth-_-h;(!a&&(this.state.height!==k||this.state.scaledHeight!==O)||!c&&(this.state.width!==G||this.state.scaledWidth!==W))&&(this.setState({height:k,width:G,scaledHeight:O,scaledWidth:W}),typeof l=="function"&&l({height:k,scaledHeight:O,scaledWidth:W,width:G}))}},this._setRef=a=>{this._autoSizer=a}}componentDidMount(){const{nonce:a}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=hn(a),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:a,defaultHeight:c,defaultWidth:l,disableHeight:y=!1,disableWidth:_=!1,nonce:h,onResize:S,style:M={},tagName:E="div",...O}=this.props,{height:W,scaledHeight:k,scaledWidth:G,width:se}=this.state,T={overflow:"visible"},ee={};let te=!1;return y||(W===0&&(te=!0),T.height=0,ee.height=W,ee.scaledHeight=k),_||(se===0&&(te=!0),T.width=0,ee.width=se,ee.scaledWidth=G),(0,r.createElement)(E,{ref:this._setRef,style:{...T,...M},...O},!te&&a(ee))}}function Yt(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function Pn(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function ai(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const Tr=e=>{let{className:a,itemCount:c,itemSize:l,itemData:y,renderItem:_,onItemCountChange:h}=e;const S=r.createRef();return(0,r.useEffect)(()=>{S.current&&h&&h(S)},[c,S,h]),(0,o.jsx)(rn,{children:M=>{let{width:E,height:O=0}=M;return(0,o.jsx)(Pt,{ref:S,className:a,itemCount:c,itemSize:l,itemData:y,height:O,width:E,children:_})}})},Or=e=>{const{theme:a,caption:c,captionExtra:l,className:y,permissionScope:_,memberList:h,isOnlyOneManager:S,readOnly:M,readOnlyTooltip:E,expandable:O,defaultExpanded:W=!0,isResetPermission:k=!1,children:G,onPermissionChange:se,onChangeHeight:T,isMemberList:ee,onlyTitle:te,isUseVirtualizedRender:K=!1,onClickInviteButton:oe,isShowInviteButton:fe=!1}=e,[F,be]=(0,r.useState)(W),xe=(0,r.useCallback)(()=>{be(je=>!je),T&&T()},[T]),we=(0,r.useCallback)(je=>{var He;const{avatar:Ge,name:st}=je;return Ge&&!Ge.includes("/images/avatar.png")?(0,o.jsx)("img",{className:"avatar",src:je.avatar,alt:je.name}):(0,o.jsx)("div",{className:"avatar avater-name",children:st==null||(He=st.slice(0,1))==null?void 0:He.toUpperCase()})},[]),Le=(je,He)=>(0,o.jsxs)("div",{className:"item",style:He,children:[(0,o.jsxs)("span",{className:"title",children:[we(je),(0,o.jsx)("span",{className:"name",children:je.name})]}),(0,o.jsx)("span",{className:"account",children:je.email||je.mobile}),(0,o.jsx)(Cs,{readOnly:M,readOnlyTooltip:E,member:je,isReset:k,isOnlyOneManager:S,permissionScope:_,onPermissionChange:se})]},je.user_cid),Ee=je=>{let{data:He,index:Ge,style:st}=je;const{memberList:it}=He;return Le(it[Ge],st)};return(0,o.jsxs)(qn,{className:w()("member-list",a,y&&y,K&&"use-virtualized-list"),"data-expanded":F,children:[O&&(0,o.jsxs)("h5",{className:"caption",children:[(0,o.jsx)("span",{children:c}),fe&&!(!te&&O&&!ee)&&(0,o.jsxs)("div",{className:"invite-item",onClick:oe,children:[(0,o.jsx)(ae.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!te&&O&&!ee&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:h.length>0&&"\xB7"+h.length}),(0,o.jsx)("span",{className:w()("btn-toggle-expand"),onClick:xe,children:F?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),l]}),G,!!h.length&&(0,o.jsx)("div",{className:"members",children:K?(0,o.jsx)(Tr,{className:"virtualized-list",itemSize:48,itemCount:h.length,itemData:{memberList:h},renderItem:Ee}):h.map(je=>Le(je))})]})},wr=(0,r.memo)(Or),Pr=N.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),Lr=e=>{const{value:a,onChange:c,onKeyPress:l}=e,y=h=>{c(h.currentTarget.value)},_=h=>{h.key==="Enter"&&l(h.currentTarget.value)};return(0,o.jsx)(Pr,{className:"search-box",children:(0,o.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:a,onChange:y,onKeyPress:_})})},Dr=(0,r.memo)(Lr);var jr=i(78018);function Rr(e){const{theme:a,caption:c,outerMembers:l,canInvite:y,isSharing:_,handleClickInviteMember:h}=e,S=()=>{const O="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(l[0].mobile||l[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+c+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,gn.$)(O)},M=!l||l.length<1;return _?(0,o.jsxs)(qn,{className:"member-list sharing "+a,children:[(0,o.jsxs)("div",{className:"members invite",children:[!M&&l.map(E=>(0,o.jsxs)("div",{className:"item",children:[(0,o.jsxs)("span",{className:"title",children:[(0,o.jsx)("img",{className:"avatar",src:E.avatar,alt:E.name}),(0,o.jsxs)("span",{className:"name",children:[E.name,(0,o.jsx)("span",{className:"register",children:E.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,o.jsx)("span",{className:"account",children:E.email||E.mobile}),!i.g.ENV.IS_ON_PREMISES&&(y?(0,o.jsx)("span",{className:"inviteJoin",onClick:h,children:I18N.imockSharing.invite_h}):(0,o.jsxs)("div",{className:"addOuter",children:[(0,o.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,o.jsx)($n.A,{opener:(0,o.jsx)(jr.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,o.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,o.jsx)("a",{className:"copy-text",onClick:S,children:I18N.imockSharing.copy})]})})]}))]},E.cid)),M&&(0,o.jsx)("div",{className:"enterTip",children:(0,o.jsx)("span",{children:i.g.ENV.IS_ON_PREMISES?(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,o.jsx)(Ms,{})]}):(o.Fragment,(0,o.jsxs)(qn,{className:"member-list "+a,children:[(0,o.jsxs)("div",{className:"members invite",children:[!M&&l.map(E=>(0,o.jsxs)("div",{className:"item",children:[(0,o.jsxs)("span",{className:"title",children:[(0,o.jsx)("img",{className:"avatar",src:E.avatar,alt:E.name}),(0,o.jsxs)("span",{className:"name",children:[E.name,(0,o.jsx)("span",{className:"register",children:E.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,o.jsx)("span",{className:"account",children:E.email||E.mobile}),!i.g.ENV.IS_ON_PREMISES&&(y?(0,o.jsx)("span",{className:"inviteJoin",onClick:h,children:I18N.imockSharing.invite_h}):(0,o.jsxs)("div",{className:"addOuter",children:[(0,o.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,o.jsx)($n.A,{opener:(0,o.jsx)(jr.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,o.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,o.jsx)("a",{className:"copy-text",onClick:S,children:I18N.imockSharing.copy})]})})]}))]},E.cid)),M&&(0,o.jsx)("div",{className:"enterTip",children:(0,o.jsx)("span",{children:i.g.ENV.IS_ON_PREMISES?(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,o.jsx)(Ms,{})]}))}const zr=(0,r.memo)(Rr),Ir=()=>!!Number(sessionStorage.getItem("inClowdz"));function Fr(e){let a="file_editarea-proto-v8-add",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return a=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",c=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:a,trackSource:c}}function Br(e,a){a===void 0&&(a=!1);let c="file_editarea-proto-v8-invite",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return a?(c="file_editarea-proto-v8-input-inviteTA",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(c=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:c,trackSource:l}}function kr(e){if(!e)return"";let a="";return e==="org_owner"?a="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?a="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?a="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?a="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(a="\u5BA1\u9605\u6210\u5458"),a}const Er=(e,a,c)=>{try{const{source_id:l,source:y,step:_,option:h=null}=c;if(!a||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!h||(h==null?void 0:h.results)!==!1)&&l)try{(0,Jn.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:a,source:l,step:_}})}catch(S){console.log(S.message)}if(_===0)(0,Sn.kH)("invite_members_entrance",{source:y});else if(_===2&&h){const S=kr(h==null?void 0:h.invitor_role),M=kr(h==null?void 0:h.invitee_role);(0,Sn.kH)("invite_members_via_add",{source:y,join_space_num:1,has_department:!1,invitor_role:S,invitee_role:M,results:(h==null?void 0:h.results)||!0,error_type:(h==null?void 0:h.error_type)||""})}}catch(l){console.log(l.message)}},Ts=function(e,a,c,l,y){y===void 0&&(y=null);const{trackSourceId:_,trackSource:h}=Fr(c);Er(e,a,{source_id:_,source:h,step:l,option:y})},Ur=function(e,a,c,l){l===void 0&&(l=!1);const{trackSourceId:y,trackSource:_}=Br(c,l),h={trackSourceId:y,trackSource:_},S="/workspace/"+a+"/member?openInviteByLinkModal=true&invite_track="+(0,Kt._)(h);if(Er(e,a,{source_id:y,source:_,step:0}),Ir()){location.pathname=S;return}(0,Ot.JW)(S)},Hr=(e,a,c)=>{const[l]=(0,r.useState)(c),y=(0,r.useRef)(0);return(0,r.useEffect)(()=>{l&&y.current>=1||y.current>=2||(Ts(e,a,c,0),y.current+=1)},[!!c]),l||c},Wr=N.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],D.gE,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),Vr=e=>{const{theme:a,keyword:c,source:l,caption:y,permissionScope:_,assignedMembers:h,unassignedMembers:S,outerMember:M,onPermissionChange:E,hostType:O,handleClose:W}=e,k=(0,p.d4)($e.wA),G=(0,p.d4)($e.cb),se=(0,p.d4)($e.WR),{settings:T,seats_taken:ee,total_seats:te,cid:K}=k,oe=Hr(se,K,c);let fe=!1;(T.invite_permission&&T.invite_permission[0]==="all"||G.isManager)&&(fe=!0);const F=()=>{const je={mode:"org",orgCid:k.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(O==="proto")MB.global.popupHelper.chargeAsync(je),W&&W();else{const He="/workspace/"+k.cid+"?payment_param="+(0,Kt._)(je);if(Ir()){location.pathname=He;return}(0,Ot.JW)(He)}},be=(0,r.useMemo)(()=>S.filter(je=>je.name&&je.name.includes(c)||je.mobile&&je.mobile.includes(c)||je.email&&je.email.includes(c)),[c,S]),xe=()=>{fe&&Ur(se,K,oe,!0)},we=(je,He)=>{E(je,He),Ts(se,K,oe,1),M&&Ts(se,K,oe,2,{invitor_role:G==null?void 0:G.roleName,invitee_role:He}),Ts(se,K,oe,3)},Le=!be||be.length<1,Ee=M?[M]:[];return(0,o.jsxs)(Wr,{className:"overlay-adding-member sharing",children:[(0,o.jsxs)("div",{className:w()("overlay-content",!M&&Le&&"no-members"),children:[!Le&&(0,o.jsx)(wr,{theme:a,caption:c?null:I18N.imockSharing.unjoined,expandable:!1,className:w()(c&&"invite"),permissionScope:_,memberList:be,isResetPermission:!0,onPermissionChange:we,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Le&&(0,o.jsx)(zr,{theme:a,caption:y,outerMembers:Ee,canInvite:fe,isSharing:!0,handleClickInviteMember:xe})]}),(0,o.jsxs)("footer",{className:"overlay-footer",children:[(0,o.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,ee,"/",te]}),!i.g.ENV.IS_ON_PREMISES&&(0,o.jsx)(vt.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:F,children:I18N.imockSharing.add_team_seat})]})]})},Yr=(0,r.memo)(Vr),Zr=N.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,D.gE),Gr=e=>{const{theme:a,from:c,caption:l,targetCid:y,permissionScope:_,captionTipType:h,isFolder:S=!1,isAllowSetCollaborators:M,isShowInheritedCollaborators:E=!1,handleBackSharingHandel:O,onChangeMembersAccess:W,handleClose:k,hostType:G,isOnlyMemberManager:se=!1}=e,[T,ee]=(0,r.useState)(""),[te,K]=(0,r.useState)(null),[oe,fe]=(0,r.useState)(!1),F=(0,ln.jB)(),{currentMembers:be,inheritedMembers:xe,joinedMembers:we,unjoinedMembers:Le,assignedMembers:Ee,unassignedMembers:je,userCurrentScopePermisson:He,isOnlyOneManager:Ge}=Ct(_,y),st=Tt(_,y,c),it=async(yt,Ln)=>{await st(yt,Ln),W&&W(yt,Ln)};let nt=be,lt=Ee,Be=je;const We=He.isMember,at=M&&We,_t=!oe&&We;M&&!E&&(nt=we,lt=we,Be=Le);const Qt=(0,r.useCallback)(()=>{fe(!1),ee(""),K(null)},[]),Xt=(0,r.useCallback)(yt=>{ee(yt),K(null),yt&&fe(!0)},[]),Ft=(0,r.useCallback)(async yt=>{if(!i.g.ENV.IS_ON_PREMISES&&(ee(yt),yt)){const Ln=Be.find(Bt=>Bt.email===yt.trim()||Bt.mobile===yt.trim()),_r=lt.find(Bt=>Bt.email===yt.trim()||Bt.mobile===yt.trim());if(Ln||_r)return;const Ps=Gn.test(yt.trim()),_n=Kn.test(yt.trim());let Zt=null;if(Ps?Zt=await vs(yt.trim()):_n&&(Zt=await vs(null,yt.trim())),Zt){let Bt=null;Zt.user?(Bt=Zt.user,Bt.name=I18N.imockSharing.to_be_invited,Bt.cid="outer"):Bt={avatar:"/images/avatar.png",cid:yt,email:yt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},K(Bt)}}},[]),qt=(0,r.useCallback)(()=>{if(!(se&&!oe)){if(ee(""),K(null),oe){fe(!1);return}O()}},[oe,fe,O]),Os=(0,r.useCallback)(()=>{fe(!0)},[fe]);return(0,o.jsxs)(Zr,{className:w()("ProjectCollaborators sharing",""+a,{isInviteOverlayOpen:!0}),children:[(0,o.jsxs)("div",{className:"nav-header",children:[(0,o.jsxs)("div",{className:"title-left",children:[(0,o.jsxs)("div",{className:w()("title-left-back",{"member-manager":se&&!oe}),onClick:qt,children:[se?oe&&(0,o.jsx)(ae.C,{name:"sharing/nav_back",size:32}):(0,o.jsx)(ae.C,{name:"sharing/nav_back",size:32}),(0,o.jsx)("div",{className:"nav-title",children:oe?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!oe&&(0,o.jsx)(ws,{tipType:h,position:"left",isOnlyMemberManager:se})]}),se&&(0,o.jsx)("div",{className:"title-close",onClick:k,children:(0,o.jsx)(ae.C,{size:24,name:"sharing/close"})})]}),at&&(0,o.jsx)("div",{className:w()("search"),children:(0,o.jsx)(Dr,{value:T,onChange:Xt,onKeyPress:Ft})}),(0,o.jsx)("div",{className:w()("modal-content",at&&"modal-content-show-search"),children:oe?(0,o.jsx)(Yr,{theme:a,permissionScope:_,unassignedMembers:Be,assignedMembers:lt,outerMember:te,keyword:T,caption:l,onClose:Qt,onPermissionChange:it,handleClose:k,hostType:G}):(0,o.jsxs)("div",{className:w()("collaborators",oe&&"in-invite-overlay"),children:[M&&(0,o.jsx)(wr,{theme:a,caption:I18N.imockSharing.project_collaborators,permissionScope:_,memberList:nt,isOnlyOneManager:Ge,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:it,onClickInviteButton:Os,isShowInviteButton:_t},"current-collaborators"),E&&(0,o.jsx)(wr,{theme:a,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:S,readOnly:!0,permissionScope:_,memberList:xe,onPermissionChange:it,className:"inherited-members",onClickInviteButton:Os,isShowInviteButton:_t},"inherited-collaborators")]})}),F?(0,o.jsx)(pr,{}):(0,o.jsx)(Xn,{})]})},Kr=(0,r.memo)(Gr);function Jr(e){const{theme:a,targetCid:c,isSharing:l,handleBackSharingHandel:y,onChangeMembersAccess:_,handleClose:h,hostType:S,isOnlyMemberManager:M}=e,O=(0,p.d4)($e._B).get(c),W=ht(O==null?void 0:O.team_cid);return!O||W<0?null:(0,o.jsx)(Kr,{theme:a,targetCid:c,caption:O.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:W>=1,captionTipType:ie.p.Project,permissionScope:ie.W.Project,isSharing:l,handleBackSharingHandel:y,onChangeMembersAccess:_,handleClose:h,hostType:S,isOnlyMemberManager:M})}const $r=(0,r.memo)(Jr);var Qr=i(63686);const Xr=e=>{const{user:a,initData:c,currentProject:l,members:y,dispatch:_}=e,h=l==null?void 0:l.cid;return(0,r.useEffect)(()=>{(async M=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:c,members:y}})})(h)},[_,c,y,h,a]),a!=null&&a.id?(0,o.jsx)($r,{targetCid:h,isSharing:!0,...e}):null},qr=(0,Qr.Mz)([],()=>({})),ei=(0,p.Ng)(e=>qr(e))(Xr);var ti=i(11645),Ar=i(87537),ni=i(33520);function si(e){const{getIframeContentHeight:a,handleChangeMembersAccess:c,handleClose:l}=e,y=(0,p.wA)(),_=(0,p.d4)(d.query.getProject),h=(0,p.d4)(d.query.getMembers),S=(0,p.d4)(d.query.getTheme),M=(0,p.d4)(d.query.getTopPageIndex),E=(0,p.d4)(d.query.getHostType),O=(0,p.d4)(d.query.getTabIndex),W=(0,p.d4)(d.query.getMainPage),k=(0,p.d4)(d.query.getLoading),G=(0,p.d4)(d.query.getInitData),se=(0,p.d4)(d.query.getUser),T=(0,p.d4)(d.query.getIsEditMode),ee=(0,p.d4)(d.query.getIsOnlyMemberManager),[te,K]=(0,r.useState)(282);(0,r.useEffect)(()=>{let F=555;W!=="access"&&(O===0&&M==="edit"?F=212:(M==="embed"||M==="qrCode"||O===0&&M==="setting")&&(F=380)),K(F),E!=="proto"&&a(F)},[E,O,M,W,a,T]);const oe=(0,r.useCallback)(()=>{y({type:d.entryKey["sharing:init"],payload:{mainPage:"share"}})},[y]);(0,r.useEffect)(()=>{y({type:d.entryKey["sharing:projectAccess:init"]})},[W,y]);const fe=(0,r.useCallback)(async(F,be)=>{c&&c(F,be)},[c]);return k?(0,o.jsx)(Ar.A,{className:w()("sharingBoxV2",""+S,"loading"),children:(0,o.jsx)(ti.A,{})}):(0,o.jsxs)(Ar.A,{className:w()("sharingBoxV2",""+S,E==="iframe"&&"in-iframe"),style:{height:te+"px"},id:"v8-share-page",children:[W==="share"?(0,o.jsx)(xs,{}):(0,o.jsx)(ei,{theme:S,user:se,currentProject:_,members:h,initData:G,handleBackSharingHandel:oe,onChangeMembersAccess:fe,hostType:E,handleClose:l,isOnlyMemberManager:ee}),(0,o.jsx)(ni.r,{})]})}var ri=i(40778);const ii=e=>{let{theme:a,org:c=null,user:l,project:y,flatKey:_,members:h=[],hostType:S="proto",screenMetaList:M,hostSharingData:E,handleClose:O,isOnlyMemberManager:W=!1}=e;const k=g();let G=!0;S!=="iframe"&&(G=(0,ri.OB)());try{y&&S!=="iframe"&&(0,H.E9)({project:y,isEditMode:G,shareSource:"\u9876\u90E8\u5206\u4EAB\u6309\u94AE"})}catch(ee){console.error(ee)}k.dispatch({type:d.entryKey["sharing:init"],payload:{project:y,theme:a,user:l,org:c,flatKey:_,hostType:S,members:h,screenMetaList:M,hostSharingData:E,isEditMode:G}});const se=(0,r.useCallback)(ee=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:ee}}),"*")},[]),T=(0,r.useCallback)((ee,te)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:ee,value:te}}),"*")},[]);return S==="iframe"&&W&&(k.dispatch({type:d.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),se(555)),(0,r.useEffect)(()=>{if(S==="iframe"&&!W&&se(212),!y)return;const{cid:ee}=y;(async()=>{if(!y)return;const{result:{result:K},statusOk:oe}=await(0,q.QC)(ee);oe&&k.dispatch({type:d.entryKey["sharing:init"],payload:{canEditByUser:K}})})()},[S,se,y,k]),(0,o.jsx)(p.Kq,{store:k,children:(0,o.jsx)(N.NP,{theme:P.A[a],children:(0,o.jsx)(j.$,{children:(0,o.jsx)(si,{getIframeContentHeight:se,handleChangeMembersAccess:T,handleClose:O})})})})}},87537:(Te,le,i)=>{"use strict";i.d(le,{A:()=>b});var r=i(21676);const b=r.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],v=>v.theme.color_bg_white,v=>v.theme.color_text_L2)},60482:(Te,le,i)=>{"use strict";i.d(le,{CV:()=>de,EL:()=>H,Mb:()=>f,Mj:()=>d,O8:()=>P,R0:()=>z,RF:()=>V,R_:()=>ne,Sy:()=>C,Uh:()=>ue,a2:()=>q,eH:()=>N,it:()=>j,jc:()=>B,kv:()=>Z,vt:()=>g,zM:()=>p});var r=i(51691),b=i(88223),v=i(76713),x=i.n(v),A=i(41449),Y=i(72907),m=i(77567),L=i(36521);const z=w=>w?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],de=w=>{let{accessToken:D,targetKey:re,pageKey:me,view_mode:ie,selection:ae,page_begin:X,canvas_begin:U}=w;const R=(ye,Se)=>Se?"&"+ye+"="+Se:"";let Q=""+location.origin+A.o$+"/"+D+"/sharing?view_mode="+(ie||"read_only");return ie==="read_only"?Q=""+Q+R("screen",me)+R("canvasId",re)+R("selection",ae):ie==="device"?Q=""+Q+R("screen",X!=null?X:me)+R("canvasId",U!=null?U:re)+R("selection",ae):Q=""+Q+R("screen",me)+R("selection",ae),Q},ue=w=>w&&w.length>0?w[0]:"",ne=(w,D,re,me)=>{const ie=me?"  \u5BC6\u7801\uFF1A"+me:"";return w+" #"+(0,b.qk)(D)+"-"+(0,b.qk)(re||"\u5206\u4EAB")+ie},q=w=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+A.o$+"/"+w,J=w=>{const D=new RegExp(I18N.imockSharing.share+" \\d+","g");let re=0;return w.filter(me=>{var ie;return(ie=me.link_name)==null?void 0:ie.match(D)}).forEach(me=>{const ie=me.link_name,X=ie.match(D)[0].length,U=ie.indexOf(I18N.imockSharing.share);if(U+X===ie.length){const Q=parseInt(ie.trim().slice(U+I18N.imockSharing.share.length));Q>re&&(re=Q)}}),re},Z=w=>{const{project:D,action:re,linkName:me,isFromScreenList:ie}=w;r.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:ie?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,r.IQ)(),project_name:D.name,project_cid:D.cid,share_link_action:re,share_link_name:me})},H=w=>{if(!w)return!1;const{created_at:D}=w;return x()(D).isBetween(x()().subtract(3,"days"),x()())},V=w=>Object.entries(w).filter(re=>{let[me,ie]=re;return!ie.hotAttr.asFolder&&me!==m.$k}).map(re=>re[0]),d=(w,D,re)=>{if(w)return re.length;let me=0;return D==null||D.forEach(ie=>{re.find(X=>X===ie)&&(me+=1)}),me},C=(w,D)=>{if(D.screen_visible_switch){const{selectedSize:re,pageSize:me}=f(w,D);return re+"/"+me}else return I18N.imockSharing.all},f=(w,D)=>{const re=V(w.pageAttrMap),me=d(!D.screen_visible_switch,D.screen_visible_list,re);return{pageSize:re.length,selectedSize:me}},g=w=>{const D={},re=[],me=new Map;for(const[X,U,R]of w)if(R.type==="rResBunch"){X!==m.$k&&re.push(X),D[X]={hotAttr:R},me.get(X)||me.set(X,[]);const Q=me.get(U);Array.isArray(Q)&&me.set(U,[...Q,X])}const ie=X=>{let U=[];for(const Q of me.get(X))U.push(ie(Q));U=U.sort((Q,ye)=>Q.data.zIndex-ye.data.zIndex);const{hotAttr:R}=D[X];return{cid:X,data:{cid:X,...R},children:U}},ae=ie("B@main");return{pageAttrMap:D,pageKeyList:re,treeData:ae}};function p(w,D,re){let me=I18N.imockSharing.share;return D&&(me=me+(ENV.IS_WONDER_SHARE?" ":"")+(D.length+1)),{project_cid:w,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...re,link_name:me,type:"advanced"}}const N=async w=>{let{updateType:D,org:re,updateFn:me}=w;const ie=()=>{const X=(re==null?void 0:re.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:X}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:X}}),"*")},ae=()=>{if(D==="update")try{MB.notice({text:I18N.imockSharing.setting_valid})}catch(X){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}};try{await me()&&ae()}catch(X){await(0,Y.m0)(X,ie)}},j=w=>{let{value:D,currentSharing:re,sharingList:me}=w,ie=!1;for(const ae of me)if(ae.cid!==re.cid&&D===ae.link_name){ie=!0;break}return ie},P=(w,D)=>{let re;if(D.type==="default"){const ie=new URLSearchParams(location.search),ae=ie.get("view_mode")||(0,L.Yt)(w.cid+"_default_sharing_view_mode","read_only",L.qW.String),X=ie.get("selection"),U=ie.get("screen"),R=ie.get("canvasId");re=de({accessToken:D.access_token,view_mode:ae,page_begin:U,canvas_begin:R,selection:X})}else re=de({accessToken:D.access_token,view_mode:D.device_model});return ne(re,w==null?void 0:w.name,D.link_name||"",D.password)},B=(w,D)=>{var re,me;return(D==null||(re=D.limitation)==null?void 0:re.max_project_share_count)||(w==null||(me=w.limitation)==null?void 0:me.max_project_share_count)}},72907:(Te,le,i)=>{"use strict";i.d(le,{AG:()=>v,FY:()=>b,K7:()=>Y,ai:()=>x,m0:()=>A});var r=i(23990);const b=async(m,L)=>{if(m.status===403||/403/.test(m.message)){var z;(z=MB)==null||(z=z.messageBucket)==null||z.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>L?L():MB.global.onBackButtonClick())}else if(m.status===401||/401/.test(m.message))Y(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>L?L():v());else{var de;const ue=String(m.status||m.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(de=MB)==null||(de=de.messageBucket)==null||de.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,ue)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,ue),isHTML:!0})}},v=async()=>{try{await(0,r.DE)("/api/web/v3/initial"),location.reload()}catch(m){const L=location.origin+"/signin?next="+location.pathname;location.href=L}},x=m=>{m.status===404&&m.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},A=async(m,L)=>{m.status===403||/403/.test(m.message)?L():(m.status===401||/401/.test(m.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>v())},Y=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},42226:(Te,le,i)=>{"use strict";i.d(le,{JQ:()=>ne,kZ:()=>Z,zW:()=>q});var r=i(76713),b=i.n(r),v=i(35736),x=i.n(v),A=i(54466),Y=i.n(A);if(i.j!=15)var m=i(29601);function L(H){return H<10?"0"+H:H}function z(H,V,d){const C=new Date(H),f=C.getFullYear(),g=L(C.getMonth()+1),p=L(C.getDate()),N=L(C.getHours()),j=L(C.getMinutes());return V==="time"?N+":"+j:V==="datetime"?""+g+d+p+" "+N+":"+j:""+f+d+g+d+p+" "+N+":"+j}const de=i.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function ue(H,V){const d=new Date(H),C=d.getFullYear(),f=de[d.getMonth()],g=L(d.getDate()),p=L(d.getHours()),N=L(d.getMinutes());return V==="time"?p+":"+N:V==="datetime"?f+" "+g+" "+p+":"+N:f+" "+g+", "+C+" "+p+":"+N}function ne(H,V,d){if(V===void 0&&(V="datetime"),d===void 0&&(d="."),!H)return"";let C=H;typeof H!="number"&&(C=parseInt(H,10)),C.length===10&&(C=C*1e3);let f="";const g=(0,m.w)();return g==="zh-CN"?f=z(C,V,d):(g==="en-US"||g==="en")&&(f=ue(C,V,d)),f}function q(H){const d=J()-H;let C="";if(d<=3*1e3)C=I18N.Common.just_now||"\u521A\u521A";else if(d>3*1e3&&d<60*1e3)C=Math.floor(d/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(d>=60*1e3&&d<60*60*1e3)C=Math.floor(d/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{C=ne(H,"full");const f=new Date(new Date().setHours(0,0,0,0)).getTime(),g=new Date(new Date().getFullYear(),0,1).getTime();H>g&&(C=ne(H,"datetime")),H>f&&(C=ne(H,"time"))}return C}function J(){return new Date().getTime()}const Z=H=>{b().locale(H==="zh-CN"?"zh-cn":H),b().extend(x()),b().extend(Y())}},79619:(Te,le,i)=>{"use strict";i.d(le,{Z:()=>r,n:()=>b});const r=function(v){let{flags:x}=v===void 0?MB.user:v;return!!(x&1<<21)},b=v=>{let{user:x,org:A}=v;const Y=(A==null?void 0:A.otype)==="personal"?null:A;return{currentUser:x,currentOrg:Y}}},15039:(Te,le,i)=>{"use strict";i.d(le,{E9:()=>q,Xc:()=>ue,nr:()=>ne});var r=i(40778),b=i(51691),v=i(24078),x=i(59318);let A=function(J){return J.acces="access",J.viewAccess="viewAccess",J.copy="copy",J.qrCode="qrCode",J.embed="Embed",J.setting="Setting",J.pwdProtection="PwdProtection",J.password="password",J.sticky="sticky",J.comment="comment",J.mobile="mobile",J}({});var Y=function(J){return J.Edit="\u53EF\u7F16\u8F91",J.onlyView="\u4EC5\u67E5\u770B",J}(Y||{}),m=function(J){return J.NoLogin="\u672A\u767B\u5F55\u7528\u6237",J.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",J.ProjectMember="\u534F\u4F5C\u6210\u5458",J.TeamMember="\u56E2\u961F\u6210\u5458",J}(m||{}),L=function(J){return J.EditMode="\u7F16\u8F91\u6A21\u5F0F",J.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",J.DeviceMode="\u771F\u673A\u6A21\u5F0F",J}(L||{});const z=J=>{let{userId:Z,orgPermissions:H,spacePermissions:V,projectPermissions:d}=J;if(!Z)return m.NoLogin;const C=(0,x.ox)(Z,H),f=(0,x.ox)(Z,V),g=(0,x.ox)(Z,d);if(!C)return m.LoginButNotOrgMember;if(f||g)return m.ProjectMember;if(C)return m.TeamMember},de=J=>{let{userCanEdit:Z,userId:H,orgPermissions:V,spacePermissions:d,projectPermissions:C,isEditMode:f,view_mode:g,isIframe:p}=J;const N=Z?Y.Edit:Y.onlyView,j=z({userId:H,orgPermissions:V,spacePermissions:d,projectPermissions:C}),P=p?"\u5DE5\u4F5C\u53F0":f?L.EditMode:g==="read_only"?L.ReadOnlyMode:L.DeviceMode;return{user_rights:N,user_type:j,operation_from:P}},ue=J=>{let{optionType:Z,userCanEdit:H,userId:V,orgPermissions:d,spacePermissions:C,projectPermissions:f,isEditMode:g,view_mode:p,share_type:N,isIframe:j,project_name:P,project_cid:B}=J;const{user_rights:w,user_type:D,operation_from:re}=de({userCanEdit:H,userId:V,orgPermissions:d,spacePermissions:C,projectPermissions:f,isEditMode:g,view_mode:p,isIframe:j});(0,v.kH)("share_function_click_V8",{operation_type:Z,user_rights:w,user_type:D,operation_from:re,project_name:P,project_cid:B,share_type:N})},ne=J=>{(0,v.kH)("advanced_sharing_click",J)},q=J=>{let{project:Z,isEditMode:H,shareSource:V}=J;const d=(0,r.gh)(),{cid:C,name:f}=Z;(0,v.kH)("share_project",{project_type:"\u539F\u578B V8",source:H?"\u7F16\u8F91\u533A":d?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:f,project_cid:C,share_source:V}),b.Y4.editProjectNew("\u5206\u4EAB\u9879\u76EE")}},47755:(Te,le,i)=>{"use strict";i.d(le,{_:()=>r});const r=v=>encodeURIComponent(JSON.stringify(v)),b=v=>JSON.parse(decodeURIComponent(v))},67234:(Te,le,i)=>{"use strict";i.d(le,{p:()=>ue,A:()=>J});var r=i(74059),b=i(51044),v=i(66748),x=i.n(v),A=i(98236),Y=i.n(A),m=i(7758),L=i(86634),z=i.n(L),de=i(21676);const ue="checkbox-has-box",ne=de.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],Z=>Z.theme.color_text_L2,Z=>Z.theme.color_text_disabled01,Z=>Z.theme.color_bg_white,Z=>Z.theme.color_text_L2,Z=>Z.theme.color_proto,Z=>Z.theme.color_proto,Z=>Z.theme.color_btn_secondary_active,Z=>Z.theme.color_btn_secondary_active,Z=>Z.theme.color_text_disabled01,ue);var q=i(57464);class J extends b.PureComponent{constructor(){super(...arguments),(0,r.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,r.A)(this,"onToggle",H=>{const{name:V,value:d,label:C,onChange:f,onToggle:g,isDisabled:p,readOnly:N,attr:j}=this.props,{isChecked:P}=this.state,B=!p&&!N,w=B?P==="mixed"?!0:!P:P;this.setState({isChecked:w}),g(w,V,d||C,H),f(w,j,H)})}static getDerivedStateFromProps(H,V){let{prevProps:d}=V;return Y()(d,H)?null:{prevProps:H,isChecked:H.isChecked}}render(){const{className:H,label:V,name:d,isDisabled:C,readOnly:f}=this.props,{isChecked:g}=this.state,p=z()(H,{"is-checked":!!g,"is-disabled":C,readonly:f});return(0,q.jsxs)(ne,{className:p,children:[(0,q.jsx)("input",{type:"checkbox",defaultChecked:!!g,disabled:C,name:d,onChange:this.onToggle}),(0,q.jsx)("span",{className:"Check-state",children:(0,q.jsx)(m.C,{name:g==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),V&&(0,q.jsx)("span",{className:"Check-label",children:V})]})}}(0,r.A)(J,"propTypes",{isChecked:x().bool||"mixed",isDisabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired,label:x().any,name:x().string,attr:x().string,value:x().any,className:x().string}),(0,r.A)(J,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(Te,le,i)=>{"use strict";i.d(le,{A:()=>L});var r=i(74059),b=i(51044),v=i(99348),x=i(66748),A=i.n(x),Y=i(57464);class m extends b.PureComponent{constructor(de){super(de),(0,r.A)(this,"freshCanvas",()=>{const ue=this.canvasWrapperRef.current,{height:ne,width:q,text:J,foreground:Z,background:H}=this.props,V=(0,v.j)({height:ne,width:q,text:J,foreground:Z,background:H});ue.hasChildNodes()?ue.replaceChild(V,ue.firstChild):ue.appendChild(V)}),this.canvasWrapperRef=(0,b.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:de}=this.props;return(0,Y.jsx)("div",{className:de,ref:this.canvasWrapperRef})}}m.propTypes={width:A().number,height:A().number,text:A().string.isRequired,foreground:A().string,background:A().string,className:A().string},m.defaultProps={width:150,height:150};const L=m},29739:(Te,le,i)=>{"use strict";i.d(le,{A:()=>x});var r=i(31921),b=i(21676);const x=(0,b.Ay)(r.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],A=>A.theme.color_btn_secondary_active,A=>A.theme.color_text_disabled01)},11645:(Te,le,i)=>{"use strict";i.d(le,{A:()=>m});var r=i(51044),b=i(29739),v=i(21676);const x=v.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var A=i(57464);const m=(0,r.memo)(()=>(0,A.jsx)(x,{className:"sharing-loading",children:(0,A.jsx)(b.A,{className:"loading"})}))},39208:()=>{"use strict";const Te={},le={},i={}},33520:(Te,le,i)=>{"use strict";i.d(le,{l:()=>v,r:()=>b});var r=i(21676);const b=(0,r.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],x=>x.theme.color_bg_border_02,x=>x.theme.color_background_split_hover,x=>x.theme.color_background_split_hover),v=(0,r.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(Te,le,i)=>{"use strict";i.d(le,{A:()=>Z});var r=i(35524),b=i(8338);const v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",A=Object.entries(b.f).reduce((H,V)=>{const d=V[0];return{...H,[d]:[b.f[d].value_light,b.f[d].value_dark||b.f[d].value_light]}},{}),Y=Object.entries(b.$).reduce((H,V)=>{const d=V[0];return{...H,[d]:[b.$[d].value_light,b.$[d].value_dark||b.$[d].value_light]}},{}),m=Object.entries(r.af).reduce((H,V)=>{var d;const C=V[0];return{...H,[C]:[r.af[C].value,((d=r.qY[C])==null?void 0:d.value)||r.af[C].value]}},{}),L=H=>{let V;const[d,C,f]=H,g=f!=null?f:d;return C==="light"?V=r.af[g].value:V=r.qY[g].value,{[d]:[V,V]}},de=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((V,d)=>{const C=L(d);return{...V,...C}},{}),q={...m,...de,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[v,x],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...A,...Y},J=(H,V)=>{const d={};return Object.entries(H).forEach(C=>{let[f,g]=C;Array.isArray(g)?d[f]=g[V]:typeof g=="object"?d[f]=J(g,V):d[f]=g}),d},Z={light:J(q,0),dark:J(q,1)}},49776:(Te,le,i)=>{"use strict";i.d(le,{cG:()=>ae,Dr:()=>me,Ay:()=>re});var r=i(66748),b=i.n(r),v=i(51044),x=i(60185),A=i(21676),Y=i(86634),m=i.n(Y),L=i(78018);class z{constructor(U,R){U===void 0&&(U=0),R===void 0&&(R=0),this.x=U,this.y=R}inside(U){const{left:R,right:Q,top:ye,bottom:Se}=U;return this.x>=R&&this.x<=Q&&this.y>=ye&&this.y<=Se}}const de=(0,v.createContext)(""),ue=X=>{if(!X)return;const U=X.getBoundingClientRect(),R=X.classList.contains("sub-menu"),Q=1/.8,ye=1/(.8*.9);if(R){const Ae=document.getElementById("root-menu").getBoundingClientRect();Ae.top+(U.top-Ae.top)*Q+U.height*ye>window.innerHeight-28&&X.classList.add("top"),Ae.left+(U.left-Ae.left)*Q+U.width*ye>window.innerWidth&&X.classList.add("left");return}if(U.left+U.width*Q>window.innerWidth-28&&X.classList.add("left"),U.height>window.innerHeight){X.style.height=window.innerHeight+"px",X.style.overflow="auto",X.style.overflowX="hidden",X.style.marginTop=-U.top+"px";return}U.top+U.height<window.innerHeight||(X.style.marginTop=window.innerHeight-(U.top+U.height)+"px")},ne=function(X,U,R,Q,ye,Se){let{subMenuLeftOffset:Ae,subMenuTopOffset:Re}=ye;if(Se===void 0&&(Se=!1),!X||!U)return;const ze=U.getBoundingClientRect(),Ve=U.getBoundingClientRect(),$e=1/.9,{left:xt,top:ht}=R;ze.top+ze.height*$e>window.innerHeight-28?ze.top-ze.height*$e>0?(X.style.bottom="-4px",X.style.top="unset"):X.style.marginTop=window.innerHeight-28-(ze.top+ze.height*$e)+"px":X.style.top=ze.top-ht-11+"px",ze.left+ze.width*$e>window.innerWidth?(X.style.right=ze.left+"px",X.style.left="unset"):X.style.left=ze.right-xt-1+12*Se+"px",Q==="right"&&(X.style.left=-2*ze.width-12-22*Se+"px"),Ae&&(X.style.left=parseInt(X.style.left)+Ae+4*Se+"px"),Re&&(X.style.top=parseInt(X.style.top)+Re+"px"),X.style.maxHeight=window.innerHeight-Ve.top+"px"},q=(X,U)=>{let{x:R,y:Q}=X,ye=!1;for(let Se=0,Ae=U.length-1;Se<U.length;Ae=Se++){let{x:Re,y:ze}=U[Se],{x:Ve,y:$e}=U[Ae];ze>Q!=$e>Q&&R<(Ve-Re)*(Q-ze)/($e-ze)+Re&&(ye=!ye)}return ye};var J=i(8338);const Z=(0,A.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),H=A.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-9btzhx-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),V=A.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-9btzhx-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],Z),d=A.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-9btzhx-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],Z),C=A.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-9btzhx-3"})(["position:relative;a{height:24px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],J.f.color_text_L2.value_dark);var f=i(57464);function g(X,U,R){return U=p(U),U in X?Object.defineProperty(X,U,{value:R,enumerable:!0,configurable:!0,writable:!0}):X[U]=R,X}function p(X){var U=N(X,"string");return typeof U=="symbol"?U:String(U)}function N(X,U){if(typeof X!="object"||!X)return X;var R=X[Symbol.toPrimitive];if(R!==void 0){var Q=R.call(X,U||"default");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(X)}const j=(0,f.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),P=3;let B=[],w=!1;const D=X=>{B.push(X),B.length>P&&B.shift()};class re extends v.PureComponent{constructor(U){super(U),g(this,"setMenuRef",R=>this.$menu=R),g(this,"createContextMenuRef",R=>this.$mountRoot=R),g(this,"mousewheelHandle",R=>{const Q=R.deltaX||R.wheelDeltaX;if(!Q||!this.$elem)return;const ye=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&Q>0,Se=this.$elem.scrollLeft===0&&Q<0;(ye||Se)&&R.preventDefault()}),g(this,"handleClose",R=>{const{onClose:Q}=this.props;Q&&Q(R)}),g(this,"handleCloseMouse",R=>{R.button===2&&this.handleClose(R)}),g(this,"handleClickMenu",R=>{const{alwaysOpen:Q}=this.props;Q||this.handleClose(R)}),g(this,"handleUpdateState",R=>this.setState({...R})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&ue(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),document.body.removeChild(this.$elem),B=[],w=!1}preventDefault(U){U.preventDefault()}render(){const{position:U,children:R,className:Q,style:ye={}}=this.props,{top:Se,left:Ae}=U,{activePath:Re,showSubMenu:ze}=this.state;return(0,x.createPortal)((0,f.jsx)(H,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,f.jsx)(V,{ref:this.createContextMenuRef,style:{top:Se+2,left:Ae+2,...ye},className:Q,onContextMenu:this.preventDefault,children:(0,f.jsx)("ul",{ref:this.setMenuRef,children:(0,f.jsx)(de.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:U,activePath:Re,showSubMenu:ze,onUpdateState:this.handleUpdateState},children:R})})})}),this.$elem)}}g(re,"propTypes",{className:b().string,position:b().object,children:b().oneOfType([b().element,b().array]),style:b().object,onClose:b().func,alwaysOpen:b().bool});class me extends v.PureComponent{constructor(){super(...arguments),g(this,"createMenuItemRef",U=>this.$menuItemRef=U),g(this,"createSubMenuRef",U=>this.$subMenuRef=U),g(this,"handleActiveItem",(U,R)=>{const{children:Q}=this.props;R({activePath:U,showSubMenu:!!Q})}),g(this,"handleMouseEnter",(U,R,Q)=>{const{onMouseEnter:ye}=this.props;ye&&ye(U),w?setTimeout(()=>{if(this.$menuItemRef&&B.length>0){const Se=this.$menuItemRef.getBoundingClientRect();B.slice(-1)[0].inside(Se)&&this.handleActiveItem(R,Q)}},200):this.handleActiveItem(R,Q)}),g(this,"handleMouseLeave",async(U,R,Q,ye)=>{const{onMouseLeave:Se}=this.props;if(Se&&Se(U),Q&&this.$subMenuRef){const Ae=this.$subMenuRef.getBoundingClientRect();if(Ae&&B.length>0){const{left:Re,top:ze,bottom:Ve}=Ae,$e=new z(Re,ze),xt=new z(Re,Ve),ht=[B[0],$e,xt],St=new z(U.clientX,U.clientY);if(q(St,ht)){w=!0;return}}}if(R){ye({activePath:R.dataset.index.split(","),showSubMenu:!0}),w=!1;return}ye({activePath:[],showSubMenu:!1}),w=!1}),g(this,"handleMouseMove",U=>{const R=new z(U.clientX,U.clientY);D(R)}),g(this,"handleMouseDown",U=>U.stopPropagation()),g(this,"handleGetCanActiveSubMenu",(U,R,Q)=>{let ye=!1;return R&&(U&&R.join("")===Q.join("")||R.slice(0,Q.length).join("")===Q.join(""))&&(ye=!0),ye}),g(this,"handleGetPath",U=>{const{dataIndex:R,text:Q}=this.props,ye=R!==void 0?R:Q;return U?U.dataset.index.split(",").concat(ye):[ye]}),g(this,"handleClick",U=>{const{disabled:R,onClick:Q,canClick:ye,children:Se}=this.props;(ye||!R)&&Q&&Q(U),(Se||R)&&U.stopPropagation()})}render(){const{icon:U,text:R,children:Q,disabled:ye,hotKeyText:Se,className:Ae,dataType:Re,subMenuClassName:ze,subMenuDirection:Ve,subMenuLeftOffset:$e,subMenuTopOffset:xt,isVisible:ht,isAiry:St=!1}=this.props;return(0,f.jsx)(de.Consumer,{children:Tt=>{const{contextMenuPosition:Ct,mountRoot:jt,activePath:o,showSubMenu:Ut,parentRef:Rt,onUpdateState:on}=Tt,Gt=this.handleGetPath(Rt),en=this.handleGetCanActiveSubMenu(Ut,o,Gt);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C,{ref:this.createMenuItemRef,className:m()("MenuItem",{disabled:ye,hasIcon:U},Ae,{active:en}),"data-type":Re,"data-index":Gt,onMouseEnter:Ot=>this.handleMouseEnter(Ot,Gt,on),onMouseLeave:Ot=>this.handleMouseLeave(Ot,Rt,Ut,on),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,f.jsxs)("a",{children:[U,(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:"text",children:R}),ht?(0,f.jsx)(L.A,{className:"invisible",name:"eyeinvisible"}):null]}),Q&&(0,f.jsx)("div",{className:"right-arrow",children:j}),Se&&Se.length>0&&(0,f.jsx)("div",{className:"shortfont",children:Se.map((Ot,Kt)=>(0,f.jsx)("kbd",{children:Ot},Kt))})]})}),Q&&en&&!ye&&(0,x.createPortal)((0,f.jsx)(ie,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:Ct,subMenuDirection:Ve,subMenuLeftOffset:$e,subMenuTopOffset:xt,className:ze,isAiry:St,children:(0,f.jsx)(de.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:jt,contextMenuPosition:Ct,activePath:o,showSubMenu:Ut,onUpdateState:on},children:Q})}),jt)]})}})}}g(me,"propTypes",{icon:b().object,text:b().string.isRequired,className:b().string,disabled:b().bool,canClick:b().bool,children:b().oneOfType([b().element,b().array]),hotKeyText:b().array,onClick:b().func,onMouseEnter:b().func,onMouseLeave:b().func,dataType:b().number,dataIndex:b().oneOfType([b().number,b().string]),subMenuClassName:b().string,subMenuDirection:b().string,subMenuLeftOffset:b().number,subMenuTopOffset:b().number,isVisible:b().bool,isAiry:b().bool}),g(me,"defaultProps",{subMenuClassName:""});class ie extends v.PureComponent{constructor(U){super(U),g(this,"createRef",R=>{const{setRef:Q}=this.props;Q(R),this.subMenu=R}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:U,contextMenuPosition:R,subMenuDirection:Q,subMenuLeftOffset:ye,subMenuTopOffset:Se,isAiry:Ae}=this.props;ne(this.subMenu,U,R,Q,{subMenuLeftOffset:ye,subMenuTopOffset:Se},Ae)}render(){const{children:U,isAiry:R,className:Q}=this.props,{isTransform:ye}=this.state;return(0,f.jsx)(d,{className:m()("SubMenu",{"is-show":ye},{"is-airy":R},Q),ref:this.createRef,children:U})}}g(ie,"propTypes",{children:b().oneOfType([b().element,b().array]),className:b().string,parentRef:b().node,contextMenuPosition:b().object,setRef:b().func,subMenuDirection:b().string,subMenuLeftOffset:b().number,subMenuTopOffset:b().number,isAiry:b().bool});const ae=A.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-hrb7g6-0"})(["margin:8px 0;border-top:1px solid #454546;"])},44422:(Te,le,i)=>{"use strict";i.d(le,{A:()=>N});var r=i(66748),b=i.n(r),v=i(51044),x=i(21676),A=i(8338);const Y=x.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-umsjem-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{margin-left:20px;color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],A.f.color_text_btn.value_light,A.f.color_btn_primary_normal.value_light,A.f.color_btn_primary_hover.value_light,A.f.color_btn_primary_clicked.value_light,A.f.color_text_L1.value_light,A.f.color_bg_white.value_light,A.f.color_bg_border_02.value_light,A.f.color_btn_secondary_hover.value_light,A.f.color_bg_border_02.value_light,A.f.color_btn_secondary_active.value_light,A.f.color_bg_border_02.value_light);var m=i(57464);const L="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",de="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",ue="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ne="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function q(j){const{className:P,source:B,rotate:w,width:D,height:re,onClick:me}=j,ie={msTransform:"rotate("+w+"deg)",transform:"rotate("+w+"deg)",width:D,height:re};return(0,m.jsx)("img",{className:P,src:B,style:ie,onClick:me})}q.propTypes={className:b().string,source:b().string.isRequired,width:b().number,height:b().number,rotate:b().number,onClick:b().func};const J=q,Z=403,H=404,V=[500,501,502,503,504,505],d="link_expired";var C=i(34819);function f(j,P,B){return P=g(P),P in j?Object.defineProperty(j,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):j[P]=B,j}function g(j){var P=p(j,"string");return typeof P=="symbol"?P:String(P)}function p(j,P){if(typeof j!="object"||!j)return j;var B=j[Symbol.toPrimitive];if(B!==void 0){var w=B.call(j,P||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(j)}class N extends v.PureComponent{constructor(){super(...arguments),f(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,m.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{className:"proposal",children:["Current account ",(0,m.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,m.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{className:"proposal",children:["Current account ",(0,m.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,m.jsxs)("div",{className:"proposal text-left",children:[(0,m.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,m.jsxs)("ul",{className:"text-list",children:[(0,m.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,m.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,m.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,m.jsxs)("div",{className:"proposal text-left",children:[(0,m.jsx)("p",{children:"Please try the following methods:"}),(0,m.jsxs)("ul",{className:"text-list",children:[(0,m.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,m.jsx)("li",{children:"If not, please switch to another network."})]}),(0,m.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),f(this,"clickGoHome",()=>{let P="",{locale:B}=this.props;B==="zh-CN"?P="/":B==="jp"?P="https://mockitt.wondershare.jp":P="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(P):location.replace(P)}),f(this,"clickReloadPage",()=>{window.location.reload()}),f(this,"clickContactUs",()=>{let P="",{locale:B}=this.props;if(B==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else B==="jp"?P="https://support.wondershare.jp":P="https://support.wondershare.com/product/mockitt.html";window.open(P)}),f(this,"getErrorConfig",()=>{const{errorType:P,primaryBtnText:B,primaryBtnClick:w,secondaryBtnText:D,secondaryBtnClick:re,locale:me}=this.props,{typeText:ie,clickGoHome:ae,clickContactUs:X,clickReloadPage:U}=this;let R,Q,ye="",Se=null,Ae;const Re={text:ie.goHome[me],click:ae},ze={text:ie.reloadPage[me],click:U},Ve={text:ie.contactUs[me],click:X};switch(!0){case P===Z:R=Re.text,Q=Re.click,Ae=L;break;case P===H:R=Re.text,Q=Re.click,Ae=z;break;case P===d:R=Re.text,Q=Re.click,Ae=z;break;case V.includes(P):R=ze.text,Q=ze.click,ye=Ve.text,Se=Ve.click,Ae=de;break;default:R=ze.text,Q=ze.click,ye=Ve.text,Se=Ve.click,Ae=me==="en"?ne:ue;break}return B&&(R=B),w&&(Q=w),D&&(ye=D),re&&(Se=re),{svgBg:Ae,primaryText:R,primaryClick:Q,secondaryText:ye,secondaryClick:Se}}),f(this,"getErrorInfo",()=>{const{errorType:P,identity:B,locale:w,customTitle:D,customDes:re,account:me}=this.props,{typeText:ie}=this;let ae,X;if(D)ae=D;else{const U=V.includes(P)?"title_5XX":"title_"+P;ae=ie[U]?ie[U][w]:ie.title_0[w]}if(re)X=re;else{let U="des_"+P;P===Z?U=me?"des_"+P+"_"+B:"des_"+P+"_2":V.includes(P)?U="des_5xx":P===d&&(U="des_link_expired"),X=ie[U]?ie[U][w]:ie.des_link_expired[w]}return{title:ae,desc:X}}),f(this,"handleClickLogo",()=>{let{isLogoClickable:P,logoUrl:B}=this.props;P&&(window.top!==window.self?window.top.location.href=B:window.location.href=B)})}render(){const{locale:P,isShowPrimaryBtn:B,isShowSecondaryBtn:w,isLogoClickable:D}=this.props,{typeText:re}=this,{svgBg:me,primaryText:ie,primaryClick:ae,secondaryText:X,secondaryClick:U}=this.getErrorConfig(),{title:R,desc:Q}=this.getErrorInfo();return(0,m.jsxs)(Y,{children:[(0,m.jsx)("div",{className:"logo",children:(0,m.jsx)("span",{className:D?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,m.jsx)(J,{source:me})})}),(0,m.jsxs)("div",{className:"content",children:[(0,m.jsx)("p",{className:"title",children:R}),typeof Q=="string"?(0,m.jsx)("p",{className:"proposal",children:Q}):Q]}),(0,m.jsxs)("div",{className:"btn-list",children:[w&&U&&X&&(0,m.jsx)("a",{className:"btn regular",onClick:U,children:X}),B&&ae&&ie&&(0,m.jsx)("a",{className:"btn primary",onClick:ae,children:ie}),X===re.contactUs[P]&&(0,m.jsx)(C.A,{})]})]})}}f(N,"propTypes",{locale:b().oneOf(["zh-CN","en","jp"]),identity:b().oneOf([0,1]),customTitle:b().string,customDes:b().string,isShowPrimaryBtn:b().bool,primaryBtnText:b().string,primaryBtnClick:b().func,isShowSecondaryBtn:b().bool,secondaryBtnText:b().string,secondaryBtnClick:b().func,errorType:b().oneOf([0,403,404,500,501,502,503,504,505,d]).isRequired,account:b().string,isLogoClickable:b().bool,logoUrl:b().string}),f(N,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},34819:(Te,le,i)=>{"use strict";i.d(le,{A:()=>A});var r=i(51044),b=i(66748),v=i.n(b),x=i(57464);A.propTypes={className:v().string,children:v().oneOfType([v().array,v().string]),isWonderShare:v().bool,id:v().string,onClick:v().func,disabled:v().bool,canClick:v().bool};function A(Y){let{className:m,children:L,isWonderShare:z=!1,id:de="mdOnlineSupport",onClick:ue,disabled:ne,canClick:q}=Y;const J="qd300907440129217b43492df1157945f52a80582eaf",Z=z?"https://support.wondershare.com/":"";(0,r.useEffect)(()=>ne?void 0:(!document.getElementById(J)&&!z&&H(),()=>{const C=document.getElementById(J);C&&C.remove()}),[]);const H=()=>{i.g?(i.g.wpaShowItemId=window.wpaShowItemId="123",i.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let d=document.createElement("script");d.id=J,d.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",d.charset="utf-8",d.async=!0,d.defer=!0,document.body.appendChild(d)},V=d=>{if(ne){q&&ue&&ue();return}if(ue&&ue(),z){window.open(Z);return}if(de!=="mdOnlineSupport"){d.preventDefault();const C=document.getElementById("mdOnlineSupport");C&&C.click()}};return(0,x.jsx)("div",{style:{cursor:"pointer"},id:de,className:m,onClick:V,children:L})}},97383:(Te,le,i)=>{"use strict";i.d(le,{A:()=>j,d:()=>ne});var r=i(30108),b=i.n(r),v=i(98236),x=i.n(v),A=i(51044),Y=i(60185),m=i(66748),L=i.n(m),z=i(48613),de=i(22718);const ue=9;function ne(B){let{$opener:w,$menuBase:D,menuX:re="left",menuY:me="bottom",menuBaseStyle:ie={},inflexible:ae=!1,shouldSetMaxHeight:X=!1}=B;if(!w||!D)return{};const U=D.querySelector("*"),R={styleFor$menuBase:{},styleFor$menu:{}},Q=Rt=>Object.assign(R.styleFor$menuBase,Rt),ye=Rt=>Object.assign(R.styleFor$menu,Rt),{offsetHeight:Se}=U,Ae=ie.width||w.offsetWidth,Re=ie.height||w.offsetHeight,ze=w.getBoundingClientRect(),{top:Ve,bottom:$e,left:xt}=Object.assign({top:ze.top,right:ze.right,bottom:ze.bottom,left:ze.left},ie);Q({top:Ve+"px",left:xt+"px",width:Ae+"px",height:Re+"px"});const{innerHeight:ht}=window,St=10,Tt=ht-10,Ct=me==="top"?1/3:2/3,jt=ht*Ct,o=Ve+Re/2,Ut=Ve+Re;return(ae&&me==="bottom"||!ae&&jt>=o)&&Ut+Se+ue<ht?(R.isDownward=!0,X&&$e+Se>Tt&&ye({maxHeight:Tt-$e+"px"})):(R.isDownward=!1,X&&Ve-Se<St&&ye({maxHeight:Ve-St+"px"})),Object.assign(D.style,R.styleFor$menuBase),Object.assign(U.style,R.styleFor$menu),R}var q=i(21676);const J=q.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-1bf3wez-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),Z=q.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-1bf3wez-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),H=q.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-1bf3wez-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var V=i(57464);function d(B,w,D){return w=C(w),w in B?Object.defineProperty(B,w,{value:D,enumerable:!0,configurable:!0,writable:!0}):B[w]=D,B}function C(B){var w=f(B,"string");return typeof w=="symbol"?w:String(w)}function f(B,w){if(typeof B!="object"||!B)return B;var D=B[Symbol.toPrimitive];if(D!==void 0){var re=D.call(B,w||"default");if(typeof re!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(B)}const g="IBOT_DROPDOWN_MENU_ROOT",p=document.getElementById(g)||Object.assign(document.createElement("div"),{id:g}),N=document.body;N.contains(p)||N.appendChild(p);class j extends A.PureComponent{constructor(){super(...arguments),d(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),d(this,"leaveTimeoutList",[]),d(this,"createMenuRef",w=>this.$menuRef=w),d(this,"toggle",w=>this.setState({isOpen:b()(w)?w:!this.state.isOpen})),d(this,"open",()=>this.toggle(!0)),d(this,"close",()=>this.toggle(!1)),d(this,"onMouseEnter",()=>{const{shouldOpenOnHover:w}=this.props;w&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),d(this,"onMouseLeave",()=>{const{shouldOpenOnHover:w}=this.props;w&&clearTimeout(this.hoverTimeout)}),d(this,"onMouseMove",w=>{var D;let{clientX:re,clientY:me}=w;const{shouldOpenOnHover:ie,hoverDelay:ae,hoverCloseDelay:X}=this.props,{$opener:U}=this.state;if(!ie)return;clearTimeout(this.hoverTimeout);const R=document.elementFromPoint(re,me),Q=!U.contains(R),ye=!((D=this.$menuRef)!=null&&(D=D.menuBaseRef)!=null&&(D=D.current)!=null&&D.contains(R));ye?Q&&ye&&this.leaveTimeoutList.push(setTimeout(this.close,X!==void 0?X:Math.max(ae,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),d(this,"set$opener",w=>this.setState({$opener:w})),d(this,"onSelect",w=>{let{currentTarget:D}=w;const{menuList:re,onSelect:me,shouldCloseOnSelect:ie}=this.props;if(typeof me!="function")return;const ae=D.dataset.idx,X=re[ae],U=typeof X=="string"?X:X&&X.value;me(ae,U),this.setState({currentMenuListItemIdx:ae}),ie&&this.close()})}static getDerivedStateFromProps(w,D){let{prevProps:re,isOpen:me}=D;return x()(w,re)?null:b()(w.isOpen)?{prevProps:w,isOpen:w.isOpen}:{prevProps:w}}componentDidUpdate(w,D){let{isOpen:re}=D;const{onOpen:me,onClose:ie,onToggle:ae}=this.props,{isOpen:X}=this.state;re!==X&&(X?(me(),ae(!0)):(ie(),ae(!1)))}render(){const{className:w,opener:D,openerType:re,openerClassName:me,shouldCloseOnClickOutside:ie}=this.props,{isOpen:ae,$opener:X,currentMenuListItemIdx:U}=this.state,R=this.props.isDisabled||this.props.disabled,Q=(0,de.Hn)(["Dropdown",ae&&"is-open",R&&"is-disabled",w]),ye={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:R,className:me};return(0,V.jsxs)(J,{ref:this.set$opener,className:Q,children:[re!=="button"&&(0,A.isValidElement)(D)?(0,A.cloneElement)(D,ye):(0,V.jsx)("button",{type:"button",...ye,children:D}),(0,V.jsx)(P,{ref:this.createMenuRef,...this.props,isOpen:ae,$opener:X,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:ie,currentMenuListItemIdx:U}),ae&&(0,V.jsx)(z.A,{target:document,onMouseMove:this.onMouseMove})]})}}d(j,"positionMenu",ne),d(j,"propTypes",{isOpen:L().bool,mode:L().oneOf(["light","dark"]),opener:L().node,openerType:L().oneOf(["button","custom"]),className:L().string,portalClassName:L().string,menuBaseClassName:L().string,openerClassName:L().string,menuClassName:L().string,menuBaseStyle:L().shape({top:L().number,right:L().number,bottom:L().number,width:L().number,height:L().number}),menu:L().node,menuList:L().arrayOf(L().oneOfType([L().node,L().shape({label:L().node,value:L().any,isDisabled:L().bool})])),currentMenuListItemIdx:L().oneOfType([L().number,L().string]),shouldPreventScrollingPropagation:L().bool,shouldOpenOnHover:L().bool,shouldCloseOnClickOutside:L().bool,hoverDelay:L().oneOfType([L().number,L().string]),hoverCloseDelay:L().oneOfType([L().number,L().string]),arrowed:L().bool,inflexible:L().bool,menuX:L().oneOf(["left","center","right"]),menuY:L().oneOf(["top","bottom"]),menuBasedX:L().bool,isDisabled:L().bool,disabled:L().bool,onSelect:L().func,shouldCloseOnSelect:L().bool,onOpen:L().func.isRequired,onClose:L().func.isRequired,onToggle:L().func.isRequired}),d(j,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class P extends A.PureComponent{constructor(){super(...arguments),d(this,"state",{isDownward:this.props.position==="bottom"}),d(this,"portal",(0,de.ep)(p,(0,de.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),d(this,"menuBaseRef",(0,A.createRef)()),d(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),d(this,"onClickOutside",w=>{let{target:D}=w;const{$opener:re,onClose:me,shouldCloseOnClickOutside:ie}=this.props;if(!ie)return;const ae=!p.contains(D),X=D.closest("label"),U=X&&X.contains(re),R=!!(0,de.$)(".SelectMenu.is-open");ae&&!U&&!R&&me()}),d(this,"position",()=>{const{$opener:w,menuX:D,menuY:re,menuBaseStyle:me,inflexible:ie}=this.props,{menuBaseRef:{current:ae}}=this,{isDownward:X}=ne({$menuBase:ae,$opener:w,menuX:D,menuY:re,menuBaseStyle:me,inflexible:ie});this.setState({isDownward:X})})}componentDidMount(){const{isOpen:w,shouldPreventScrollingPropagation:D}=this.props,{menuBaseRef:{current:re}}=this;w&&setTimeout(this.position),D&&(0,de.sA)((0,de.$)(".content",re)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(w){let{isOpen:D}=w;const{isOpen:re}=this.props;!D&&re&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:w,menu:D}=this;return(0,Y.createPortal)(D,w)}get menu(){const{isOpen:w,mode:D,menuBaseClassName:re,menuClassName:me,menu:ie,menuList:ae,arrowed:X,menuX:U,menuBasedX:R,currentMenuListItemIdx:Q,onSelect:ye}=this.props,{isDownward:Se}=this.state,Ae=(0,de.Hn)(["DropdownMenu",D,w&&"is-open",Se?"is-downward":"is-upward","x-"+U,X&&"arrowed "+(R?"x-menu-based":"x-arrow-based"),me]);return(0,V.jsx)(H,{ref:this.menuBaseRef,className:(0,de.Hn)(["DropdownMenuBase",re]),children:(0,V.jsxs)(Z,{className:Ae,children:[X&&(0,V.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:de.t4.mr}}),(0,V.jsx)("div",{className:"content",children:ae?(0,V.jsx)("ul",{className:"MenuList",children:ae.map((Re,ze)=>(0,V.jsx)("li",{role:"option","data-idx":ze,className:(0,de.Hn)([Re.isDisabled&&"is-disabled",ze===Number(Q)&&"is-active"]),onClick:Re.isDisabled?void 0:ye,children:Re.label||Re},ze))}):ie}),w&&(0,V.jsx)(z.A,{target:document,onClick:(0,z.t)(this.onClickOutside,{capture:!0})}),w&&(0,V.jsx)(z.A,{target:document,onScroll:(0,z.t)(this.position,{capture:!0})})]})})}}d(P,"propTypes",{...j.propTypes,isOpen:L().bool,$opener:L().instanceOf(Element),onSelect:L().func,onClose:L().func})},25384:(Te,le,i)=>{"use strict";i.d(le,{A:()=>ne});var r=i(51044),b=i(66748),v=i.n(b),x=i(74352),A=i(22718),Y=i(21676);const m=Y.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-402fof-0"})(["null"]);var L=i(57464);function z(q,J,Z){return J=de(J),J in q?Object.defineProperty(q,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):q[J]=Z,q}function de(q){var J=ue(q,"string");return typeof J=="symbol"?J:String(J)}function ue(q,J){if(typeof q!="object"||!q)return q;var Z=q[Symbol.toPrimitive];if(Z!==void 0){var H=Z.call(q,J||"default");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(q)}class ne extends r.PureComponent{constructor(){var J;super(...arguments),J=this,z(this,"state",{isTruncated:!1,isDetected:!1}),z(this,"set$ellipsis",Z=>Object.assign(this,{$ellipsis:Z.current})),z(this,"detectTruncation",function(Z){return Z===void 0&&(Z=J.$ellipsis),Z.offsetWidth<Z.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(J){let{children:Z}=J;const{children:H}=this.props,{isDetected:V}=this.state;if(Z!==H)return this.setState({isDetected:!1});if(!V)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:J,to:Z,type:H,max:V,display:d,lang:C,theme:f,noTooltip:g,withTooltip:p,withQuote:N,withPeriod:j,withComma:P,withQuestionMark:B,children:w,...D}=this.props,{isTruncated:re,isDetected:me}=this.state,ie={children:w},ae=me&&(re?"is-truncated":"isnt-truncated"),X={type:Z?"link":"inline",theme:f,className:(0,A.Hn)(["Ellipsis",ae,J,(N||j||P||B)&&"Punctuation",N&&"with-quote",j&&"with-period",P&&"with-comma",B&&"with-question-mark"]),href:Z,"data-type":H,"data-max":V,style:{display:d,maxWidth:isFinite(V)?V+"em":V},content:(p||re)&&!g&&(0,L.jsx)("div",{lang:C,className:"EllipsisTip",...ie}),children:w,setRef:this.set$ellipsis,...D},U=(0,L.jsx)(x.A,{...X});return N||j||P||B?(0,L.jsx)(m,{className:(0,A.Hn)(["Punctuation",N&&"with-quote",j&&"with-period",P&&"with-comma",B&&"with-question-mark",ae]),children:U}):U}}z(ne,"propTypes",{className:v().string,theme:v().oneOf(["core","plain"]),type:v().oneOf(["user","id","email","org","team","app","widget"]),max:v().oneOfType([v().string,v().number]),display:v().oneOf(["inline-block","block"]),lang:v().string,to:v().string,children:v().node,noTooltip:v().bool,withTooltip:v().bool,withQuote:v().bool,withComma:v().bool,withPeriod:v().bool,withQuestionMark:v().bool}),z(ne,"defaultProps",{lang:"en",theme:"core"})},5348:(Te,le,i)=>{"use strict";i.d(le,{eB:()=>ie,Ay:()=>me});var r=i(51044),b=i(60185),v=i(66748),x=i.n(v),A=i(48613),Y=i(60260),m=i.n(Y),L=i(77017),z=i.n(L),de=i(98236),ue=i.n(de),ne=i(17956),q=i.n(ne),J=i(78018),Z=i(25384),H=i(22718),V=i(97383),d=i(21676);const C=d.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-5ate3i-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),f=d.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-5ate3i-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),g=d.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-5ate3i-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var p=i(57464);function N(U,R,Q){return R=j(R),R in U?Object.defineProperty(U,R,{value:Q,enumerable:!0,configurable:!0,writable:!0}):U[R]=Q,U}function j(U){var R=P(U,"string");return typeof R=="symbol"?R:String(R)}function P(U,R){if(typeof U!="object"||!U)return U;var Q=U[Symbol.toPrimitive];if(Q!==void 0){var ye=Q.call(U,R||"default");if(typeof ye!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(U)}const B="IBOT_SELECT_MENU_ROOT",w={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},D=document.getElementById(B)||Object.assign(document.createElement("div"),{id:B}),re=document.body;re.contains(D)||re.appendChild(D);class me extends r.PureComponent{constructor(){super(...arguments),N(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),N(this,"set$select",R=>this.setState({$select:R})),N(this,"open",()=>this.setState({isOpen:!0})),N(this,"close",()=>this.setState({isOpen:!1})),N(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),N(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),N(this,"onChange",async R=>{const{onChange:Q,beforeOnChange:ye}=this.props,Se=()=>{this.close(),Q(R)};if(!ye){this.setState({value:R},Se);return}if(await ye(R)){this.setState({value:R},Se);return}Se()}),N(this,"onSelect",async R=>{let{currentTarget:Q}=R;const{value:ye}=this.props,{canSelect:Se}=this;await this.onChange(Se?Q.dataset.value:ye)})}static getDerivedStateFromProps(R,Q){let{prevProps:ye,value:Se}=Q;return ue()(ye,R)?null:{prevProps:R,value:R.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:R,disabled:Q}=this.props;return R||Q}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:R,readOnly:Q}=this;return!R&&!Q}get displayText(){const{optionList:R,placeholder:Q,optionLabelProp:ye}=this.props,{value:Se}=this.state,Re=(R.find(ze=>z()(ze)&&ze.slice(0).some(Ve=>(0,H.o3)(Ve,Se)))||R).find(ze=>!z()(ze)&&(0,H.o3)(ze,Se));return Re?(0,H.Oi)(Re,ye):Q||w[this.props.lang].select_placeholder}render(){const{size:R,theme:Q,unstyled:ye,className:Se,menuX:Ae}=this.props,{isOpen:Re,$select:ze,value:Ve}=this.state,{isDisabled:$e,readOnly:xt,canSelect:ht}=this,St=(0,H.Hn)([Q==="core"?"CoreSelect":"Select",R,ye&&"unstyled",Se,Re&&"is-open",$e&&"is-disabled",xt&&"readonly"]);return(0,p.jsxs)(C,{className:St,role:"listbox",ref:this.set$select,children:[(0,p.jsx)("button",{type:"button",onClick:this.toggle,disabled:$e,children:(0,p.jsx)(Z.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,p.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,p.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,p.jsx)(ie,{isOpen:Re,...this.props,value:Ve,$select:ze,canSelect:ht,onChange:this.onSelect,onClose:this.close,menuX:Ae})]})}}N(me,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),menuTheme:x().oneOf(["core","plain","check"]),unstyled:x().bool,className:x().string,menuClassName:x().string,lang:x().string,placeholder:x().string,optionList:x().arrayOf(x().oneOfType([x().node,x().shape({label:x().node,value:x().any,isDisabled:x().bool}),x().arrayOf(x().oneOfType([x().node,x().shape({label:x().node,value:x().any,isDisabled:x().bool})]))])).isRequired,value:x().oneOfType([x().number,x().string]),isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func,menuX:x().oneOf(["left","center","right"]),optionLabelProp:x().string,arrowSvg:x().oneOfType([x().string,x().node])}),N(me,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:H.t4.rH});class ie extends r.PureComponent{constructor(){super(...arguments),N(this,"state",{isDownward:!0}),N(this,"portal",(0,H.ep)(D,"SelectMenuPortal")),N(this,"menuBaseRef",(0,r.createRef)()),N(this,"position",R=>{const{$select:Q,menuX:ye}=this.props,{menuBaseRef:{current:Se}}=this;if(R){const Re=m()(R,"target");if(Re&&q()(Re)&&Re.matches(".SelectMenu"))return}const{isDownward:Ae}=(0,V.d)({$menuBase:Se,$opener:Q,menuX:ye,shouldSetMaxHeight:!0});this.setState({isDownward:Ae})}),N(this,"onChange",R=>{const{onChange:Q}=this.props,{isDownward:ye}=this.state,Se=R.currentTarget,Ae=Se.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Se||!Ae)return this.onlose();const{top:Re,bottom:ze}=Se.getBoundingClientRect(),{top:Ve,bottom:$e}=Ae.getBoundingClientRect();return ye&&Re>=Ve||!ye&&ze<=$e?Se.classList.contains("title")?void 0:Q(R):this.onClose()}),N(this,"onClose",()=>{const{onClose:R}=this.props;R()}),N(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:R}}=this,Q=(0,H.$)("li[role=option].is-active",R);Q&&Q.scrollIntoView({block:"start"})}),N(this,"onClickOutside",R=>{let{target:Q}=R;const{$select:ye}=this.props,Se=!D.contains(Q),Ae=Q.closest("label"),Re=Ae&&Ae.contains(ye);Se&&!Re&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:R}}=this;(0,H.sA)((0,H.$)(".SelectMenu",R))}componentDidUpdate(R){let{isOpen:Q}=R;const{isOpen:ye}=this.props;!Q&&ye&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,b.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:R,isDisabled:Q,menuTheme:ye,menuClassName:Se,menuX:Ae,optionList:Re,lang:ze,emptyMsg:Ve,value:$e,canSelect:xt}=this.props,{isDownward:ht}=this.state,St=Re.length===0,Tt=(0,H.Hn)([ye==="core"?"CoreSelectMenu":ye==="check"?"CheckSelectMenu":"SelectMenu",Se,"x-"+Ae,R&&"is-open",ht?"is-downward":"is-upward",Q&&"is-disabled",St&&"is-empty",xt?"can-select":"cant-select"]);return(0,p.jsx)(f,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,p.jsxs)(g,{className:Tt,onTransitionEnd:this.onTransitionEnd,children:[St?(0,p.jsx)("li",{className:"SelectOption empty-msg",children:Ve||w[ze].select_empty_msg}):Re.map((Ct,jt)=>z()(Ct)?(0,p.jsx)(ae,{menuTheme:ye,optionList:Ct,value:$e,onChange:this.onChange},jt):(0,p.jsx)(X,{menuTheme:ye,isActive:(0,H.o3)(Ct,$e),option:Ct,isDisabled:Ct.isDisabled,onChange:this.onChange},jt)),R&&(0,p.jsx)(A.A,{target:document,onClick:(0,A.t)(this.onClickOutside,{capture:!0})}),R&&(0,p.jsx)(A.A,{target:document,onScroll:(0,A.t)(this.position,{capture:!0})})]})})}}N(ie,"propTypes",{...me.propTypes,isOpen:x().bool,canSelect:x().bool,onChange:x().func,onClose:x().func,$select:x().instanceOf(Element)}),N(ie,"defaultProps",{isOpen:!1});function ae(U){let{value:R,optionList:[Q,...ye],menuTheme:Se,onChange:Ae}=U;return(0,p.jsxs)("li",{className:"SelectGroup",children:[(0,p.jsx)(Z.A,{className:"title",onClick:Ae,children:Q}),(0,p.jsx)("ul",{children:ye.map((Re,ze)=>(0,p.jsx)(X,{menuTheme:Se,option:Re,isActive:(0,H.o3)(Re,R),isDisabled:Re.isDisabled,onChange:Ae},ze))})]})}ae.propTypes={optionList:x().array,onChange:x().func,menuTheme:x().string,value:x().string};function X(U){let{option:R,isActive:Q,isDisabled:ye,menuTheme:Se,onChange:Ae}=U;const Re=(0,H.Hn)(["SelectOption",Q&&"is-active",ye&&"is-disabled"]),ze=(0,H.Oi)(R),Ve=(0,H.nE)(R);return(0,p.jsxs)("li",{role:"option","data-value":Ve,className:Re,onClick:ye?void 0:Ae,children:[(0,p.jsx)(Z.A,{children:ze}),Se==="check"&&Q&&(0,p.jsx)(J.A,{name:"check"})]})}X.propTypes={option:x().oneOfType([x().node,x().object]),isActive:x().bool,isDisabled:x().bool,menuTheme:x().string,onChange:x().func}},35736:function(Te){(function(le,i){Te.exports=i()})(this,function(){"use strict";return function(le,i,r){i.prototype.isBetween=function(b,v,x,A){var Y=r(b),m=r(v),L=(A=A||"()")[0]==="(",z=A[1]===")";return(L?this.isAfter(Y,x):!this.isBefore(Y,x))&&(z?this.isBefore(m,x):!this.isAfter(m,x))||(L?this.isBefore(Y,x):!this.isAfter(Y,x))&&(z?this.isAfter(m,x):!this.isBefore(m,x))}}})},54466:function(Te){(function(le,i){Te.exports=i()})(this,function(){"use strict";return function(le,i){i.prototype.isSameOrBefore=function(r,b){return this.isSame(r,b)||this.isBefore(r,b)}}})},36410:Te=>{function le(i,r,b,v){var x=-1,A=i==null?0:i.length;for(v&&A&&(b=i[++x]);++x<A;)b=r(b,i[x],x,i);return b}Te.exports=le},38621:Te=>{var le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function i(r){return r.match(le)||[]}Te.exports=i},52304:Te=>{function le(i){return function(r){return i==null?void 0:i[r]}}Te.exports=le},48843:(Te,le,i)=>{var r=i(36410),b=i(76628),v=i(83453),x="['\u2019]",A=RegExp(x,"g");function Y(m){return function(L){return r(v(b(L).replace(A,"")),m,"")}}Te.exports=Y},32575:(Te,le,i)=>{var r=i(52304),b={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},v=r(b);Te.exports=v},49298:Te=>{var le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function i(r){return le.test(r)}Te.exports=i},32921:Te=>{var le="\\ud800-\\udfff",i="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",v=i+r+b,x="\\u2700-\\u27bf",A="a-z\\xdf-\\xf6\\xf8-\\xff",Y="\\xac\\xb1\\xd7\\xf7",m="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",L="\\u2000-\\u206f",z=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="A-Z\\xc0-\\xd6\\xd8-\\xde",ue="\\ufe0e\\ufe0f",ne=Y+m+L+z,q="['\u2019]",J="["+ne+"]",Z="["+v+"]",H="\\d+",V="["+x+"]",d="["+A+"]",C="[^"+le+ne+H+x+A+de+"]",f="\\ud83c[\\udffb-\\udfff]",g="(?:"+Z+"|"+f+")",p="[^"+le+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",P="["+de+"]",B="\\u200d",w="(?:"+d+"|"+C+")",D="(?:"+P+"|"+C+")",re="(?:"+q+"(?:d|ll|m|re|s|t|ve))?",me="(?:"+q+"(?:D|LL|M|RE|S|T|VE))?",ie=g+"?",ae="["+ue+"]?",X="(?:"+B+"(?:"+[p,N,j].join("|")+")"+ae+ie+")*",U="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Q=ae+ie+X,ye="(?:"+[V,N,j].join("|")+")"+Q,Se=RegExp([P+"?"+d+"+"+re+"(?="+[J,P,"$"].join("|")+")",D+"+"+me+"(?="+[J,P+w,"$"].join("|")+")",P+"?"+w+"+"+re,P+"+"+me,R,U,H,ye].join("|"),"g");function Ae(Re){return Re.match(Se)||[]}Te.exports=Ae},76628:(Te,le,i)=>{var r=i(32575),b=i(67998),v=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x="\\u0300-\\u036f",A="\\ufe20-\\ufe2f",Y="\\u20d0-\\u20ff",m=x+A+Y,L="["+m+"]",z=RegExp(L,"g");function de(ue){return ue=b(ue),ue&&ue.replace(v,r).replace(z,"")}Te.exports=de},17956:(Te,le,i)=>{var r=i(23522),b=i(25627);function v(x){return r(x)&&x.nodeType===1&&!b(x)}Te.exports=v},25627:(Te,le,i)=>{var r=i(22256),b=i(41703),v=i(23522),x="[object Object]",A=Function.prototype,Y=Object.prototype,m=A.toString,L=Y.hasOwnProperty,z=m.call(Object);function de(ue){if(!v(ue)||r(ue)!=x)return!1;var ne=b(ue);if(ne===null)return!0;var q=L.call(ne,"constructor")&&ne.constructor;return typeof q=="function"&&q instanceof q&&m.call(q)==z}Te.exports=de},63924:(Te,le,i)=>{var r=i(48843),b=r(function(v,x,A){return v+(A?"_":"")+x.toLowerCase()});Te.exports=b},83453:(Te,le,i)=>{var r=i(38621),b=i(49298),v=i(67998),x=i(32921);function A(Y,m,L){return Y=v(Y),m=L?void 0:m,m===void 0?b(Y)?x(Y):r(Y):Y.match(m)||[]}Te.exports=A},26114:(Te,le,i)=>{"use strict";var r,b=i(60185);if(1)le.H=b.createRoot,r=b.hydrateRoot;else var v},82928:(Te,le)=>{"use strict";var i;i={value:!0};var r=Object.assign||function(Y){for(var m=1;m<arguments.length;m++){var L=arguments[m];for(var z in L)Object.prototype.hasOwnProperty.call(L,z)&&(Y[z]=L[z])}return Y},b=function(){var m=null,L={},z=function(J){var Z=L[J.type];return Z&&Z(m,J)},de=function(J){if(typeof J.getState!="function"||typeof J.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(m!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return m=J,function(Z){return function(H){return z(H)===!0||Z(H)}}},ue=function(J,Z){if(typeof J!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+J);if(typeof Z!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+J+", "+Z);L[J]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+J),L[J]=Z},ne=function(J){return Object.keys(J).forEach(function(Z){return ue(Z,J[Z])})};return{middleware:de,setEntry:ue,setEntryMap:ne}},v=function(m){if(m===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return m},setState:function(z){return m=z},wrapEntry:function(z){return function(de,ue){return z(m,de,ue)}}}},x=function(m,L){var z=L.getState,de=L.setState;return function(ue,ne){var q=ne.type,J=ne.payload;return q===m&&de(J),z()}},A=function(m,L){var z=L.getState,de=L.setState;return function(ue,ne){var q=ne.type,J=ne.payload;return q===m&&de(r({},z(),J)),z()}};le.RZ=b,le.J$=v,le.Tf=x,i=A},28055:(Te,le,i)=>{"use strict";i.d(le,{Tw:()=>N,HY:()=>C,Zz:()=>p,y$:()=>J,Yl:()=>Z});var r=i(74059);function b(j,P){var B=Object.keys(j);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(j);P&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(j,D).enumerable})),B.push.apply(B,w)}return B}function v(j){for(var P=1;P<arguments.length;P++){var B=arguments[P]!=null?arguments[P]:{};P%2?b(Object(B),!0).forEach(function(w){(0,r.A)(j,w,B[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(B)):b(Object(B)).forEach(function(w){Object.defineProperty(j,w,Object.getOwnPropertyDescriptor(B,w))})}return j}function x(j){return"Minified Redux error #"+j+"; visit https://redux.js.org/Errors?code="+j+" for the full message or use the non-minified dev environment for full errors. "}var A=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Y=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+Y(),REPLACE:"@@redux/REPLACE"+Y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Y()}};function L(j){if(typeof j!="object"||j===null)return!1;for(var P=j;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(j)===P}function z(j){if(j===void 0)return"undefined";if(j===null)return"null";var P=typeof j;switch(P){case"boolean":case"string":case"number":case"symbol":case"function":return P}if(Array.isArray(j))return"array";if(ne(j))return"date";if(ue(j))return"error";var B=de(j);switch(B){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return B}return P.slice(8,-1).toLowerCase().replace(/\s/g,"")}function de(j){return typeof j.constructor=="function"?j.constructor.name:null}function ue(j){return j instanceof Error||typeof j.message=="string"&&j.constructor&&typeof j.constructor.stackTraceLimit=="number"}function ne(j){return j instanceof Date?!0:typeof j.toDateString=="function"&&typeof j.getDate=="function"&&typeof j.setDate=="function"}function q(j){var P=typeof j;return P}function J(j,P,B){var w;if(typeof P=="function"&&typeof B=="function"||typeof B=="function"&&typeof arguments[3]=="function")throw new Error(x(0));if(typeof P=="function"&&typeof B>"u"&&(B=P,P=void 0),typeof B<"u"){if(typeof B!="function")throw new Error(x(1));return B(J)(j,P)}if(typeof j!="function")throw new Error(x(2));var D=j,re=P,me=[],ie=me,ae=!1;function X(){ie===me&&(ie=me.slice())}function U(){if(ae)throw new Error(x(3));return re}function R(Ae){if(typeof Ae!="function")throw new Error(x(4));if(ae)throw new Error(x(5));var Re=!0;return X(),ie.push(Ae),function(){if(Re){if(ae)throw new Error(x(6));Re=!1,X();var Ve=ie.indexOf(Ae);ie.splice(Ve,1),me=null}}}function Q(Ae){if(!L(Ae))throw new Error(x(7));if(typeof Ae.type>"u")throw new Error(x(8));if(ae)throw new Error(x(9));try{ae=!0,re=D(re,Ae)}finally{ae=!1}for(var Re=me=ie,ze=0;ze<Re.length;ze++){var Ve=Re[ze];Ve()}return Ae}function ye(Ae){if(typeof Ae!="function")throw new Error(x(10));D=Ae,Q({type:m.REPLACE})}function Se(){var Ae,Re=R;return Ae={subscribe:function(Ve){if(typeof Ve!="object"||Ve===null)throw new Error(x(11));function $e(){Ve.next&&Ve.next(U())}$e();var xt=Re($e);return{unsubscribe:xt}}},Ae[A]=function(){return this},Ae}return Q({type:m.INIT}),w={dispatch:Q,subscribe:R,getState:U,replaceReducer:ye},w[A]=Se,w}var Z=i.j!=15?J:null;function H(j){typeof console<"u"&&typeof console.error=="function"&&console.error(j);try{throw new Error(j)}catch(P){}}function V(j,P,B,w){var D=Object.keys(P),re=B&&B.type===m.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(D.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!L(j))return"The "+re+' has unexpected type of "'+q(j)+'". Expected argument to be an object with the following '+('keys: "'+D.join('", "')+'"');var me=Object.keys(j).filter(function(ie){return!P.hasOwnProperty(ie)&&!w[ie]});if(me.forEach(function(ie){w[ie]=!0}),!(B&&B.type===m.REPLACE)&&me.length>0)return"Unexpected "+(me.length>1?"keys":"key")+" "+('"'+me.join('", "')+'" found in '+re+". ")+"Expected to find one of the known reducer keys instead: "+('"'+D.join('", "')+'". Unexpected keys will be ignored.')}function d(j){Object.keys(j).forEach(function(P){var B=j[P],w=B(void 0,{type:m.INIT});if(typeof w>"u")throw new Error(x(12));if(typeof B(void 0,{type:m.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(x(13))})}function C(j){for(var P=Object.keys(j),B={},w=0;w<P.length;w++){var D=P[w];typeof j[D]=="function"&&(B[D]=j[D])}var re=Object.keys(B),me,ie;try{d(B)}catch(ae){ie=ae}return function(X,U){if(X===void 0&&(X={}),ie)throw ie;if(0)var R;for(var Q=!1,ye={},Se=0;Se<re.length;Se++){var Ae=re[Se],Re=B[Ae],ze=X[Ae],Ve=Re(ze,U);if(typeof Ve>"u"){var $e=U&&U.type;throw new Error(x(14))}ye[Ae]=Ve,Q=Q||Ve!==ze}return Q=Q||re.length!==Object.keys(X).length,Q?ye:X}}function f(j,P){return function(){return P(j.apply(this,arguments))}}function g(j,P){if(typeof j=="function")return f(j,P);if(typeof j!="object"||j===null)throw new Error(x(16));var B={};for(var w in j){var D=j[w];typeof D=="function"&&(B[w]=f(D,P))}return B}function p(){for(var j=arguments.length,P=new Array(j),B=0;B<j;B++)P[B]=arguments[B];return P.length===0?function(w){return w}:P.length===1?P[0]:P.reduce(function(w,D){return function(){return w(D.apply(void 0,arguments))}})}function N(){for(var j=arguments.length,P=new Array(j),B=0;B<j;B++)P[B]=arguments[B];return function(w){return function(){var D=w.apply(void 0,arguments),re=function(){throw new Error(x(15))},me={getState:D.getState,dispatch:function(){return re.apply(void 0,arguments)}},ie=P.map(function(ae){return ae(me)});return re=p.apply(void 0,ie)(D.dispatch),v(v({},D),{},{dispatch:re})}}}},7043:(Te,le,i)=>{"use strict";i.d(le,{A:()=>b});function r(v,x){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,m){return Y.__proto__=m,Y},r(v,x)}function b(v,x){v.prototype=Object.create(x.prototype),v.prototype.constructor=v,r(v,x)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-171a1a7818b08bf8c4be.js.map